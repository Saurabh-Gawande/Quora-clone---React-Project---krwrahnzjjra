!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=99)}([function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return L})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return ee})),n.d(t,"e",(function(){return M})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return he})),n.d(t,"m",(function(){return H})),n.d(t,"n",(function(){return T})),n.d(t,"o",(function(){return te})),n.d(t,"p",(function(){return p})),n.d(t,"q",(function(){return J})),n.d(t,"r",(function(){return m})),n.d(t,"s",(function(){return oe})),n.d(t,"t",(function(){return $})),n.d(t,"u",(function(){return w})),n.d(t,"v",(function(){return v})),n.d(t,"w",(function(){return b})),n.d(t,"x",(function(){return _})),n.d(t,"y",(function(){return g})),n.d(t,"z",(function(){return de})),n.d(t,"A",(function(){return S})),n.d(t,"B",(function(){return W})),n.d(t,"C",(function(){return A})),n.d(t,"D",(function(){return C})),n.d(t,"E",(function(){return G})),n.d(t,"F",(function(){return O})),n.d(t,"G",(function(){return P})),n.d(t,"H",(function(){return I})),n.d(t,"I",(function(){return k})),n.d(t,"J",(function(){return N})),n.d(t,"K",(function(){return x})),n.d(t,"L",(function(){return R})),n.d(t,"M",(function(){return z})),n.d(t,"N",(function(){return V})),n.d(t,"O",(function(){return U})),n.d(t,"P",(function(){return Q})),n.d(t,"Q",(function(){return X})),n.d(t,"R",(function(){return Z})),n.d(t,"S",(function(){return K})),n.d(t,"T",(function(){return le})),n.d(t,"U",(function(){return ce})),n.d(t,"V",(function(){return B})),n.d(t,"W",(function(){return ue})),n.d(t,"X",(function(){return ie})),n.d(t,"Y",(function(){return se})),n.d(t,"Z",(function(){return ae})),n.d(t,"ab",(function(){return D}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const i=!1,o=!1,s="${JSCORE_VERSION}",a=function(e,t){if(!e)throw c(t)},c=function(e){return new Error("Firebase Database ("+s+") INTERNAL ASSERT FAILED: "+e)},l=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,s=o?e[t+1]:0,a=t+2<e.length,c=a?e[t+2]:0,l=i>>2,u=(3&i)<<4|s>>4;let h=(15&s)<<2|c>>6,d=63&c;a||(d=64,o||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(l(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==s||null==a)throw Error();const c=i<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},h=function(e){const t=l(e);return u.encodeByteArray(t,!0)},d=function(e){return h(e).replace(/\./g,"")},f=function(e){try{return u.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function p(e){return m(void 0,e)}function m(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=m(e[n],t[n]));return e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function g(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y=()=>{try{return g().__FIREBASE_DEFAULTS__||(()=>{if(void 0===r||void 0===r.env)return;const e=r.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&f(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: "+e)}},v=e=>{var t,n;return null===(n=null===(t=y())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},b=e=>{const t=v(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},w=()=>{var e;return null===(e=y())||void 0===e?void 0:e.config},_=e=>{var t;return null===(t=y())||void 0===t?void 0:t["_"+e]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class E{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[d(JSON.stringify({alg:"none",type:"JWT"})),d(JSON.stringify(o)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function I(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S())}function k(){var t;const n=null===(t=y())||void 0===t?void 0:t.forceEnvironment;if("node"===n)return!0;if("browser"===n)return!1;try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(e){return!1}}function A(){return"object"==typeof self&&self.self===self}function C(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function x(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function O(){const e=S();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function N(){return!0===i||!0===o}function R(){return!k()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P(){try{return"object"==typeof indexedDB}catch(e){return!1}}function D(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}function M(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,j.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,L.prototype.create)}}class L{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(F,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new j(r,s,n)}}const F=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(e){return JSON.parse(e)}function B(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=U(f(o[0])||""),n=U(f(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},V=function(e){const t=q(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},z=function(e){const t=q(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},W=function(e){const t=q(e).claims;return"object"==typeof t&&!0===t.admin};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function H(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function K(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function G(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Q(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function J(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Y(n)&&Y(o)){if(!J(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function Y(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function X(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Z(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function $(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(r=c^s&(a^c),i=1518500249):(r=s^a^c,i=1859775393):e<60?(r=s&a|c&(s|a),i=2400959708):(r=s^a^c,i=3395469782);const t=(o<<5|o>>>27)+r+l+i+n[e]&4294967295;l=c,c=a,a=4294967295&(s<<30|s>>>2),s=o,o=t}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}}function te(e,t){const n=new ne(e,t);return n.subscribe.bind(n)}class ne{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=re),void 0===r.error&&(r.error=re),void 0===r.complete&&(r.complete=re);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function re(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}};function oe(e,t){return`${e} failed: ${t} argument `}function se(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(oe(e,t)+"must be a valid function.")}function ae(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(oe(e,t)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,a(r<e.length,"Surrogate pair missing trail surrogate.");i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},le=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ue=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})};function he(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function de(e){return e&&e._delegate?e._delegate:e}}).call(this,n(28),n(27))},function(e,t,n){"use strict";e.exports=n(52)},function(e,t,n){"use strict";n.r(t),n.d(t,"SDK_VERSION",(function(){return T})),n.d(t,"_DEFAULT_ENTRY_NAME",(function(){return u})),n.d(t,"_addComponent",(function(){return p})),n.d(t,"_addOrOverwriteComponent",(function(){return m})),n.d(t,"_apps",(function(){return d})),n.d(t,"_clearComponents",(function(){return b})),n.d(t,"_components",(function(){return f})),n.d(t,"_getProvider",(function(){return y})),n.d(t,"_registerComponent",(function(){return g})),n.d(t,"_removeServiceInstance",(function(){return v})),n.d(t,"deleteApp",(function(){return A})),n.d(t,"getApp",(function(){return I})),n.d(t,"getApps",(function(){return k})),n.d(t,"initializeApp",(function(){return S})),n.d(t,"onLog",(function(){return x})),n.d(t,"registerVersion",(function(){return C})),n.d(t,"setLogLevel",(function(){return O}));var r=n(6),i=n(7),o=n(0);n.d(t,"FirebaseError",(function(){return o.c}));var s=n(13);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const c="@firebase/app",l=new i.b("@firebase/app"),u="[DEFAULT]",h={[c]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},d=new Map,f=new Map;function p(e,t){try{e.container.addComponent(t)}catch(n){l.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function m(e,t){e.container.addOrOverwriteComponent(t)}function g(e){const t=e.name;if(f.has(t))return l.debug(`There were multiple attempts to register component ${t}.`),!1;f.set(t,e);for(const t of d.values())p(t,e);return!0}function y(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function v(e,t,n=u){y(e,t).clearInstance(n)}function b(){f.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},_=new o.b("app","Firebase",w);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class E{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T="9.17.1";function S(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const i=Object.assign({name:u,automaticDataCollectionEnabled:!1},t),s=i.name;if("string"!=typeof s||!s)throw _.create("bad-app-name",{appName:String(s)});if(n||(n=Object(o.u)()),!n)throw _.create("no-options");const a=d.get(s);if(a){if(Object(o.q)(n,a.options)&&Object(o.q)(i,a.config))return a;throw _.create("duplicate-app",{appName:s})}const c=new r.b(s);for(const e of f.values())c.addComponent(e);const l=new E(n,i,c);return d.set(s,l),l}function I(e=u){const t=d.get(e);if(!t&&e===u)return S();if(!t)throw _.create("no-app",{appName:e});return t}function k(){return Array.from(d.values())}async function A(e){const t=e.name;d.has(t)&&(d.delete(t),await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function C(e,t,n){var i;let o=null!==(i=h[e])&&void 0!==i?i:e;n&&(o+="-"+n);const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${o}" with version "${t}":`];return s&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void l.warn(e.join(" "))}g(new r.a(o+"-version",()=>({library:o,version:t}),"VERSION"))}function x(e,t){if(null!==e&&"function"!=typeof e)throw _.create("invalid-log-argument");Object(i.d)(e,t)}function O(e){Object(i.c)(e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N="firebase-heartbeat-store";let R=null;function P(){return R||(R=Object(s.b)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(N)}}}).catch(e=>{throw _.create("idb-open",{originalErrorMessage:e.message})})),R}async function D(e,t){try{const n=(await P()).transaction(N,"readwrite"),r=n.objectStore(N);return await r.put(t,M(e)),n.done}catch(e){if(e instanceof o.c)l.warn(e.message);else{const t=_.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});l.warn(t.message)}}}function M(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new F(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=L();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=L(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),U(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),U(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Object(o.k)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function L(){return(new Date).toISOString().substring(0,10)}class F{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Object(o.G)()&&Object(o.ab)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{return(await P()).transaction(N).objectStore(N).get(M(e))}catch(e){if(e instanceof o.c)l.warn(e.message);else{const t=_.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});l.warn(t.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return D(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return D(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function U(e){return Object(o.k)(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B;B="",g(new r.a("platform-logger",e=>new a(e),"PRIVATE")),g(new r.a("heartbeat",e=>new j(e),"PRIVATE")),C(c,"0.9.3",B),C(c,"0.9.3","esm2017"),C("fire-js","")},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return be})),n.d(t,"c",(function(){return xe})),n.d(t,"d",(function(){return Pe})),n.d(t,"e",(function(){return Me})),n.d(t,"f",(function(){return De})),n.d(t,"g",(function(){return Ie})),n.d(t,"h",(function(){return Re})),n.d(t,"i",(function(){return mn})),n.d(t,"j",(function(){return sr})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return cn})),n.d(t,"m",(function(){return je})),n.d(t,"n",(function(){return Le})),n.d(t,"o",(function(){return Fe})),n.d(t,"p",(function(){return _})),n.d(t,"q",(function(){return pe})),n.d(t,"r",(function(){return g})),n.d(t,"s",(function(){return Bt})),n.d(t,"t",(function(){return I})),n.d(t,"u",(function(){return Ln})),n.d(t,"v",(function(){return On})),n.d(t,"w",(function(){return $})),n.d(t,"y",(function(){return st})),n.d(t,"z",(function(){return jt})),n.d(t,"A",(function(){return ir})),n.d(t,"B",(function(){return Ft})),n.d(t,"C",(function(){return at})),n.d(t,"D",(function(){return ot})),n.d(t,"E",(function(){return ge})),n.d(t,"G",(function(){return lt})),n.d(t,"H",(function(){return h})),n.d(t,"I",(function(){return pt})),n.d(t,"J",(function(){return At})),n.d(t,"K",(function(){return Ot})),n.d(t,"L",(function(){return jn})),n.d(t,"M",(function(){return Z})),n.d(t,"N",(function(){return Xt})),n.d(t,"O",(function(){return dt})),n.d(t,"P",(function(){return Ze})),n.d(t,"Q",(function(){return hn})),n.d(t,"R",(function(){return In})),n.d(t,"S",(function(){return Mn})),n.d(t,"T",(function(){return Pt})),n.d(t,"U",(function(){return $e})),n.d(t,"V",(function(){return dn})),n.d(t,"W",(function(){return Sn})),n.d(t,"X",(function(){return Dn})),n.d(t,"Y",(function(){return mt})),n.d(t,"Z",(function(){return it})),n.d(t,"ab",(function(){return ht})),n.d(t,"bb",(function(){return Ve})),n.d(t,"cb",(function(){return Xe})),n.d(t,"db",(function(){return et})),n.d(t,"eb",(function(){return ut})),n.d(t,"fb",(function(){return ft})),n.d(t,"gb",(function(){return un})),n.d(t,"hb",(function(){return Tn})),n.d(t,"ib",(function(){return Pn})),n.d(t,"jb",(function(){return Ke})),n.d(t,"kb",(function(){return vt})),n.d(t,"lb",(function(){return bt})),n.d(t,"mb",(function(){return pn})),n.d(t,"nb",(function(){return yt})),n.d(t,"ob",(function(){return gt})),n.d(t,"pb",(function(){return ct})),n.d(t,"x",(function(){return _r})),n.d(t,"F",(function(){return br}));var r=n(0),i=n(2),o=n(7);function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var a=n(6);
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},l={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function u(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},d=u,f=new r.b("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),p=new o.b("@firebase/auth");function m(e,...t){p.logLevel<=o.a.ERROR&&p.error(`Auth (${i.SDK_VERSION}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(e,...t){throw w(e,...t)}function y(e,...t){return w(e,...t)}function v(e,t,n){const i=Object.assign(Object.assign({},d()),{[t]:n});return new r.b("auth","Firebase",i).create(t,{appName:e.name})}function b(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&g(e,"argument-error"),v(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function w(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return f.create(e,...t)}function _(e,t,...n){if(!e)throw w(t,...n)}function E(e){const t="INTERNAL ASSERTION FAILED: "+e;throw m(t),new Error(t)}function T(e,t){e||E(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S=new Map;function I(e){T(e instanceof Function,"Expected a class definition");let t=S.get(e);return t?(T(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,S.set(e,t),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function k(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function A(){return"http:"===C()||"https:"===C()}function C(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class x{constructor(e,t){this.shortDelay=e,this.longDelay=t,T(t>e,"Short delay should be less than long delay!"),this.isMobile=Object(r.H)()||Object(r.K)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(A()||Object(r.D)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(e,t){T(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void E("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void E("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void E("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},P=new x(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function M(e,t,n,i,o={}){return j(e,o,async()=>{let o={},s={};i&&("GET"===t?s=i:o={body:JSON.stringify(i)});const a=Object(r.Q)(Object.assign({key:e.config.apiKey},s)).slice(1),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),N.fetch()(F(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},o))})}async function j(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},R),t);try{const t=new U(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw B(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const t=r.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw B(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw B(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw B(e,"user-disabled",o);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw v(e,a,s);g(e,a)}}catch(t){if(t instanceof r.c)throw t;g(e,"network-request-failed")}}async function L(e,t,n,r,i={}){const o=await M(e,t,n,r,i);return"mfaPendingCredential"in o&&g(e,"multi-factor-auth-required",{_serverResponse:o}),o}function F(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?O(e.config,i):`${e.config.apiScheme}://${i}`}class U{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(y(this.auth,"network-request-failed")),P.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function B(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=y(e,t,r);return i.customData._tokenResponse=n,i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function q(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V(e){return 1e3*Number(e)}function z(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return m("JWT malformed, contained fewer than 3 sections"),null;try{const e=Object(r.i)(n);return e?JSON.parse(e):(m("Failed to decode base64 JWT payload"),null)}catch(e){return m("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function W(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof r.c&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class H{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=q(this.lastLoginAt),this.creationTime=q(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G(e){var t;const n=e.auth,r=await e.getIdToken(),i=await W(e,async function(e,t){return M(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));_(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map(e=>{var{providerId:t}=e,n=s(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const c=(l=e.providerData,u=a,[...l.filter(e=>!u.some(t=>t.providerId===e.providerId)),...u]);var l,u;const h=e.isAnonymous,d=!(e.email&&o.passwordHash||(null==c?void 0:c.length)),f=!!h&&d,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new K(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(e,p)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Q{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_(e.idToken,"internal-error"),_(void 0!==e.idToken,"internal-error"),_(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=z(e);return _(t,"internal-error"),_(void 0!==t.exp,"internal-error"),_(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return _(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){const n=await j(e,{},async()=>{const n=Object(r.Q)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=F(e,i,"/v1/token","key="+o),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",N.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Q;return n&&(_("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(_("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(_("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Q,this.toJSON())}_performRefresh(){return E("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(e,t){_("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Y{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=s(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new H(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new K(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await W(this,this.stsTokenManager.getToken(this.auth,e));return _(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Object(r.z)(e),i=await n.getIdToken(t),o=z(i);_(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s="object"==typeof o.firebase?o.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:o,token:i,authTime:q(V(o.auth_time)),issuedAtTime:q(V(o.iat)),expirationTime:q(V(o.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Object(r.z)(e);await G(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Y(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await G(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await W(this,async function(e,t){return M(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:T}=t;_(v&&T,e,"internal-error");const S=Q.fromJSON(this.name,T);_("string"==typeof v,e,"internal-error"),J(u,e.name),J(h,e.name),_("boolean"==typeof b,e,"internal-error"),_("boolean"==typeof w,e,"internal-error"),J(d,e.name),J(f,e.name),J(p,e.name),J(m,e.name),J(g,e.name),J(y,e.name);const I=new Y({uid:v,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return E&&Array.isArray(E)&&(I.providerData=E.map(e=>Object.assign({},e))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t,n=!1){const r=new Q;r.updateFromServerResponse(t);const i=new Y({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await G(i),i}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}X.type="NONE";const Z=X;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $(e,t,n){return`firebase:${e}:${t}:${n}`}class ee{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=$(this.userKey,r.apiKey,i),this.fullPersistenceKey=$("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Y._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ee(I(Z),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||I(Z);const o=$(n,e.config.apiKey,e.name);let s=null;for(const n of t)try{const t=await n._get(o);if(t){const r=Y._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(e){}})),new ee(i,e,n)):new ee(i,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(oe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ne(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ae(t))return"Blackberry";if(ce(t))return"Webos";if(re(t))return"Safari";if((t.includes("chrome/")||ie(t))&&!t.includes("edge/"))return"Chrome";if(se(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function ne(e=Object(r.A)()){return/firefox\//i.test(e)}function re(e=Object(r.A)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ie(e=Object(r.A)()){return/crios\//i.test(e)}function oe(e=Object(r.A)()){return/iemobile/i.test(e)}function se(e=Object(r.A)()){return/android/i.test(e)}function ae(e=Object(r.A)()){return/blackberry/i.test(e)}function ce(e=Object(r.A)()){return/webos/i.test(e)}function le(e=Object(r.A)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ue(e=Object(r.A)()){return le(e)||se(e)||ce(e)||ae(e)||/windows phone/i.test(e)||oe(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function he(e,t=[]){let n;switch(e){case"Browser":n=te(Object(r.A)());break;case"Worker":n=`${te(Object(r.A)())}-${e}`;break;default:n=e}const o=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${i.SDK_VERSION}/${o}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new me(this),this.idTokenSubscription=new me(this),this.beforeStateQueue=new de(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=I(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ee.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null==s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await G(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Object(r.z)(e):null;return t&&_(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(I(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new r.b("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&I(e)||this._popupRedirectResolver;_(t,this,"argument-error"),this.redirectPersistenceManager=await ee.create(this,[I(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return _(o,this,"internal-error"),o.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=he(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function pe(e){return Object(r.z)(e)}class me{constructor(e){this.auth=e,this.observer=null,this.addObserver=Object(r.o)(e=>this.observer=e)}get next(){return _(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ge(e,t,n){const r=pe(e);_(r._canInitEmulator,r,"emulator-config-failed"),_(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),o=ye(t),{host:s,port:a}=function(e){const t=ye(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ve(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ve(t)}}}(t),c=null===a?"":":"+a;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function ye(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ve(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class be{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return E("not implemented")}_getIdTokenResponse(e){return E("not implemented")}_linkToIdToken(e,t){return E("not implemented")}_getReauthenticationResolver(e){return E("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function we(e,t){return M(e,"POST","/v1/accounts:resetPassword",D(e,t))}async function _e(e,t){return M(e,"POST","/v1/accounts:update",t)}async function Ee(e,t){return M(e,"POST","/v1/accounts:sendOobCode",D(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Te extends be{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Te(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Te(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(e,t){return L(e,"POST","/v1/accounts:signInWithPassword",D(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))}(e,{email:this._email,oobCode:this._password});default:g(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return _e(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:g(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Se(e,t){return L(e,"POST","/v1/accounts:signInWithIdp",D(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie extends be{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ie(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):g("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=s(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Ie(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Se(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Se(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Se(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(r.Q)(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke={USER_NOT_FOUND:"user-not-found"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ae extends be{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ae({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ae({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await L(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t));if(n.temporaryProof)throw B(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ke)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ae({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){var t,n,i,o,s,a;const c=Object(r.R)(Object(r.t)(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(n=c.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);_(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Object(r.R)(Object(r.t)(e)).link,n=t?Object(r.R)(Object(r.t)(t)).deep_link_id:null,i=Object(r.R)(Object(r.t)(e)).deep_link_id;return(i?Object(r.R)(Object(r.t)(i)).link:null)||i||n||t||e}(e);try{return new Ce(t)}catch(e){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class xe{constructor(){this.providerId=xe.PROVIDER_ID}static credential(e,t){return Te._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ce.parseLink(t);return _(n,"argument-error"),Te._fromEmailAndCode(e,n.code,n.tenantId)}}xe.PROVIDER_ID="password",xe.EMAIL_PASSWORD_SIGN_IN_METHOD="password",xe.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Oe{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne extends Oe{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Re extends Ne{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return _("providerId"in t&&"signInMethod"in t,"argument-error"),Ie._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return _(e.idToken||e.accessToken,"argument-error"),Ie._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Re.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Re.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:o,providerId:s}=e;if(!(n||r||t||i))return null;if(!s)return null;try{return new Re(s)._credential({idToken:t,accessToken:n,nonce:o,pendingToken:i})}catch(e){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe extends Ne{constructor(){super("facebook.com")}static credential(e){return Ie._fromParams({providerId:Pe.PROVIDER_ID,signInMethod:Pe.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pe.credentialFromTaggedObject(e)}static credentialFromError(e){return Pe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Pe.credential(e.oauthAccessToken)}catch(e){return null}}}Pe.FACEBOOK_SIGN_IN_METHOD="facebook.com",Pe.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class De extends Ne{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ie._fromParams({providerId:De.PROVIDER_ID,signInMethod:De.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return De.credentialFromTaggedObject(e)}static credentialFromError(e){return De.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return De.credential(t,n)}catch(e){return null}}}De.GOOGLE_SIGN_IN_METHOD="google.com",De.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Me extends Ne{constructor(){super("github.com")}static credential(e){return Ie._fromParams({providerId:Me.PROVIDER_ID,signInMethod:Me.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Me.credentialFromTaggedObject(e)}static credentialFromError(e){return Me.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Me.credential(e.oauthAccessToken)}catch(e){return null}}}Me.GITHUB_SIGN_IN_METHOD="github.com",Me.PROVIDER_ID="github.com";class je extends be{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Se(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Se(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Se(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new je(n,i):null}static _create(e,t){return new je(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le extends Oe{constructor(e){_(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Le.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Le.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=je.fromJSON(e);return _(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return je._create(n,t)}catch(e){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe extends Ne{constructor(){super("twitter.com")}static credential(e,t){return Ie._fromParams({providerId:Fe.PROVIDER_ID,signInMethod:Fe.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fe.credentialFromTaggedObject(e)}static credentialFromError(e){return Fe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Fe.credential(t,n)}catch(e){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Ue(e,t){return L(e,"POST","/v1/accounts:signUp",D(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fe.TWITTER_SIGN_IN_METHOD="twitter.com",Fe.PROVIDER_ID="twitter.com";class Be{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await Y._fromIdTokenResponse(e,n,r),o=qe(n);return new Be({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=qe(n);return new Be({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function qe(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ve(e){var t;const n=pe(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Be({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Ue(n,{returnSecureToken:!0}),i=await Be._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze extends r.c{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ze.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ze(e,t,n,r)}}function We(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw ze._fromErrorAndOperation(e,n,t,r);throw n})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ke(e,t){const n=Object(r.z)(e);await Qe(!0,n,t);const{providerUserInfo:i}=await async function(e,t){return M(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),o=He(i||[]);return n.providerData=n.providerData.filter(e=>o.has(e.providerId)),o.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Ge(e,t,n=!1){const r=await W(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Be._forOperation(e,"link",r)}async function Qe(e,t,n){await G(t);const r=!1===e?"provider-already-linked":"no-such-provider";_(He(t.providerData).has(n)===e,t.auth,r)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Je(e,t,n=!1){const{auth:r}=e;try{const i=await W(e,We(r,"reauthenticate",t,e),n);_(i.idToken,r,"internal-error");const o=z(i.idToken);_(o,r,"internal-error");const{sub:s}=o;return _(e.uid===s,r,"user-mismatch"),Be._forOperation(e,"reauthenticate",i)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&g(r,"user-mismatch"),e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ye(e,t,n=!1){const r=await We(e,"signIn",t),i=await Be._fromIdTokenResponse(e,"signIn",r);return n||await e._updateCurrentUser(i.user),i}async function Xe(e,t){return Ye(pe(e),t)}async function Ze(e,t){const n=Object(r.z)(e);return await Qe(!1,n,t.providerId),Ge(n,t)}async function $e(e,t){return Je(Object(r.z)(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function et(e,t){const n=pe(e),r=await async function(e,t){return L(e,"POST","/v1/accounts:signInWithCustomToken",D(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Be._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?nt._fromServerResponse(e,t):g(e,"internal-error")}}class nt extends tt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new nt(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(e,t,n){var r;_((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),_(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(_(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(_(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function it(e,t,n){const i=Object(r.z)(e),o={requestType:"PASSWORD_RESET",email:t};n&&rt(i,o,n),await async function(e,t){return Ee(e,t)}(i,o)}async function ot(e,t,n){await we(Object(r.z)(e),{oobCode:t,newPassword:n})}async function st(e,t){await async function(e,t){return M(e,"POST","/v1/accounts:update",D(e,t))}(Object(r.z)(e),{oobCode:t})}async function at(e,t){const n=Object(r.z)(e),i=await we(n,{oobCode:t}),o=i.requestType;switch(_(o,n,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_(i.mfaInfo,n,"internal-error");default:_(i.email,n,"internal-error")}let s=null;return i.mfaInfo&&(s=tt._fromServerResponse(pe(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:s},operation:o}}async function ct(e,t){const{data:n}=await at(Object(r.z)(e),t);return n.email}async function lt(e,t,n){const r=pe(e),i=await Ue(r,{returnSecureToken:!0,email:t,password:n}),o=await Be._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}function ut(e,t,n){return Xe(Object(r.z)(e),xe.credential(t,n))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ht(e,t,n){const i=Object(r.z)(e),o={requestType:"EMAIL_SIGNIN",email:t};_(n.handleCodeInApp,i,"argument-error"),n&&rt(i,o,n),await async function(e,t){return Ee(e,t)}(i,o)}function dt(e,t){const n=Ce.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}async function ft(e,t,n){const i=Object(r.z)(e),o=xe.credentialWithLink(t,n||k());return _(o._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Xe(i,o)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function pt(e,t){const n={identifier:t,continueUri:A()?k():"http://localhost"},{signinMethods:i}=await async function(e,t){return M(e,"POST","/v1/accounts:createAuthUri",D(e,t))}(Object(r.z)(e),n);return i||[]}async function mt(e,t){const n=Object(r.z)(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&rt(n.auth,i,t);const{email:o}=await async function(e,t){return Ee(e,t)}(n.auth,i);o!==e.email&&await e.reload()}async function gt(e,t,n){const i=Object(r.z)(e),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&rt(i.auth,o,n);const{email:s}=await async function(e,t){return Ee(e,t)}(i.auth,o);s!==e.email&&await e.reload()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function yt(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const i=Object(r.z)(e),o={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},s=await W(i,async function(e,t){return M(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}function vt(e,t){return wt(Object(r.z)(e),t,null)}function bt(e,t){return wt(Object(r.z)(e),null,t)}async function wt(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await W(e,_e(r,i));await e._updateTokensIfNecessary(o,!0)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class Et extends _t{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Tt extends _t{constructor(e,t){super(e,"facebook.com",t)}}class St extends Et{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class It extends _t{constructor(e,t){super(e,"google.com",t)}}class kt extends Et{constructor(e,t,n){super(e,"twitter.com",t,n)}}function At(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=z(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r){return new _t(o,"anonymous"!==r&&"custom"!==r?r:null)}}if(!r)return null;switch(r){case"facebook.com":return new Tt(o,i);case"github.com":return new St(o,i);case"google.com":return new It(o,i);case"twitter.com":return new kt(o,i,e.screenName||null);case"custom":case"anonymous":return new _t(o,null);default:return new _t(o,r,i)}}(n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new Ct("enroll",e,t)}static _fromMfaPendingCredential(e){return new Ct("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Ct._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Ct._fromIdtoken(e.multiFactorSession.idToken)}return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=pe(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map(e=>tt._fromServerResponse(n,e));_(r.mfaPendingCredential,n,"internal-error");const o=Ct._fromMfaPendingCredential(r.mfaPendingCredential);return new xt(o,i,async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Be._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return _(t.user,n,"internal-error"),Be._forOperation(t.user,t.operationType,s);default:g(n,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function Ot(e,t){var n;const i=Object(r.z)(e),o=t;return _(t.customData.operationType,i,"argument-error"),_(null===(n=o.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),xt._fromError(i,o)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>tt._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new Nt(e)}async getSession(){return Ct._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,r=await this.getSession(),i=await W(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await W(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},M(r,"POST","/v2/accounts/mfaEnrollment:withdraw",D(r,i))));this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(e){throw e}var r,i}}const Rt=new WeakMap;function Pt(e){const t=Object(r.z)(e);return Rt.has(t)||Rt.set(t,Nt._fromUser(t)),Rt.get(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Dt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt extends Dt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Object(r.A)();return re(e)||le(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=ue(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);Object(r.F)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Mt.type="LOCAL";const jt=Mt;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt extends Dt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Lt.type="SESSION";const Ft=Lt;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ut{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Ut(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Bt(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ut.receivers=[];class qt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((s,a)=>{const c=Bt("",20);r.port1.start();const l=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function zt(){return void 0!==Vt().WorkerGlobalScope&&"function"==typeof Vt().importScripts}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Wt="firebaseLocalStorageDb";class Ht{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Kt(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly").objectStore("firebaseLocalStorage")}function Gt(){const e=indexedDB.open(Wt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains("firebaseLocalStorage")?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Wt);return new Ht(e).toPromise()}(),t(await Gt()))})})}async function Qt(e,t,n){const r=Kt(e,!0).put({fbase_key:t,value:n});return new Ht(r).toPromise()}function Jt(e,t){const n=Kt(e,!0).delete(t);return new Ht(n).toPromise()}class Yt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Gt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ut._getInstance(zt()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new qt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gt();return await Qt(e,"__sak","1"),await Jt(e,"__sak"),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qt(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Kt(e,!1).get(t),r=await new Ht(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Jt(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Kt(e,!1).getAll();return new Ht(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Yt.type="LOCAL";const Xt=Yt;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(e){return new Promise((t,n)=>{const r=document.createElement("script");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var i,o;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=y("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(o=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==o?o:document).appendChild(r)})}function $t(e){return`__${e}${Math.floor(1e6*Math.random())}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.auth=e,this.counter=1e12,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new tn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||1e12;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||1e12;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||1e12;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class tn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;_(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const nn=$t("rcb"),rn=new x(3e4,6e4);class on{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Vt().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return _(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Vt().grecaptcha):new Promise((n,i)=>{const o=Vt().setTimeout(()=>{i(y(e,"network-request-failed"))},rn.get());Vt()[nn]=()=>{Vt().clearTimeout(o),delete Vt()[nn];const r=Vt().grecaptcha;if(!r)return void i(y(e,"internal-error"));const s=r.render;r.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(r)};Zt("https://www.google.com/recaptcha/api.js??"+Object(r.Q)({onload:nn,render:"explicit",hl:t})).catch(()=>{clearTimeout(o),i(y(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Vt().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class sn{async load(e){return new en(e)}clearedOneInstance(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an={theme:"light",type:"image"};class cn{constructor(e,t=Object.assign({},an),n){this.parameters=t,this.type="recaptcha",this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pe(n),this.isInvisible="invisible"===this.parameters.size,_("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;_(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new sn:new on,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise(n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){_(!this.parameters.sitekey,this.auth,"argument-error"),_(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=Vt()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){_(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){_(A()&&!zt(),this.auth,"internal-error"),await function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e){return(await M(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);_(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return _(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ln{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ae._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function un(e,t,n){const i=pe(e),o=await fn(i,t,Object(r.z)(n));return new ln(o,e=>Xe(i,e))}async function hn(e,t,n){const i=Object(r.z)(e);await Qe(!1,i,"phone");const o=await fn(i.auth,t,Object(r.z)(n));return new ln(o,e=>Ze(i,e))}async function dn(e,t,n){const i=Object(r.z)(e),o=await fn(i.auth,t,Object(r.z)(n));return new ln(o,e=>$e(i,e))}async function fn(e,t,n){var r;const i=await n.verify();try{let o;if(_("string"==typeof i,e,"argument-error"),_("recaptcha"===n.type,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){_("enroll"===t.type,e,"internal-error");return(await function(e,t){return M(e,"POST","/v2/accounts/mfaEnrollment:start",D(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo}{_("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;_(n,e,"missing-multi-factor-info");return(await function(e,t){return M(e,"POST","/v2/accounts/mfaSignIn:start",D(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return M(e,"POST","/v1/accounts:sendVerificationCode",D(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}async function pn(e,t){await Ge(Object(r.z)(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.providerId=mn.PROVIDER_ID,this.auth=pe(e)}verifyPhoneNumber(e,t){return fn(this.auth,e,Object(r.z)(t))}static credential(e,t){return Ae._fromVerification(e,t)}static credentialFromResult(e){const t=e;return mn.credentialFromTaggedObject(t)}static credentialFromError(e){return mn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Ae._fromTokenResponse(t,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function gn(e,t){return t?I(t):(_(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.PROVIDER_ID="phone",mn.PHONE_SIGN_IN_METHOD="phone";class yn extends be{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Se(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Se(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Se(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vn(e){return Ye(e.auth,new yn(e),e.bypassAuthState)}function bn(e){const{auth:t,user:n}=e;return _(n,t,"internal-error"),Je(n,new yn(e),e.bypassAuthState)}async function wn(e){const{auth:t,user:n}=e;return _(n,t,"internal-error"),Ge(n,new yn(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vn;case"linkViaPopup":case"linkViaRedirect":return wn;case"reauthViaPopup":case"reauthViaRedirect":return bn;default:g(this.auth,"internal-error")}}resolve(e){T(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){T(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En=new x(2e3,1e4);async function Tn(e,t,n){const r=pe(e);b(e,t,Oe);const i=gn(r,n);return new kn(r,"signInViaPopup",t,i).executeNotNull()}async function Sn(e,t,n){const i=Object(r.z)(e);b(i.auth,t,Oe);const o=gn(i.auth,n);return new kn(i.auth,"reauthViaPopup",t,o,i).executeNotNull()}async function In(e,t,n){const i=Object(r.z)(e);b(i.auth,t,Oe);const o=gn(i.auth,n);return new kn(i.auth,"linkViaPopup",t,o,i).executeNotNull()}class kn extends _n{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,kn.currentPopupAction&&kn.currentPopupAction.cancel(),kn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _(e,this.auth,"internal-error"),e}async onExecution(){T(1===this.filter.length,"Popup operations only handle one event");const e=Bt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(y(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(y(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(y(this.auth,"popup-closed-by-user"))},2e3):this.pollId=window.setTimeout(e,En.get())};e()}}kn.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const An=new Map;class Cn extends _n{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=An.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Rn(t),r=Nn(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}An.set(this.auth._key(),e)}return this.bypassAuthState||An.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function xn(e,t){return Nn(e)._set(Rn(t),"true")}function On(e,t){An.set(e._key(),t)}function Nn(e){return I(e._redirectPersistence)}function Rn(e){return $("pendingRedirect",e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(e,t,n){return async function(e,t,n){const r=pe(e);b(e,t,Oe),await r._initializationPromise;const i=gn(r,n);return await xn(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Dn(e,t,n){return async function(e,t,n){const i=Object(r.z)(e);b(i.auth,t,Oe),await i.auth._initializationPromise;const o=gn(i.auth,n);await xn(o,i.auth);const s=await Fn(i);return o._openRedirect(i.auth,t,"reauthViaRedirect",s)}(e,t,n)}function Mn(e,t,n){return async function(e,t,n){const i=Object(r.z)(e);b(i.auth,t,Oe),await i.auth._initializationPromise;const o=gn(i.auth,n);await Qe(!1,i,t.providerId),await xn(o,i.auth);const s=await Fn(i);return o._openRedirect(i.auth,t,"linkViaRedirect",s)}(e,t,n)}async function jn(e,t){return await pe(e)._initializationPromise,Ln(e,t,!1)}async function Ln(e,t,n=!1){const r=pe(e),i=gn(r,t),o=new Cn(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function Fn(e){const t=Bt(e.uid+":::");return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qn(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!qn(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(y(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bn(e))}saveEventToCache(e){this.cachedEventUids.add(Bn(e)),this.lastProcessedEventTime=Date.now()}}function Bn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function qn({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function Vn(e,t={}){return M(e,"GET","/v1/projects",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wn=/^https?/;function Hn(e){const t=k(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Wn.test(n))return!1;if(zn.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new x(3e4,6e4);function Gn(){const e=Vt().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Qn=null;function Jn(e){return Qn=Qn||function(e){return new Promise((t,n)=>{var r,i,o;function s(){Gn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Gn(),n(y(e,"network-request-failed"))},timeout:Kn.get()})}if(null===(i=null===(r=Vt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Vt().gapi)||void 0===o?void 0:o.load)){const t=$t("iframefcb");return Vt()[t]=()=>{gapi.load?s():n(y(e,"network-request-failed"))},Zt("https://apis.google.com/js/api.js?onload="+t).catch(e=>n(e))}s()}}).catch(e=>{throw Qn=null,e})}(e),Qn}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new x(5e3,15e3),Xn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $n(e){const t=e.config;_(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?O(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,o={apiKey:t.apiKey,appName:e.name,v:i.SDK_VERSION},s=Zn.get(e.config.apiHost);s&&(o.eid=s);const a=e._getFrameworks();return a.length&&(o.fw=a.join(",")),`${n}?${Object(r.Q)(o).slice(1)}`}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const er={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function nr(e,t,n,i=500,o=600){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const l=Object.assign(Object.assign({},er),{width:i.toString(),height:o.toString(),top:s,left:a}),u=Object(r.A)().toLowerCase();n&&(c=ie(u)?"_blank":n),ne(u)&&(t=t||"http://localhost",l.scrollbars="yes");const h=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=Object(r.A)()){var t;return le(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t||"",c),new tr(null);const d=window.open(t||"",c,h);_(d,e,"popup-blocked");try{d.focus()}catch(e){}return new tr(d)}function rr(e,t,n,o,s,a){_(e.config.authDomain,e,"auth-domain-config-required"),_(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:o,v:i.SDK_VERSION,eventId:s};if(t instanceof Oe){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",Object(r.E)(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))c[e]=t}if(t instanceof Ne){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(c.scopes=e.join(","))}e.tenantId&&(c.tid=e.tenantId);const l=c;for(const e of Object.keys(l))void 0===l[e]&&delete l[e];return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/__/auth/handler`;return O(e,"emulator/auth/handler")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)}?${Object(r.Q)(l).slice(1)}`}const ir=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ft,this._completeRedirectFn=Ln,this._overrideRedirectResult=On}async _openPopup(e,t,n,r){var i;T(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return nr(e,rr(e,t,n,k(),r),Bt())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=rr(e,t,n,k(),r),Vt().location.href=i,new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(T(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await Jn(e),n=Vt().gapi;return _(n,e,"internal-error"),t.open({where:document.body,url:$n(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xn,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=y(e,"network-request-failed"),o=Vt().setTimeout(()=>{r(i)},Yn.get());function s(){Vt().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{r(i)})}))}(e),n=new Un(e);return t.register("authEvent",t=>{_(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send("webStorageSupport",{type:"webStorageSupport"},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),g(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Vn(e);for(const e of t)try{if(Hn(e))return}catch(e){}g(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ue()||re()||le()}};class or extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return E("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new or(e)}_finalizeEnroll(e,t,n){return function(e,t){return M(e,"POST","/v2/accounts/mfaEnrollment:finalize",D(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return M(e,"POST","/v2/accounts/mfaSignIn:finalize",D(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class sr{constructor(){}static assertion(e){return or._fromCredential(e)}}sr.FACTOR_ID="phone";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ar{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object(r.x)("authIdTokenMaxAge");var cr;
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function lr(){return window}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr="Browser",Object(i._registerComponent)(new a.a("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:i,authDomain:o}=n.options;return((e,n)=>{_(i&&!i.includes(":"),"invalid-api-key",{appName:e.name}),_(!(null==o?void 0:o.includes(":")),"argument-error",{appName:e.name});const r={apiKey:i,authDomain:o,clientPlatform:cr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:he(cr)},s=new fe(e,n,r);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(I);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Object(i._registerComponent)(new a.a("auth-internal",e=>(e=>new ar(e))(pe(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Object(i.registerVersion)("@firebase/auth","0.21.3",function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(cr)),Object(i.registerVersion)("@firebase/auth","0.21.3","esm2017");async function ur(e,t,n){var r;const{BuildInfo:i}=lr();T(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(T(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}(t.sessionId),s={};return le()?s.ibi=i.packageName:se()?s.apn=i.packageName:g(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,rr(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function hr(e){const{cordova:t}=lr();return new Promise(n=>{t.plugins.browsertab.isAvailable(i=>{let o=null;i?t.plugins.browsertab.openUrl(e):o=t.InAppBrowser.open(e,function(e=Object(r.A)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(o)})})}class dr extends Un{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}async function fr(e){const t=await gr()._get(yr(e));return t&&await gr()._remove(yr(e)),t}function pr(e,t){var n,r;const i=function(e){const t=vr(e),n=t.link?decodeURIComponent(t.link):void 0,r=vr(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return vr(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=vr(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null==o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?y(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function mr(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function gr(){return I(jt)}function yr(e){return $("authEvent",e.config.apiKey,e.name)}function vr(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Object(r.R)(n.join("?"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=class{constructor(){this._redirectPersistence=Ft,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ln,this._overrideRedirectResult=On}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new dr(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){g(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,c,l,u;const h=lr();_("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),_(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),_("function"==typeof(null===(o=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_("function"==typeof(null===(c=null===(a=null===(s=null==h?void 0:h.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_("function"==typeof(null===(u=null===(l=null==h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),An.clear(),await this._originValidation(e);const o=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:mr(),postBody:null,tenantId:e.tenantId,error:y(e,"no-auth-event")}}(e,n,r);await function(e,t){return gr()._set(yr(e),t)}(e,o);const s=await ur(e,o,t);return async function(e,t,n){const{cordova:r}=lr();let i=()=>{};try{await new Promise((o,s)=>{let a=null;function c(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout(()=>{s(y(e,"redirect-cancelled-by-user"))},2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),se()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}}(e,i,await hr(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=lr(),n={};le()?n.iosBundleId=t.packageName:se()?n.androidPackageName=t.packageName:g(e,"operation-not-supported-in-this-environment"),await Vn(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=lr(),o=setTimeout(async()=>{await fr(e),t.onEvent(wr())},500),s=async n=>{clearTimeout(o);const r=await fr(e);let i=null;r&&(null==n?void 0:n.url)&&(i=pr(r,n.url)),t.onEvent(i||wr())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,s);const a=r,c=i.packageName.toLowerCase()+"://";lr().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&s({url:e}),"function"==typeof a)try{a(e)}catch(e){console.error(e)}}}};function wr(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:y("no-auth-event")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(e,t){pe(e)._logFramework(t)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Tu})),n.d(t,"b",(function(){return _l})),n.d(t,"c",(function(){return al})),n.d(t,"d",(function(){return Nc})),n.d(t,"e",(function(){return Au})),n.d(t,"f",(function(){return El})),n.d(t,"g",(function(){return T})),n.d(t,"h",(function(){return Sl})),n.d(t,"i",(function(){return Cu})),n.d(t,"j",(function(){return xu})),n.d(t,"k",(function(){return F})),n.d(t,"l",(function(){return Qu})),n.d(t,"m",(function(){return ye})),n.d(t,"n",(function(){return W})),n.d(t,"o",(function(){return z})),n.d(t,"p",(function(){return Ic})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return Se})),n.d(t,"s",(function(){return g})),n.d(t,"t",(function(){return _c})),n.d(t,"u",(function(){return Vu})),n.d(t,"v",(function(){return th})),n.d(t,"w",(function(){return eh})),n.d(t,"x",(function(){return pl})),n.d(t,"y",(function(){return Dc})),n.d(t,"z",(function(){return Mc})),n.d(t,"A",(function(){return Oc})),n.d(t,"B",(function(){return qu})),n.d(t,"C",(function(){return Zu})),n.d(t,"D",(function(){return yl})),n.d(t,"E",(function(){return jc})),n.d(t,"F",(function(){return hl})),n.d(t,"G",(function(){return dl})),n.d(t,"H",(function(){return gl})),n.d(t,"I",(function(){return yu})),n.d(t,"J",(function(){return gu})),n.d(t,"K",(function(){return ll})),n.d(t,"L",(function(){return Hu})),n.d(t,"M",(function(){return Ru})),n.d(t,"N",(function(){return Du})),n.d(t,"O",(function(){return Mu})),n.d(t,"P",(function(){return ju})),n.d(t,"Q",(function(){return Lu})),n.d(t,"R",(function(){return Fu})),n.d(t,"S",(function(){return nh})),n.d(t,"T",(function(){return uu})),n.d(t,"U",(function(){return hu})),n.d(t,"V",(function(){return vl})),n.d(t,"W",(function(){return bl})),n.d(t,"X",(function(){return zu})),n.d(t,"Y",(function(){return Wu})),n.d(t,"Z",(function(){return cu})),n.d(t,"ab",(function(){return ru})),n.d(t,"bb",(function(){return Fc})),n.d(t,"cb",(function(){return Lc})),n.d(t,"db",(function(){return Xu})),n.d(t,"eb",(function(){return $u})),n.d(t,"fb",(function(){return Uu})),n.d(t,"gb",(function(){return f})),n.d(t,"hb",(function(){return Nu})),n.d(t,"ib",(function(){return pu})),n.d(t,"jb",(function(){return fu})),n.d(t,"kb",(function(){return Bu})),n.d(t,"lb",(function(){return ml})),n.d(t,"mb",(function(){return ou}));var r=n(2),i=n(6),o=n(7),s=n(0),a=n(14);const c="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}l.UNAUTHENTICATED=new l(null),l.GOOGLE_CREDENTIALS=new l("google-credentials-uid"),l.FIRST_PARTY=new l("first-party-uid"),l.MOCK_USER=new l("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let u="9.17.1";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h=new o.b("@firebase/firestore");function d(){return h.logLevel}function f(e){h.setLogLevel(e)}function p(e,...t){if(h.logLevel<=o.a.DEBUG){const n=t.map(y);h.debug(`Firestore (${u}): ${e}`,...n)}}function m(e,...t){if(h.logLevel<=o.a.ERROR){const n=t.map(y);h.error(`Firestore (${u}): ${e}`,...n)}}function g(e,...t){if(h.logLevel<=o.a.WARN){const n=t.map(y);h.warn(`Firestore (${u}): ${e}`,...n)}}function y(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(e="Unexpected state"){const t=`FIRESTORE (${u}) INTERNAL ASSERTION FAILED: `+e;throw m(t),new Error(t)}function b(e,t){e||v()}function w(e,t){e||v()}function _(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends s.c{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer "+e)}}class k{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(l.UNAUTHENTICATED))}shutdown(){}}class A{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class C{constructor(e){this.t=e,this.currentUser=l.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new S;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new S,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{p("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(p("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new S)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(p("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(b("string"==typeof t.accessToken),new I(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return b(null===e||"string"==typeof e),new l(e)}}class x{constructor(e,t,n,r){this.h=e,this.l=t,this.m=n,this.g=r,this.type="FirstParty",this.user=l.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(b(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class O{constructor(e,t,n,r){this.h=e,this.l=t,this.m=n,this.g=r}getToken(){return Promise.resolve(new x(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(l.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class N{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const n=e=>{null!=e.error&&p("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: "+e.error.message);const n=e.token!==this.A;return this.A=e.token,p("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{p("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.T.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.T.getImmediate({optional:!0});e?r(e):p("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(b("string"==typeof e.token),this.A=e.token,new N(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function P(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=P(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function M(e,t){return e<t?-1:e>t?1:0}function j(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function L(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new T(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new T(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new T(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return F.fromMillis(Date.now())}static fromDate(e){return F.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new F(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?M(this.nanoseconds,e.nanoseconds):M(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.timestamp=e}static fromTimestamp(e){return new U(e)}static min(){return new U(new F(0,0))}static max(){return new U(new F(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e,t,n){void 0===t?t=0:t>e.length&&v(),void 0===n?n=e.length-t:n>e.length-t&&v(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===B.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof B?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class q extends B{construct(e,t,n){return new q(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new T(E.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new q(t)}static emptyPath(){return new q([])}}const V=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class z extends B{construct(e,t,n){return new z(e,t,n)}static isValidIdentifier(e){return V.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),z.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new z(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new T(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new T(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new T(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new T(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new z(t)}static emptyPath(){return new z([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.path=e}static fromPath(e){return new W(q.fromString(e))}static fromName(e){return new W(q.fromString(e).popFirst(5))}static empty(){return new W(q.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===q.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return q.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new q(e.slice()))}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function K(e){return e.fields.find(e=>2===e.kind)}function G(e){return e.fields.filter(e=>2!==e.kind)}H.UNKNOWN_ID=-1;class Q{constructor(e,t){this.fieldPath=e,this.kind=t}}class J{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new J(0,Z.min())}}function Y(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=U.fromTimestamp(1e9===r?new F(n+1,0):new F(n,r));return new Z(i,W.empty(),t)}function X(e){return new Z(e.readTime,e.key,-1)}class Z{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Z(U.min(),W.empty(),-1)}static max(){return new Z(U.max(),W.empty(),-1)}}function $(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=W.comparator(e.documentKey,t.documentKey),0!==n?n:M(e.largestBatchId,t.largestBatchId))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class te{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ne(e){if(e.code!==E.FAILED_PRECONDITION||e.message!==ee)throw e;p("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&v(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(e){return re.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,n)=>{t(e)})}static reject(e){return new re((t,n)=>{n(e)})}static waitFor(e){return new re((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=re.resolve(!1);for(const n of e)t=t.next(e=>e?re.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new re((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next(e=>{o[c]=e,++s,s===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new re((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new S,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new ae(e,t.error)):this.P.resolve()},this.transaction.onerror=t=>{const n=de(t.target.error);this.P.reject(new ae(e,n))}}static open(e,t,n,r){try{return new ie(t,e.transaction(r,n))}catch(e){throw new ae(t,e)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(p("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new le(t)}}class oe{constructor(e,t,n){this.name=e,this.version=t,this.S=n,12.2===oe.D(Object(s.A)())&&m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return p("SimpleDb","Removing database:",e),ue(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Object(s.G)())return!1;if(oe.N())return!0;const e=Object(s.A)(),t=oe.D(e),n=0<t&&t<10,r=oe.k(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static N(){var t;return void 0!==e&&"YES"===(null===(t=e.env)||void 0===t?void 0:t.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static k(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async F(e){return this.db||(p("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new ae(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new T(E.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new T(E.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new ae(e,r))},r.onupgradeneeded=e=>{p("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.S.$(t,r.transaction,e.oldVersion,this.version).next(()=>{p("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.F(e);const t=ie.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next(e=>(t.V(),e)).catch(e=>(t.abort(e),re.reject(e))).toPromise();return o.catch(()=>{}),await t.v,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(p("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class se{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return ue(this.q.delete())}}class ae extends T{constructor(e,t){super(E.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ce(e){return"IndexedDbTransactionError"===e.name}class le{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(p("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ue(n)}add(e){return p("SimpleDb","ADD",this.store.name,e,e),ue(this.store.add(e))}get(e){return ue(this.store.get(e)).next(t=>(void 0===t&&(t=null),p("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return p("SimpleDb","DELETE",this.store.name,e),ue(this.store.delete(e))}count(){return p("SimpleDb","COUNT",this.store.name),ue(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.H(e,(e,n)=>{t.push(n)}).next(()=>t)}{const e=this.store.getAll(n.range);return new re((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}}J(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new re((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}Y(e,t){p("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.X=!1;const r=this.cursor(n);return this.H(r,(e,t,n)=>n.delete())}Z(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.H(r,t)}tt(e){const t=this.cursor({});return new re((n,r)=>{t.onerror=e=>{const t=de(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}H(e,t){const n=[];return new re((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new se(i),s=t(i.primaryKey,i.value,o);if(s instanceof re){const e=s.catch(e=>(o.done(),re.reject(e)));n.push(e)}o.isDone?r():null===o.G?i.continue():i.continue(o.G)}}).next(()=>re.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ue(e){return new re((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=de(e.target.error);n(t)}})}let he=!1;function de(e){const t=oe.D(Object(s.A)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new T("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return he||(he=!0,setTimeout(()=>{throw e},0)),e}}return e}class fe{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){p("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{p("IndexBackiller","Documents written: "+await this.et.st())}catch(e){ce(e)?p("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await ne(e)}await this.nt(6e4)})}}class pe{constructor(e,t){this.localStore=e,this.persistence=t}async st(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.it(t,e))}it(e,t){const n=new Set;let r=t,i=!0;return re.doWhile(()=>!0===i&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!n.has(t))return p("IndexBackiller","Processing collection: "+t),this.rt(e,t,r).next(e=>{r-=e,n.add(t)});i=!1})).next(()=>t-r)}rt(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this.ot(r,n)).next(n=>(p("IndexBackiller","Updating offset: "+n),this.localStore.indexManager.updateCollectionGroup(e,t,n))).next(()=>i.size)}))}ot(e,t){let n=e;return t.changes.forEach((e,t)=>{const r=X(t);$(r,n)>0&&(n=r)}),new Z(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ut(e),this.ct=e=>t.writeSequenceNumber(e))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}me.at=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ge{constructor(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a}}class ye{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ye("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ye&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function be(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function we(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(e){return null==e}function Ee(e){return 0===e&&1/e==-1/0}function Te(e){return"number"==typeof e&&Number.isInteger(e)&&!Ee(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(){return"undefined"!=typeof atob}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ie(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ie(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return M(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ie.EMPTY_BYTE_STRING=new Ie("");const ke=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ae(e){if(b(!!e),"string"==typeof e){let t=0;const n=ke.exec(e);if(b(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ce(e.seconds),nanos:Ce(e.nanos)}}function Ce(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function xe(e){return"string"==typeof e?Ie.fromBase64String(e):Ie.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ne(e){const t=Ae(e.mapValue.fields.__local_write_time__.timestampValue);return new F(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Pe={nullValue:"NULL_VALUE"};function De(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Oe(e)?4:Ge(e)?9007199254740991:10:v()}function Me(e,t){if(e===t)return!0;const n=De(e);if(n!==De(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ne(e).isEqual(Ne(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ae(e.timestampValue),r=Ae(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return xe(e.bytesValue).isEqual(xe(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ce(e.geoPointValue.latitude)===Ce(t.geoPointValue.latitude)&&Ce(e.geoPointValue.longitude)===Ce(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ce(e.integerValue)===Ce(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ce(e.doubleValue),r=Ce(t.doubleValue);return n===r?Ee(n)===Ee(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return j(e.arrayValue.values||[],t.arrayValue.values||[],Me);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ve(n)!==ve(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Me(n[e],r[e])))return!1;return!0}(e,t);default:return v()}}function je(e,t){return void 0!==(e.values||[]).find(e=>Me(e,t))}function Le(e,t){if(e===t)return 0;const n=De(e),r=De(t);if(n!==r)return M(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return M(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ce(e.integerValue||e.doubleValue),r=Ce(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Fe(e.timestampValue,t.timestampValue);case 4:return Fe(Ne(e),Ne(t));case 5:return M(e.stringValue,t.stringValue);case 6:return function(e,t){const n=xe(e),r=xe(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=M(n[e],r[e]);if(0!==t)return t}return M(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=M(Ce(e.latitude),Ce(t.latitude));return 0!==n?n:M(Ce(e.longitude),Ce(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=Le(n[e],r[e]);if(t)return t}return M(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Re.mapValue&&t===Re.mapValue)return 0;if(e===Re.mapValue)return 1;if(t===Re.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let e=0;e<r.length&&e<o.length;++e){const t=M(r[e],o[e]);if(0!==t)return t;const s=Le(n[r[e]],i[o[e]]);if(0!==s)return s}return M(r.length,o.length)}(e.mapValue,t.mapValue);default:throw v()}}function Fe(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return M(e,t);const n=Ae(e),r=Ae(t),i=M(n.seconds,r.seconds);return 0!==i?i:M(n.nanos,r.nanos)}function Ue(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){const t=Ae(e);return`time(${t.seconds},${t.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?xe(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,W.fromName(r).toString()):"geoPointValue"in t?`geo(${(n=t.geoPointValue).latitude},${n.longitude})`:"arrayValue"in t?function(t){let n="[",r=!0;for(const i of t.values||[])r?r=!1:n+=",",n+=e(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){const n=Object.keys(t.fields||{}).sort();let r="{",i=!0;for(const o of n)i?i=!1:r+=",",r+=`${o}:${e(t.fields[o])}`;return r+"}"}(t.mapValue):v();var n,r}(e)}function Be(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function qe(e){return!!e&&"integerValue"in e}function Ve(e){return!!e&&"arrayValue"in e}function ze(e){return!!e&&"nullValue"in e}function We(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function He(e){return!!e&&"mapValue"in e}function Ke(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return be(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Ke(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ke(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ge(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Qe(e){return"nullValue"in e?Pe:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Be(ye.empty(),W.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:v()}function Je(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Be(ye.empty(),W.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Re:v()}function Ye(e,t){const n=Le(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Xe(e,t){const n=Le(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,t){this.position=e,this.inclusive=t}}function $e(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?W.comparator(W.fromName(s.referenceValue),n.key):Le(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function et(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Me(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{}class nt extends tt{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ht(e,t,n):"array-contains"===t?new mt(e,n):"in"===t?new gt(e,n):"not-in"===t?new yt(e,n):"array-contains-any"===t?new vt(e,n):new nt(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new dt(e,n):new ft(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Le(t,this.value)):null!==t&&De(this.value)===De(t)&&this.matchesComparison(Le(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return v()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class rt extends tt{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new rt(e,t)}matches(e){return it(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(e=>e.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function it(e){return"and"===e.op}function ot(e){return"or"===e.op}function st(e){return at(e)&&it(e)}function at(e){for(const t of e.filters)if(t instanceof rt)return!1;return!0}function ct(e,t){return e instanceof nt?function(e,t){return t instanceof nt&&e.op===t.op&&e.field.isEqual(t.field)&&Me(e.value,t.value)}(e,t):e instanceof rt?function(e,t){return t instanceof rt&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&ct(n,t.filters[r]),!0)}(e,t):void v()}function lt(e,t){const n=e.filters.concat(t);return rt.create(n,e.op)}function ut(e){return e instanceof nt?function(e){return`${e.field.canonicalString()} ${e.op} ${Ue(e.value)}`}(e):e instanceof rt?function(e){return e.op.toString()+" {"+e.getFilters().map(ut).join(" ,")+"}"}(e):"Filter"}class ht extends nt{constructor(e,t,n){super(e,t,n),this.key=W.fromName(n.referenceValue)}matches(e){const t=W.comparator(e.key,this.key);return this.matchesComparison(t)}}class dt extends nt{constructor(e,t){super(e,"in",t),this.keys=pt("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ft extends nt{constructor(e,t){super(e,"not-in",t),this.keys=pt("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pt(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>W.fromName(e.referenceValue))}class mt extends nt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ve(t)&&je(t.arrayValue,this.value)}}class gt extends nt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&je(this.value.arrayValue,t)}}class yt extends nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(je(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!je(this.value.arrayValue,t)}}class vt extends nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ve(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>je(this.value.arrayValue,e))}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t="asc"){this.field=e,this.dir=t}}function wt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||Tt.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Et(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Et(this.root,e,this.comparator,!1)}getReverseIterator(){return new Et(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Et(this.root,e,this.comparator,!0)}}class Et{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Tt.RED,this.left=null!=r?r:Tt.EMPTY,this.right=null!=i?i:Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Tt(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Tt.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw v();if(this.right.isRed())throw v();const e=this.left.check();if(e!==this.right.check())throw v();return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1,Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw v()}get value(){throw v()}get color(){throw v()}get left(){throw v()}get right(){throw v()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Tt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class St{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new It(this.data.getIterator())}getIteratorFrom(e){return new It(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof St))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new St(this.comparator);return t.data=e,t}}class It{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function kt(e){return e.hasNext()?e.getNext():void 0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.fields=e,e.sort(z.comparator)}static empty(){return new At([])}unionWith(e){let t=new St(z.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new At(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return j(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.value=e}static empty(){return new Ct({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!He(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ke(t)}setAll(e){let t=z.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ke(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());He(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Me(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];He(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){be(t,(t,n)=>e[t]=n);for(const t of n)delete e[t]}clone(){return new Ct(Ke(this.value))}}function xt(e){const t=[];return be(e.fields,(e,n)=>{const r=new z([e]);if(He(n)){const e=xt(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new At(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Ot{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Ot(e,0,U.min(),U.min(),U.min(),Ct.empty(),0)}static newFoundDocument(e,t,n,r){return new Ot(e,1,t,U.min(),n,r,0)}static newNoDocument(e,t){return new Ot(e,2,t,U.min(),U.min(),Ct.empty(),0)}static newUnknownDocument(e,t){return new Ot(e,3,t,U.min(),U.min(),Ct.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(U.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ct.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ct.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ft=null}}function Rt(e,t=null,n=[],r=[],i=null,o=null,s=null){return new Nt(e,t,n,r,i,o,s)}function Pt(e){const t=_(e);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function e(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+Ue(t.value);if(st(t))return t.filters.map(t=>e(t)).join(",");{const n=t.filters.map(t=>e(t)).join(",");return`${t.op}(${n})`}}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),_e(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ue(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ue(e)).join(",")),t.ft=e}return t.ft}function Dt(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!wt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ct(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!et(e.startAt,t.startAt)&&et(e.endAt,t.endAt)}function Mt(e){return W.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function jt(e,t){return e.filters.filter(e=>e instanceof nt&&e.field.isEqual(t))}function Lt(e,t,n){let r=Pe,i=!0;for(const n of jt(e,t)){let e=Pe,t=!0;switch(n.op){case"<":case"<=":e=Qe(n.value);break;case"==":case"in":case">=":e=n.value;break;case">":e=n.value,t=!1;break;case"!=":case"not-in":e=Pe}Ye({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Ye({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Ft(e,t,n){let r=Re,i=!0;for(const n of jt(e,t)){let e=Re,t=!0;switch(n.op){case">=":case">":e=Je(n.value),t=!1;break;case"==":case"in":case"<=":e=n.value;break;case"<":e=n.value,t=!1;break;case"!=":case"not-in":e=Re}Xe({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Xe({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.dt=null,this._t=null,this.startAt,this.endAt}}function Bt(e,t,n,r,i,o,s,a){return new Ut(e,t,n,r,i,o,s,a)}function qt(e){return new Ut(e)}function Vt(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function zt(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Wt(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Ht(e){return null!==e.collectionGroup}function Kt(e){const t=_(e);if(null===t.dt){t.dt=[];const e=Wt(t),n=zt(t);if(null!==e&&null===n)e.isKeyField()||t.dt.push(new bt(e)),t.dt.push(new bt(z.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.dt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new bt(z.keyField(),e))}}}return t.dt}function Gt(e){const t=_(e);if(!t._t)if("F"===t.limitType)t._t=Rt(t.path,t.collectionGroup,Kt(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of Kt(t)){const t="desc"===n.dir?"asc":"desc";e.push(new bt(n.field,t))}const n=t.endAt?new Ze(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ze(t.startAt.position,t.startAt.inclusive):null;t._t=Rt(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Qt(e,t){t.getFirstInequalityField(),Wt(e);const n=e.filters.concat([t]);return new Ut(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Jt(e,t,n){return new Ut(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Yt(e,t){return Dt(Gt(e),Gt(t))&&e.limitType===t.limitType}function Xt(e){return`${Pt(Gt(e))}|lt:${e.limitType}`}function Zt(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>ut(e)).join(", ")}]`),_e(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ue(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ue(e)).join(",")),`Target(${t})`}(Gt(e))}; limitType=${e.limitType})`}function $t(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):W.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Kt(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=$e(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Kt(e),t))&&!(e.endAt&&!function(e,t,n){const r=$e(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Kt(e),t))}(e,t)}function en(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function tn(e){return(t,n)=>{let r=!1;for(const i of Kt(e)){const e=nn(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function nn(e,t,n){const r=e.field.isKeyField()?W.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Le(r,i):v()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return v()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ee(t)?"-0":t}}function on(e){return{integerValue:""+e}}function sn(e,t){return Te(t)?on(t):rn(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(){this._=void 0}}function cn(e,t,n){return e instanceof hn?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof dn?fn(e,t):e instanceof pn?mn(e,t):function(e,t){const n=un(e,t),r=yn(n)+yn(e.gt);return qe(n)&&qe(e.gt)?on(r):rn(e.yt,r)}(e,t)}function ln(e,t,n){return e instanceof dn?fn(e,t):e instanceof pn?mn(e,t):n}function un(e,t){return e instanceof gn?qe(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class hn extends an{}class dn extends an{constructor(e){super(),this.elements=e}}function fn(e,t){const n=vn(t);for(const t of e.elements)n.some(e=>Me(e,t))||n.push(t);return{arrayValue:{values:n}}}class pn extends an{constructor(e){super(),this.elements=e}}function mn(e,t){let n=vn(t);for(const t of e.elements)n=n.filter(e=>!Me(e,t));return{arrayValue:{values:n}}}class gn extends an{constructor(e,t){super(),this.yt=e,this.gt=t}}function yn(e){return Ce(e.integerValue||e.doubleValue)}function vn(e){return Ve(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,t){this.field=e,this.transform=t}}class wn{constructor(e,t){this.version=e,this.transformResults=t}}class _n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function En(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Tn{}function Sn(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Dn(e.key,_n.none()):new xn(e.key,e.data,_n.none());{const n=e.data,r=Ct.empty();let i=new St(z.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new On(e.key,r,new At(i.toArray()),_n.none())}}function In(e,t,n){e instanceof xn?function(e,t,n){const r=e.value.clone(),i=Rn(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof On?function(e,t,n){if(!En(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Rn(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Nn(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function kn(e,t,n,r){return e instanceof xn?function(e,t,n,r){if(!En(e.precondition,t))return n;const i=e.value.clone(),o=Pn(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof On?function(e,t,n,r){if(!En(e.precondition,t))return n;const i=Pn(e.fieldTransforms,r,t),o=t.data;return o.setAll(Nn(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return En(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function An(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=un(r.transform,e||null);null!=i&&(null===n&&(n=Ct.empty()),n.set(r.field,i))}return n||null}function Cn(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&j(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof dn&&t instanceof dn||e instanceof pn&&t instanceof pn?j(e.elements,t.elements,Me):e instanceof gn&&t instanceof gn?Me(e.gt,t.gt):e instanceof hn&&t instanceof hn}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xn extends Tn{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class On extends Tn{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Nn(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Rn(e,t,n){const r=new Map;b(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,ln(s,a,n[i]))}return r}function Pn(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,cn(e,o,t))}return r}class Dn extends Tn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mn extends Tn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.count=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ln,Fn;function Un(e){switch(e){default:return v();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function Bn(e){if(void 0===e)return m("GRPC error has no .code"),E.UNKNOWN;switch(e){case Ln.OK:return E.OK;case Ln.CANCELLED:return E.CANCELLED;case Ln.UNKNOWN:return E.UNKNOWN;case Ln.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case Ln.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case Ln.INTERNAL:return E.INTERNAL;case Ln.UNAVAILABLE:return E.UNAVAILABLE;case Ln.UNAUTHENTICATED:return E.UNAUTHENTICATED;case Ln.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case Ln.NOT_FOUND:return E.NOT_FOUND;case Ln.ALREADY_EXISTS:return E.ALREADY_EXISTS;case Ln.PERMISSION_DENIED:return E.PERMISSION_DENIED;case Ln.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case Ln.ABORTED:return E.ABORTED;case Ln.OUT_OF_RANGE:return E.OUT_OF_RANGE;case Ln.UNIMPLEMENTED:return E.UNIMPLEMENTED;case Ln.DATA_LOSS:return E.DATA_LOSS;default:return v()}}(Fn=Ln||(Ln={}))[Fn.OK=0]="OK",Fn[Fn.CANCELLED=1]="CANCELLED",Fn[Fn.UNKNOWN=2]="UNKNOWN",Fn[Fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fn[Fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fn[Fn.NOT_FOUND=5]="NOT_FOUND",Fn[Fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fn[Fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fn[Fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fn[Fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fn[Fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fn[Fn.ABORTED=10]="ABORTED",Fn[Fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fn[Fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fn[Fn.INTERNAL=13]="INTERNAL",Fn[Fn.UNAVAILABLE=14]="UNAVAILABLE",Fn[Fn.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class qn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){be(this.inner,(t,n)=>{for(const[t,r]of n)e(t,r)})}isEmpty(){return we(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=new _t(W.comparator);function zn(){return Vn}const Wn=new _t(W.comparator);function Hn(...e){let t=Wn;for(const n of e)t=t.insert(n.key,n);return t}function Kn(e){let t=Wn;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Gn(){return Jn()}function Qn(){return Jn()}function Jn(){return new qn(e=>e.toString(),(e,t)=>e.isEqual(t))}const Yn=new _t(W.comparator),Xn=new St(W.comparator);function Zn(...e){let t=Xn;for(const n of e)t=t.add(n);return t}const $n=new St(M);function er(){return $n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,nr.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new tr(U.min(),r,er(),zn(),Zn())}}class nr{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new nr(n,t,Zn(),Zn(),Zn())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,t,n,r){this.It=e,this.removedTargetIds=t,this.key=n,this.Tt=r}}class ir{constructor(e,t){this.targetId=e,this.Et=t}}class or{constructor(e,t,n=Ie.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class sr{constructor(){this.At=0,this.Rt=lr(),this.bt=Ie.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Zn(),t=Zn(),n=Zn();return this.Rt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:v()}}),new nr(this.bt,this.Pt,e,t,n)}xt(){this.vt=!1,this.Rt=lr()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class ar{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=zn(),this.qt=cr(),this.Ut=new St(M)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const n=this.Wt(t);switch(e.state){case 0:this.zt(t)&&n.Dt(e.resumeToken);break;case 1:n.Mt(),n.Vt||n.xt(),n.Dt(e.resumeToken);break;case 2:n.Mt(),n.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(n.Ft(),n.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),n.Dt(e.resumeToken));break;default:v()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((e,n)=>{this.zt(n)&&t(n)})}Jt(e){const t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){const e=r.target;if(Mt(e))if(0===n){const n=new W(e.path);this.Qt(t,n,Ot.newNoDocument(n,U.min()))}else b(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((n,r)=>{const i=this.Yt(r);if(i){if(n.current&&Mt(i.target)){const t=new W(i.target.path);null!==this.Lt.get(t)||this.te(r,t)||this.Qt(r,t,Ot.newNoDocument(t,e))}n.St&&(t.set(r,n.Ct()),n.xt())}});let n=Zn();this.qt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Yt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.Lt.forEach((t,n)=>n.setReadTime(e));const r=new tr(e,t,this.Ut,this.Lt,n);return this.Lt=zn(),this.qt=cr(),this.Ut=new St(M),r}Gt(e,t){if(!this.zt(e))return;const n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,n){if(!this.zt(e))return;const r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new sr,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new St(M),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||p("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new sr),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function cr(){return new _t(W.comparator)}function lr(){return new _t(W.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur={asc:"ASCENDING",desc:"DESCENDING"},hr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dr={and:"AND",or:"OR"};class fr{constructor(e,t){this.databaseId=e,this.wt=t}}function pr(e,t){return e.wt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mr(e,t){return e.wt?t.toBase64():t.toUint8Array()}function gr(e,t){return pr(e,t.toTimestamp())}function yr(e){return b(!!e),U.fromTimestamp(function(e){const t=Ae(e);return new F(t.seconds,t.nanos)}(e))}function vr(e,t){return function(e){return new q(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function br(e){const t=q.fromString(e);return b(Ur(t)),t}function wr(e,t){return vr(e.databaseId,t.path)}function _r(e,t){const n=br(t);if(n.get(1)!==e.databaseId.projectId)throw new T(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new T(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new W(Ir(n))}function Er(e,t){return vr(e.databaseId,t)}function Tr(e){const t=br(e);return 4===t.length?q.emptyPath():Ir(t)}function Sr(e){return new q(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ir(e){return b(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function kr(e,t,n){return{name:wr(e,t),fields:n.value.mapValue.fields}}function Ar(e,t,n){const r=_r(e,t.name),i=yr(t.updateTime),o=t.createTime?yr(t.createTime):U.min(),s=new Ct({mapValue:{fields:t.fields}}),a=Ot.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Cr(e,t){let n;if(t instanceof xn)n={update:kr(e,t.key,t.value)};else if(t instanceof Dn)n={delete:wr(e,t.key)};else if(t instanceof On)n={update:kr(e,t.key,t.data),updateMask:Fr(t.fieldMask)};else{if(!(t instanceof Mn))return v();n={verify:wr(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof hn)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof dn)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof pn)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof gn)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw v()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:gr(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v()}(e,t.precondition)),n}function xr(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?_n.updateTime(yr(e.updateTime)):void 0!==e.exists?_n.exists(e.exists):_n.none()}(t.currentDocument):_n.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;if("setToServerValue"in t)b("REQUEST_TIME"===t.setToServerValue),n=new hn;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new dn(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new pn(e)}else"increment"in t?n=new gn(e,t.increment):v();const r=z.fromServerFormat(t.fieldPath);return new bn(r,n)}(e,t)):[];if(t.update){t.update.name;const i=_r(e,t.update.name),o=new Ct({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new At(t.map(e=>z.fromServerFormat(e)))}(t.updateMask);return new On(i,o,e,n,r)}return new xn(i,o,n,r)}if(t.delete){const r=_r(e,t.delete);return new Dn(r,n)}if(t.verify){const r=_r(e,t.verify);return new Mn(r,n)}return v()}function Or(e,t){return{documents:[Er(e,t.path)]}}function Nr(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Er(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Er(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return function e(t){return t instanceof nt?function(e){if("=="===e.op){if(We(e.value))return{unaryFilter:{field:jr(e.field),op:"IS_NAN"}};if(ze(e.value))return{unaryFilter:{field:jr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(We(e.value))return{unaryFilter:{field:jr(e.field),op:"IS_NOT_NAN"}};if(ze(e.value))return{unaryFilter:{field:jr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jr(e.field),op:Dr(e.op),value:e.value}}}(t):t instanceof rt?function(t){const n=t.getFilters().map(t=>e(t));return 1===n.length?n[0]:{compositeFilter:{op:Mr(t.op),filters:n}}}(t):v()}(rt.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:jr(e.field),direction:Pr(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(e,t){return e.wt||_e(t)?t:{value:t}}(e,t.limit);var a;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Rr(e){let t=Tr(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){b(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=function e(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Lr(e.unaryFilter.field);return nt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Lr(e.unaryFilter.field);return nt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Lr(e.unaryFilter.field);return nt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Lr(e.unaryFilter.field);return nt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return v()}}(t):void 0!==t.fieldFilter?function(e){return nt.create(Lr(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return v()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return rt.create(t.compositeFilter.filters.map(t=>e(t)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return v()}}(t.compositeFilter.op))}(t):v()}(e);return t instanceof rt&&st(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(e=>function(e){return new bt(Lr(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,_e(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new Ze(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new Ze(n,t)}(n.endAt)),Bt(t,i,s,o,a,"F",c,l)}function Pr(e){return ur[e]}function Dr(e){return hr[e]}function Mr(e){return dr[e]}function jr(e){return{fieldPath:e.canonicalString()}}function Lr(e){return z.fromServerFormat(e.fieldPath)}function Fr(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ur(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Vr(t)),t=qr(e.get(n),t);return Vr(t)}function qr(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function Vr(e){return e+""}function zr(e){const t=e.length;if(b(t>=2),2===t)return b(""===e.charAt(0)&&""===e.charAt(1)),q.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("",o);switch((t<0||t>n)&&v(),e.charAt(t+1)){case"":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"":i+=e.substring(o,t),i+="\0";break;case"":i+=e.substring(o,t+1);break;default:v()}o=t+2}return new q(r)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=["userId","batchId"];
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(e,t){return[e,Br(t)]}function Kr(e,t,n){return[e,Br(t),n]}const Gr={},Qr=["prefixPath","collectionGroup","readTime","documentId"],Jr=["prefixPath","collectionGroup","documentId"],Yr=["collectionGroup","readTime","prefixPath","documentId"],Xr=["canonicalId","targetId"],Zr=["targetId","path"],$r=["path","targetId"],ei=["collectionId","parent"],ti=["indexId","uid"],ni=["uid","sequenceNumber"],ri=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ii=["indexId","uid","orderedDocumentKey"],oi=["userId","collectionPath","documentId"],si=["userId","collectionPath","largestBatchId"],ai=["userId","collectionGroup","largestBatchId"],ci=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],li=[...ci,"documentOverlays"],ui=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hi=ui,di=[...hi,"indexConfiguration","indexState","indexEntries"];
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends te{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function pi(e,t){const n=_(e);return oe.M(n.se,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&In(r,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=kn(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=kn(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Qn();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Sn(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(U.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zn())}isEqual(e){return this.batchId===e.batchId&&j(this.mutations,e.mutations,(e,t)=>Cn(e,t))&&j(this.baseMutations,e.baseMutations,(e,t)=>Cn(e,t))}}class gi{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){b(e.mutations.length===n.length);let r=Yn;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new gi(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,t,n,r,i=U.min(),o=U.min(),s=Ie.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.ie=e}}function wi(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:_i(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:wr(e,t.key),fields:t.data.value.mapValue.fields,updateTime:pr(e,t.version.toTimestamp()),createTime:pr(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ei(t.version)};else{if(!t.isUnknownDocument())return v();r.unknownDocument={path:n.path.toArray(),version:Ei(t.version)}}return r}function _i(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ei(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ti(e){const t=new F(e.seconds,e.nanoseconds);return U.fromTimestamp(t)}function Si(e,t){const n=(t.baseMutations||[]).map(t=>xr(e.ie,t));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map(t=>xr(e.ie,t)),i=F.fromMillis(t.localWriteTimeMs);return new mi(t.batchId,i,n,r)}function Ii(e){const t=Ti(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Ti(e.lastLimboFreeSnapshotVersion):U.min();let r;var i;return void 0!==e.query.documents?(b(1===(i=e.query).documents.length),r=Gt(qt(Tr(i.documents[0])))):r=function(e){return Gt(Rr(e))}(e.query),new vi(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Ie.fromBase64String(e.resumeToken))}function ki(e,t){const n=Ei(t.snapshotVersion),r=Ei(t.lastLimboFreeSnapshotVersion);let i;i=Mt(t.target)?Or(e.ie,t.target):Nr(e.ie,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Pt(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Ai(e){const t=Rr({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Jt(t,t.limit,"L"):t}function Ci(e,t){return new yi(t.largestBatchId,xr(e.ie,t.overlayMutation))}function xi(e,t){const n=t.path.lastSegment();return[e,Br(t.path.popLast()),n]}function Oi(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Ei(r.readTime),documentKey:Br(r.documentKey.path),largestBatchId:r.largestBatchId}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{getBundleMetadata(e,t){return Ri(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:Ti(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return Ri(e).put({bundleId:(n=t).id,createTime:Ei(yr(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Pi(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:Ai(t.bundledQuery),readTime:Ti(t.readTime)};var t})}saveNamedQuery(e,t){return Pi(e).put(function(e){return{name:e.name,readTime:Ei(yr(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Ri(e){return pi(e,"bundles")}function Pi(e){return pi(e,"namedQueries")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){const n=t.uid||"";return new Di(e,n)}getOverlay(e,t){return Mi(e).get(xi(this.userId,t)).next(e=>e?Ci(this.yt,e):null)}getOverlays(e,t){const n=Gn();return re.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){const r=[];return n.forEach((n,i)=>{const o=new yi(t,i);r.push(this.oe(e,o))}),re.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(e=>r.add(Br(e.getCollectionPath())));const i=[];return r.forEach(t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Mi(e).Y("collectionPathOverlayIndex",r))}),re.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Gn(),i=Br(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Mi(e).W("collectionPathOverlayIndex",o).next(e=>{for(const t of e){const e=Ci(this.yt,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const i=Gn();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Mi(e).Z({index:"collectionGroupOverlayIndex",range:s},(e,t,n)=>{const s=Ci(this.yt,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()}).next(()=>i)}oe(e,t){return Mi(e).put(function(e,t,n){const[r,i,o]=xi(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Cr(e.ie,n.mutation)}}(this.yt,this.userId,t))}}function Mi(e){return pi(e,"documentOverlays")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Ce(e.integerValue));else if("doubleValue"in e){const n=Ce(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),Ee(n)?t.le(0):t.le(n))}else if("timestampValue"in e){const n=e.timestampValue;this.he(t,20),"string"==typeof n?t.fe(n):(t.fe(""+(n.seconds||"")),t.le(n.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(xe(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.he(t,45),t.le(n.latitude||0),t.le(n.longitude||0)}else"mapValue"in e?Ge(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):v()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const n=e.fields||{};this.he(t,55);for(const e of Object.keys(n))this.de(e,t),this.ce(n[e],t)}ye(e,t){const n=e.values||[];this.he(t,50);for(const e of n)this.ce(e,t)}me(e,t){this.he(t,37),W.fromName(e).path.forEach(e=>{this.he(t,60),this.pe(e,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function Li(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Fi(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Li(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}ji.Ie=new ji;class Ui{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ee(n.value),n=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.be(n.value),n=t.next();this.Pe()}ve(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ee(e);else if(e<2048)this.Ee(960|e>>>6),this.Ee(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|e>>>12),this.Ee(128|63&e>>>6),this.Ee(128|63&e);else{const e=t.codePointAt(0);this.Ee(240|e>>>18),this.Ee(128|63&e>>>12),this.Ee(128|63&e>>>6),this.Ee(128|63&e)}}this.Ae()}Ve(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.be(e);else if(e<2048)this.be(960|e>>>6),this.be(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.be(480|e>>>12),this.be(128|63&e>>>6),this.be(128|63&e);else{const e=t.codePointAt(0);this.be(240|e>>>18),this.be(128|63&e>>>12),this.be(128|63&e>>>6),this.be(128|63&e)}}this.Pe()}Se(e){const t=this.De(e),n=Fi(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=255&t[e]}xe(e){const t=this.De(e),n=Fi(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let e=1;e<t.length;++e)t[e]^=n?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Bi{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class qi{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Vi{constructor(){this.$e=new Ui,this.Be=new Bi(this.$e),this.Le=new qi(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new zi(this.indexId,this.documentKey,this.arrayValue,n)}}function Wi(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Hi(e.arrayValue,t.arrayValue),0!==n?n:(n=Hi(e.directionalValue,t.directionalValue),0!==n?n:W.comparator(e.documentKey,t.documentKey)))}function Hi(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const e=t;e.isInequality()?this.Qe=e:this.Ge.push(e)}}je(e){b(e.collectionGroup===this.collectionId);const t=K(e);if(void 0!==t&&!this.We(t))return!1;const n=G(e);let r=0,i=0;for(;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){const e=n[r];if(!this.ze(this.Qe,e)||!this.He(this.Ke[i++],e))return!1;++r}for(;r<n.length;++r){const e=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],e))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(e){if(0===e.getFilters().length)return[];const t=function e(t){if(b(t instanceof nt||t instanceof rt),t instanceof nt)return t;if(1===t.filters.length)return e(t.filters[0]);const n=t.filters.map(t=>e(t));let r=rt.create(n,t.op);return r=$i(r),Yi(r)?r:(b(r instanceof rt),b(it(r)),b(r.filters.length>1),r.filters.reduce((e,t)=>Xi(e,t)))}(function e(t){var n,r;if(b(t instanceof nt||t instanceof rt),t instanceof nt){if(t instanceof gt){const e=(null===(r=null===(n=t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>nt.create(t.field,"==",e)))||[];return rt.create(e,"or")}return t}const i=t.filters.map(t=>e(t));return rt.create(i,t.op)}(e));return b(Yi(t)),Qi(t)||Ji(t)?[t]:t.getFilters()}function Qi(e){return e instanceof nt}function Ji(e){return e instanceof rt&&st(e)}function Yi(e){return Qi(e)||Ji(e)||function(e){if(e instanceof rt&&ot(e)){for(const t of e.getFilters())if(!Qi(t)&&!Ji(t))return!1;return!0}return!1}(e)}function Xi(e,t){let n;return b(e instanceof nt||e instanceof rt),b(t instanceof nt||t instanceof rt),n=e instanceof nt?t instanceof nt?function(e,t){return rt.create([e,t],"and")}(e,t):Zi(e,t):t instanceof nt?Zi(t,e):function(e,t){if(b(e.filters.length>0&&t.filters.length>0),it(e)&&it(t))return lt(e,t.getFilters());const n=ot(e)?e:t,r=ot(e)?t:e,i=n.filters.map(e=>Xi(e,r));return rt.create(i,"or")}(e,t),$i(n)}function Zi(e,t){if(it(t))return lt(t,e.getFilters());{const n=t.filters.map(t=>Xi(e,t));return rt.create(n,"or")}}function $i(e){if(b(e instanceof nt||e instanceof rt),e instanceof nt)return e;const t=e.getFilters();if(1===t.length)return $i(t[0]);if(at(e))return e;const n=t.map(e=>$i(e)),r=[];return n.forEach(t=>{t instanceof nt?r.push(t):t instanceof rt&&(t.op===e.op?r.push(...t.filters):r.push(t))}),1===r.length?r[0]:rt.create(r,e.op)
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class eo{constructor(){this.Je=new to}addToCollectionParentIndex(e,t){return this.Je.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(Z.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(Z.min())}updateCollectionGroup(e,t,n){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class to{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new St(q.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new St(q.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new Uint8Array(0);class ro{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new to,this.Xe=new qn(e=>Pt(e),(e,t)=>Dt(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const i={collectionId:n,parent:Br(r)};return io(e).put(i)}return re.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[L(t),""],!1,!0);return io(e).W(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(zr(r.parent))}return n})}addFieldIndex(e,t){const n=so(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=ao(e);return i.next(e=>{n.put(Oi(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return i.next()}deleteFieldIndex(e,t){const n=so(e),r=ao(e),i=oo(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const n=oo(e);let r=!0;const i=new Map;return re.forEach(this.Ze(t),t=>this.tn(e,t).next(e=>{r&&(r=!!e),i.set(t,e)})).next(()=>{if(r){let e=Zn();const r=[];return re.forEach(i,(i,o)=>{var s;p("IndexedDbIndexManager",`Using index ${s=i,`id=${s.indexId}|cg=${s.collectionGroup}|f=${s.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")}`} to execute ${Pt(t)}`);const a=function(e,t){const n=K(t);if(void 0===n)return null;for(const t of jt(e,n.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}(o,i),c=function(e,t){const n=new Map;for(const r of G(t))for(const t of jt(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of G(t)){const t=0===i.kind?Lt(e,i.fieldPath,e.startAt):Ft(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Ze(n,r)}(o,i),u=function(e,t){const n=[];let r=!0;for(const i of G(t)){const t=0===i.kind?Ft(e,i.fieldPath,e.endAt):Lt(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Ze(n,r)}(o,i),h=this.en(i,o,l),d=this.en(i,o,u),f=this.nn(i,o,c),m=this.sn(i.indexId,a,h,l.inclusive,d,u.inclusive,f);return re.forEach(m,i=>n.J(i,t.limit).next(t=>{t.forEach(t=>{const n=W.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))})}))}).next(()=>r)}return re.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:Gi(rt.create(e.filters,"and")).map(t=>Rt(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),l=[];for(let u=0;u<a;++u){const a=t?this.rn(t[u/c]):no,h=this.on(e,a,n[u%c],r),d=this.un(e,a,i[u%c],o),f=s.map(t=>this.on(e,a,t,!0));l.push(...this.createRange(h,d,f))}return l}on(e,t,n,r){const i=new zi(e,W.empty(),t,n);return r?i:i.Ue()}un(e,t,n,r){const i=new zi(e,W.empty(),t,n);return r?i.Ue():i}tn(e,t){const n=new Ki(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{let t=null;for(const r of e)n.je(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t})}getIndexType(e,t){let n=2;const r=this.Ze(t);return re.forEach(r,t=>this.tn(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new St(z.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const n of e.orderBy)n.field.isKeyField()||(t=t.add(n.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})).next(()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n)}cn(e,t){const n=new Vi;for(const r of G(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.qe(r.kind);ji.Ie.ue(e,i)}return n.Fe()}rn(e){const t=new Vi;return ji.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const n=new Vi;return ji.Ie.ue(Be(this.databaseId,t),n.qe(function(e){const t=G(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}nn(e,t,n){if(null===n)return[];let r=[];r.push(new Vi);let i=0;for(const o of G(e)){const e=n[i++];for(const n of r)if(this.hn(t,o.fieldPath)&&Ve(e))r=this.ln(r,o,e);else{const t=n.qe(o.kind);ji.Ie.ue(e,t)}}return this.fn(r)}en(e,t,n){return this.nn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Fe();return t}ln(e,t,n){const r=[...e],i=[];for(const e of n.arrayValue.values||[])for(const n of r){const r=new Vi;r.seed(n.Fe()),ji.Ie.ue(e,r.qe(t.kind)),i.push(r)}return i}hn(e,t){return!!e.filters.find(e=>e instanceof nt&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){const n=so(e),r=ao(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next(e=>{const t=[];return re.forEach(e,e=>r.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new J(t.sequenceNumber,new Z(Ti(t.readTime),new W(zr(t.documentKey)),t.largestBatchId)):J.empty(),r=e.fields.map(([e,t])=>new Q(z.fromServerFormat(e),t));return new H(e.indexId,e.collectionGroup,r,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:M(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const r=so(e),i=ao(e);return this.dn(e).next(e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(t=>re.forEach(t,t=>i.put(Oi(t.indexId,this.user,e,n)))))}updateIndexEntries(e,t){const n=new Map;return re.forEach(t,(t,r)=>{const i=n.get(t.collectionGroup);return(i?re.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(n.set(t.collectionGroup,i),re.forEach(i,n=>this._n(e,t,n).next(t=>{const i=this.wn(r,n);return t.isEqual(i)?re.resolve():this.mn(e,r,n,t,i)}))))})}gn(e,t,n,r){return oo(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}yn(e,t,n,r){return oo(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}_n(e,t,n){const r=oo(e);let i=new St(Wi);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(e,r)=>{i=i.add(new zi(n.indexId,t,r.arrayValue,r.directionalValue))}).next(()=>i)}wn(e,t){let n=new St(Wi);const r=this.cn(t,e);if(null==r)return n;const i=K(t);if(null!=i){const o=e.data.field(i.fieldPath);if(Ve(o))for(const i of o.arrayValue.values||[])n=n.add(new zi(t.indexId,e.key,this.rn(i),r))}else n=n.add(new zi(t.indexId,e.key,no,r));return n}mn(e,t,n,r,i){p("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=kt(o),c=kt(s);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=kt(s)):t?(i(a),a=kt(o)):(a=kt(o),c=kt(s))}}(r,i,Wi,r=>{o.push(this.gn(e,t,n,r))},r=>{o.push(this.yn(e,t,n,r))}),re.waitFor(o)}dn(e){let t=1;return ao(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>Wi(e,t)).filter((e,t,n)=>!t||0!==Wi(e,n[t-1]));const r=[];r.push(e);for(const i of n){const n=Wi(i,e),o=Wi(i,t);if(0===n)r[0]=e.Ue();else if(n>0&&o<0)r.push(i),r.push(i.Ue());else if(o>0)break}r.push(t);const i=[];for(let e=0;e<r.length;e+=2){if(this.pn(r[e],r[e+1]))return[];const t=[r[e].indexId,this.uid,r[e].arrayValue,r[e].directionalValue,no,[]],n=[r[e+1].indexId,this.uid,r[e+1].arrayValue,r[e+1].directionalValue,no,[]];i.push(IDBKeyRange.bound(t,n))}return i}pn(e,t){return Wi(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(co)}getMinOffset(e,t){return re.mapArray(this.Ze(t),t=>this.tn(e,t).next(e=>e||v())).next(co)}}function io(e){return pi(e,"collectionParents")}function oo(e){return pi(e,"indexEntries")}function so(e){return pi(e,"indexConfiguration")}function ao(e){return pi(e,"indexState")}function co(e){b(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;$(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Z(t.readTime,t.documentKey,n)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class uo{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new uo(e,uo.DEFAULT_COLLECTION_PERCENTILE,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const c=r.Z({range:s},(e,t,n)=>(a++,n.delete()));o.push(c.next(()=>{b(1===a)}));const l=[];for(const e of n.mutations){const r=Kr(t,e.key.path,n.batchId);o.push(i.delete(r)),l.push(e.key)}return re.waitFor(o).next(()=>l)}function fo(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw v();t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uo.DEFAULT_COLLECTION_PERCENTILE=10,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,uo.DEFAULT=new uo(41943040,uo.DEFAULT_COLLECTION_PERCENTILE,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),uo.DISABLED=new uo(-1,0,0);class po{constructor(e,t,n,r){this.userId=e,this.yt=t,this.indexManager=n,this.referenceDelegate=r,this.In={}}static re(e,t,n,r){b(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new po(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return go(e).Z({index:"userMutationsIndex",range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=yo(e),o=go(e);return o.add({}).next(s=>{b("number"==typeof s);const a=new mi(s,t,n,r),c=function(e,t,n){const r=n.baseMutations.map(t=>Cr(e.ie,t)),i=n.mutations.map(t=>Cr(e.ie,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.yt,this.userId,a),l=[];let u=new St((e,t)=>M(e.canonicalString(),t.canonicalString()));for(const e of r){const t=Kr(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),l.push(o.put(c)),l.push(i.put(t,Gr))}return u.forEach(t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.In[s]=a.keys()}),re.waitFor(l).next(()=>a)})}lookupMutationBatch(e,t){return go(e).get(t).next(e=>e?(b(e.userId===this.userId),Si(this.yt,e)):null)}Tn(e,t){return this.In[t]?re.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.In[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return go(e).Z({index:"userMutationsIndex",range:r},(e,t,r)=>{t.userId===this.userId&&(b(t.batchId>=n),i=Si(this.yt,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return go(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return go(e).W("userMutationsIndex",t).next(e=>e.map(e=>Si(this.yt,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Hr(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return yo(e).Z({range:r},(n,r,o)=>{const[s,a,c]=n,l=zr(a);if(s===this.userId&&t.path.isEqual(l))return go(e).get(c).next(e=>{if(!e)throw v();b(e.userId===this.userId),i.push(Si(this.yt,e))});o.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new St(M);const r=[];return t.forEach(t=>{const i=Hr(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=yo(e).Z({range:o},(e,r,i)=>{const[o,s,a]=e,c=zr(s);o===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()});r.push(s)}),re.waitFor(r).next(()=>this.En(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Hr(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new St(M);return yo(e).Z({range:o},(e,t,i)=>{const[o,a,c]=e,l=zr(a);o===this.userId&&n.isPrefixOf(l)?l.length===r&&(s=s.add(c)):i.done()}).next(()=>this.En(e,s))}En(e,t){const n=[],r=[];return t.forEach(t=>{r.push(go(e).get(t).next(e=>{if(null===e)throw v();b(e.userId===this.userId),n.push(Si(this.yt,e))}))}),re.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return ho(e.se,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),re.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return re.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return yo(e).Z({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=zr(e[1]);r.push(t)}else n.done()}).next(()=>{b(0===r.length)})})}containsKey(e,t){return mo(e,this.userId,t)}Rn(e){return vo(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function mo(e,t,n){const r=Hr(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return yo(e).Z({range:o,X:!0},(e,n,r)=>{const[o,a,c]=e;o===t&&a===i&&(s=!0),r.done()}).next(()=>s)}function go(e){return pi(e,"mutations")}function yo(e){return pi(e,"documentMutations")}function vo(e){return pi(e,"mutationQueues")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new bo(0)}static vn(){return new bo(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const n=new bo(t.highestTargetId);return t.highestTargetId=n.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(e=>U.fromTimestamp(new F(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(n=>(n.targetCount+=1,this.Cn(t,n),this.Sn(e,n))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>_o(e).delete(t.targetId)).next(()=>this.Vn(e)).next(t=>(b(t.targetCount>0),t.targetCount-=1,this.Sn(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return _o(e).Z((o,s)=>{const a=Ii(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>re.waitFor(i)).next(()=>r)}forEachTarget(e,t){return _o(e).Z((e,n)=>{const r=Ii(n);t(r)})}Vn(e){return Eo(e).get("targetGlobalKey").next(e=>(b(null!==e),e))}Sn(e,t){return Eo(e).put("targetGlobalKey",t)}Dn(e,t){return _o(e).put(ki(this.yt,t))}Cn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Vn(e).next(e=>e.targetCount)}getTargetData(e,t){const n=Pt(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return _o(e).Z({range:r,index:"queryTargetsIndex"},(e,n,r)=>{const o=Ii(n);Dt(t,o.target)&&(i=o,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=To(e);return t.forEach(t=>{const o=Br(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))}),re.waitFor(r)}removeMatchingKeys(e,t,n){const r=To(e);return re.forEach(t,t=>{const i=Br(t.path);return re.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=To(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=To(e);let i=Zn();return r.Z({range:n,X:!0},(e,t,n)=>{const r=zr(e[1]),o=new W(r);i=i.add(o)}).next(()=>i)}containsKey(e,t){const n=Br(t.path),r=IDBKeyRange.bound([n],[L(n)],!1,!0);let i=0;return To(e).Z({index:"documentTargetsIndex",X:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}ne(e,t){return _o(e).get(t).next(e=>e?Ii(e):null)}}function _o(e){return pi(e,"targets")}function Eo(e){return pi(e,"targetGlobal")}function To(e){return pi(e,"targetDocuments")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So([e,t],[n,r]){const i=M(e,n);return 0===i?M(t,r):i}class Io{constructor(e){this.xn=e,this.buffer=new St(So),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();So(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ko{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){p("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Mn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ce(e)?p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ne(e)}await this.Fn(3e5)})}}class Ao{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return re.resolve(me.at);const n=new Io(t);return this.$n.forEachTarget(e,e=>n.On(e.sequenceNumber)).next(()=>this.$n.Ln(e,e=>n.On(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.$n.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(lo)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lo):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let n,r,i,s,a,c,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),d()<=o.a.DEBUG&&p("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(a-s)+"ms\n"+`\tRemoved ${i} targets in `+(c-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-c)+"ms\n"+`Total Duration: ${l-u}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Ao(e,t)}(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Un(e){let t=0;return this.Ln(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(e,n)=>t(n))}addReference(e,t,n){return xo(e,n)}removeReference(e,t,n){return xo(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return xo(e,t)}Gn(e,t){return function(e,t){let n=!1;return vo(e).tt(r=>mo(e,r,t).next(e=>(e&&(n=!0),re.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Kn(e,(o,s)=>{if(s<=t){const t=this.Gn(e,o).next(t=>{if(!t)return i++,n.getEntry(e,o).next(()=>(n.removeEntry(o,U.min()),To(e).delete([0,Br(o.path)])))});r.push(t)}}).next(()=>re.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return xo(e,t)}Kn(e,t){const n=To(e);let r,i=me.at;return n.Z({index:"documentTargetsIndex"},([e,n],{path:o,sequenceNumber:s})=>{0===e?(i!==me.at&&t(new W(zr(r)),i),i=s,r=o):i=me.at}).next(()=>{i!==me.at&&t(new W(zr(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function xo(e,t){return To(e).put(function(e,t){return{targetId:0,path:Br(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.changes=new qn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?re.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Mo(e).put(n)}removeEntry(e,t,n){return Mo(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],_i(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Qn(e,n)))}getEntry(e,t){let n=Ot.newInvalidDocument(t);return Mo(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(jo(t))},(e,r)=>{n=this.jn(t,r)}).next(()=>n)}Wn(e,t){let n={size:0,document:Ot.newInvalidDocument(t)};return Mo(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(jo(t))},(e,r)=>{n={document:this.jn(t,r),size:fo(r)}}).next(()=>n)}getEntries(e,t){let n=zn();return this.zn(e,t,(e,t)=>{const r=this.jn(e,t);n=n.insert(e,r)}).next(()=>n)}Hn(e,t){let n=zn(),r=new _t(W.comparator);return this.zn(e,t,(e,t)=>{const i=this.jn(e,t);n=n.insert(e,i),r=r.insert(e,fo(t))}).next(()=>({documents:n,Jn:r}))}zn(e,t,n){if(t.isEmpty())return re.resolve();let r=new St(Fo);t.forEach(e=>r=r.add(e));const i=IDBKeyRange.bound(jo(r.first()),jo(r.last())),o=r.getIterator();let s=o.getNext();return Mo(e).Z({index:"documentKeyIndex",range:i},(e,t,r)=>{const i=W.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&Fo(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.j(jo(s)):r.done()}).next(()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,n,r){const i=t.path,o=[i.popLast().toArray(),i.lastSegment(),_i(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Mo(e).W(IDBKeyRange.bound(o,s,!0)).next(e=>{let n=zn();for(const i of e){const e=this.jn(W.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&($t(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n})}getAllFromCollectionGroup(e,t,n,r){let i=zn();const o=Lo(t,n),s=Lo(t,Z.max());return Mo(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(e,t,n)=>{const o=this.jn(W.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()}).next(()=>i)}newChangeBuffer(e){return new Po(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return Do(e).get("remoteDocumentGlobalKey").next(e=>(b(!!e),e))}Qn(e,t){return Do(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Ar(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=W.fromSegments(t.noDocument.path),r=Ti(t.noDocument.readTime);n=Ot.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return v();{const e=W.fromSegments(t.unknownDocument.path),r=Ti(t.unknownDocument.version);n=Ot.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new F(e[0],e[1]);return U.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!e.isNoDocument()||!e.version.isEqual(U.min()))return e}return Ot.newInvalidDocument(e)}}function Ro(e){return new No(e)}class Po extends Oo{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new qn(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new St((e,t)=>M(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,o)=>{const s=this.Xn.get(i);if(t.push(this.Yn.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=wi(this.Yn.yt,o);r=r.add(i.path.popLast());const c=fo(a);n+=c-s.size,t.push(this.Yn.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=wi(this.Yn.yt,o.convertToNoDocument(U.min()));t.push(this.Yn.addEntry(e,i,n))}}),r.forEach(n=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.Yn.updateMetadata(e,n)),re.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(e=>(this.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:e,Jn:t})=>(t.forEach((t,n)=>{this.Xn.set(t,{size:n,readTime:e.get(t).readTime})}),e))}}function Do(e){return pi(e,"remoteDocumentGlobal")}function Mo(e){return pi(e,"remoteDocumentsV14")}function jo(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Lo(e,t){const n=t.documentKey.path.toArray();return[e,_i(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Fo(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let e=0;e<n.length-2&&e<r.length-2;++e)if(i=M(n[e],r[e]),i)return i;return i=M(n.length,r.length),i||(i=M(n[n.length-2],r[r.length-2]),i||M(n[n.length-1],r[r.length-1]))
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Uo{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&kn(n.mutation,e,At.empty(),F.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Zn()).next(()=>t))}getLocalViewOfDocuments(e,t,n=Zn()){const r=Gn();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Hn();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Gn();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Zn()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=zn();const o=Jn(),s=Jn();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof On)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),kn(s.mutation,t,s.mutation.getFieldMask(),F.now())):o.set(t.key,At.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new Uo(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=Jn();let r=new _t((e,t)=>e-t),i=Zn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||At.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Zn()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,c=r.value,l=Qn();c.forEach(e=>{if(!i.has(e)){const r=Sn(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,l))}return re.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return W.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ht(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):re.resolve(Gn());let s=-1,a=i;return o.next(t=>re.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?re.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,Zn())).next(e=>({batchId:s,changes:Kn(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new W(t)).next(e=>{let t=Hn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Hn();return this.indexManager.getCollectionParents(e,r).next(o=>re.forEach(o,o=>{const s=function(e,t){return new Ut(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,s,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ot.newInvalidDocument(r)))});let n=Hn();return e.forEach((e,i)=>{const o=r.get(e);void 0!==o&&kn(o.mutation,i,At.empty(),F.now()),$t(t,i)&&(n=n.insert(e,i))}),n})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return re.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:yr(n.createTime)}),re.resolve()}getNamedQuery(e,t){return re.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Ai(e.bundledQuery),readTime:yr(e.readTime)}}(t)),re.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.overlays=new _t(W.comparator),this.es=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Gn();return re.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.oe(e,t,r)}),re.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.es.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.es.delete(n)),re.resolve()}getOverlaysForCollection(e,t,n){const r=Gn(),i=t.length+1,o=new W(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return re.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new _t((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Gn(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Gn(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return re.resolve(s)}oe(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new yi(t,n));let i=this.es.get(t);void 0===i&&(i=Zn(),this.es.set(t,i)),this.es.set(t,i.add(n.key))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.ns=new St(Wo.ss),this.rs=new St(Wo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const n=new Wo(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}us(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.cs(new Wo(e,t))}hs(e,t){e.forEach(e=>this.removeReference(e,t))}ls(e){const t=new W(new q([])),n=new Wo(t,e),r=new Wo(t,e+1),i=[];return this.rs.forEachInRange([n,r],e=>{this.cs(e),i.push(e.key)}),i}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new W(new q([])),n=new Wo(t,e),r=new Wo(t,e+1);let i=Zn();return this.rs.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Wo(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Wo{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return W.comparator(e.key,t.key)||M(e._s,t._s)}static os(e,t){return M(e._s,t._s)||W.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new St(Wo.ss)}checkEmpty(e){return re.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new mi(i,t,n,r);this.mutationQueue.push(o);for(const t of r)this.gs=this.gs.add(new Wo(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return re.resolve(o)}lookupMutationBatch(e,t){return re.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ps(n),i=r<0?0:r;return re.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Wo(t,0),r=new Wo(t,Number.POSITIVE_INFINITY),i=[];return this.gs.forEachInRange([n,r],e=>{const t=this.ys(e._s);i.push(t)}),re.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new St(M);return t.forEach(e=>{const t=new Wo(e,0),r=new Wo(e,Number.POSITIVE_INFINITY);this.gs.forEachInRange([t,r],e=>{n=n.add(e._s)})}),re.resolve(this.Is(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;W.isDocumentKey(i)||(i=i.child(""));const o=new Wo(new W(i),0);let s=new St(M);return this.gs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e._s)),!0)},o),re.resolve(this.Is(s))}Is(e){const t=[];return e.forEach(e=>{const n=this.ys(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){b(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let n=this.gs;return re.forEach(t.mutations,r=>{const i=new Wo(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=n})}An(e){}containsKey(e,t){const n=new Wo(t,0),r=this.gs.firstAfterOrEqual(n);return re.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.Es=e,this.docs=new _t(W.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return re.resolve(n?n.document.mutableCopy():Ot.newInvalidDocument(t))}getEntries(e,t){let n=zn();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ot.newInvalidDocument(e))}),re.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=zn();const o=t.path,s=new W(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||$(X(s),n)<=0||(r.has(s.key)||$t(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return re.resolve(i)}getAllFromCollectionGroup(e,t,n,r){v()}As(e,t){return re.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Go(this)}getSize(e){return re.resolve(this.size)}}class Go extends Oo{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(n)}),re.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.persistence=e,this.Rs=new qn(e=>Pt(e),Dt),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.bs=0,this.Ps=new zo,this.targetCount=0,this.vs=bo.Pn()}forEachTarget(e,t){return this.Rs.forEach((e,n)=>t(n)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),re.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new bo(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Dn(t),re.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Rs.forEach((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Rs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),re.waitFor(i).next(()=>r)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const n=this.Rs.get(t)||null;return re.resolve(n)}addMatchingKeys(e,t,n){return this.Ps.us(t,n),re.resolve()}removeMatchingKeys(e,t,n){this.Ps.hs(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),re.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),re.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ps.ds(t);return re.resolve(n)}containsKey(e,t){return re.resolve(this.Ps.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new me(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Qo(this),this.indexManager=new eo,this.remoteDocumentCache=function(e){return new Ko(e)}(e=>this.referenceDelegate.xs(e)),this.yt=new bi(t),this.Ns=new qo(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vo,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Vs[e.toKey()];return n||(n=new Ho(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,n){p("MemoryPersistence","Starting transaction:",e);const r=new Yo(this.Ss.next());return this.referenceDelegate.ks(),n(r).next(e=>this.referenceDelegate.Os(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ms(e,t){return re.or(Object.values(this.Vs).map(n=>()=>n.containsKey(e,t)))}}class Yo extends te{constructor(e){super(),this.currentSequenceNumber=e}}class Xo{constructor(e){this.persistence=e,this.Fs=new zo,this.$s=null}static Bs(e){return new Xo(e)}get Ls(){if(this.$s)return this.$s;throw v()}addReference(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),re.resolve()}removeReference(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),re.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(e=>this.Ls.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ls.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Ls,n=>{const r=W.fromPath(n);return this.qs(e,r).next(e=>{e||t.removeEntry(r,U.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(e=>{e?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return re.or([()=>re.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.yt=e}$(e,t,n,r){const i=new ie("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wr,{unique:!0}),e.createObjectStore("documentMutations")}(e),$o(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=re.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),$o(e)),o=o.next(()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:U.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i))),n<4&&r>=4&&(0!==n&&(o=o.next(()=>function(e,t){return t.store("mutations").W().next(n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wr,{unique:!0});const r=t.store("mutations"),i=n.map(e=>r.put(e));return re.waitFor(i)})}(e,i))),o=o.next(()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(o=o.next(()=>this.Us(i))),n<6&&r>=6&&(o=o.next(()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(i)))),n<7&&r>=7&&(o=o.next(()=>this.Gs(i))),n<8&&r>=8&&(o=o.next(()=>this.Qs(e,i))),n<9&&r>=9&&(o=o.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&r>=10&&(o=o.next(()=>this.js(i))),n<11&&r>=11&&(o=o.next(()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&r>=12&&(o=o.next(()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:oi});t.createIndex("collectionPathOverlayIndex",si,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",ai,{unique:!1})}(e)})),n<13&&r>=13&&(o=o.next(()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Qr});t.createIndex("documentKeyIndex",Jr),t.createIndex("collectionGroupIndex",Yr)}(e)).next(()=>this.Ws(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&r>=14&&(o=o.next(()=>this.zs(e,i))),n<15&&r>=15&&(o=o.next(()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ti}).createIndex("sequenceNumberIndex",ni,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:ri}).createIndex("documentKeyIndex",ii,{unique:!1})}(e))),o}Ks(e){let t=0;return e.store("remoteDocuments").Z((e,n)=>{t+=fo(n)}).next(()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}Us(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next(t=>re.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next(n=>re.forEach(n,n=>{b(n.userId===t.userId);const r=Si(this.yt,n);return ho(e,t.userId,r).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(e=>{const r=[];return n.Z((n,i)=>{const o=new q(n),s=function(e){return[0,Br(e)]}(o);r.push(t.get(s).next(n=>n?re.resolve():(n=>t.put({targetId:0,path:Br(n),sequenceNumber:e.highestListenSequenceNumber}))(o)))}).next(()=>re.waitFor(r))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:ei});const n=t.store("collectionParents"),r=new to,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Br(r)})}};return t.store("remoteDocuments").Z({X:!0},(e,t)=>{const n=new q(e);return i(n.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([e,t,n],r)=>{const o=zr(t);return i(o.popLast())}))}js(e){const t=e.store("targets");return t.Z((e,n)=>{const r=Ii(n),i=ki(this.yt,r);return t.put(i)})}Ws(e,t){const n=t.store("remoteDocuments"),r=[];return n.Z((e,n)=>{const i=t.store("remoteDocumentsV14"),o=(s=n,s.document?new W(q.fromString(s.document.name).popFirst(5)):s.noDocument?W.fromSegments(s.noDocument.path):s.unknownDocument?W.fromSegments(s.unknownDocument.path):v()).path.toArray();var s;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))}).next(()=>re.waitFor(r))}zs(e,t){const n=t.store("mutations"),r=Ro(this.yt),i=new Jo(Xo.Bs,this.yt.ie);return n.W().next(e=>{const n=new Map;return e.forEach(e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Zn();Si(this.yt,e).keys().forEach(e=>r=r.add(e)),n.set(e.userId,r)}),re.forEach(n,(e,n)=>{const o=new l(n),s=Di.re(this.yt,o),a=i.getIndexManager(o),c=po.re(o,this.yt,a,i.referenceDelegate);return new Bo(r,c,s,a).recalculateAndSaveOverlaysForDocumentKeys(new fi(t,me.at),e).next()})})}}function $o(e){e.createObjectStore("targetDocuments",{keyPath:Zr}).createIndex("documentTargetsIndex",$r,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Xr,{unique:!0}),e.createObjectStore("targetGlobal")}const es="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ts{constructor(e,t,n,r,i,o,s,a,c,l,u=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Hs=i,this.window=o,this.document=s,this.Js=c,this.Ys=l,this.Xs=u,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=e=>Promise.resolve(),!ts.C())throw new T(E.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Co(this,r),this.ii=t+"main",this.yt=new bi(a),this.ri=new oe(this.ii,this.Xs,new Zo(this.yt)),this.Cs=new wo(this.referenceDelegate,this.yt),this.remoteDocumentCache=Ro(this.yt),this.Ns=new Ni,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&m("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new T(E.FAILED_PRECONDITION,es);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new me(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){return this.si=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(async()=>{this.started&&await this.ui()}))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rs(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ce(e))return p("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return ns(e).get("owner").next(e=>re.resolve(this.mi(e)))}gi(e){return rs(e).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=pi(e,"clientMetadata");return t.W().next(e=>{const n=this.Ii(e,18e5),r=e.filter(e=>-1===n.indexOf(e));return re.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this.oi)for(const t of e)this.oi.removeItem(this.Ti(t.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?re.resolve(!0):ns(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new T(E.FAILED_PRECONDITION,es);return!1}}return!(!this.networkEnabled||!this.inForeground)||rs(e).W().next(e=>void 0===this.Ii(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&p("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const t=new fi(e,me.at);return this._i(t).next(()=>this.gi(t))}),this.ri.close(),this.Pi()}Ii(e,t){return e.filter(e=>this.pi(e.updateTimeMs,t)&&!this.Ei(e.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>rs(e).W().next(e=>this.Ii(e,18e5).map(e=>e.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return po.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ro(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return Di.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,n){p("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(o=this.Xs)?di:14===o?hi:13===o?ui:12===o?li:11===o?ci:void v();var o;let s;return this.ri.runTransaction(e,r,i,r=>(s=new fi(r,this.Ss?this.Ss.next():me.at),"readwrite-primary"===t?this.fi(s).next(e=>!!e||this.di(s)).next(t=>{if(!t)throw m(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new T(E.FAILED_PRECONDITION,ee);return n(s)}).next(e=>this.wi(s).next(()=>e)):this.Vi(s).next(()=>n(s)))).then(e=>(s.raiseOnCommittedEvent(),e))}Vi(e){return ns(e).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new T(E.FAILED_PRECONDITION,es)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ns(e).put("owner",t)}static C(){return oe.C()}_i(e){const t=ns(e);return t.get("owner").next(e=>this.mi(e)?(p("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):re.resolve())}pi(e,t){const n=Date.now();return!(e<n-t||e>n&&(m(`Detected an update time that is in the future: ${e} > ${n}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),Object(s.L)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return p("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return m("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){m("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ns(e){return pi(e,"owner")}function rs(e){return pi(e,"clientMetadata")}function is(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class os{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Si=n,this.Di=r}static Ci(e,t){let n=Zn(),r=Zn();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new os(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.ki(e,t).next(i=>i||this.Oi(e,t,r,n)).next(n=>n||this.Mi(e,t))}ki(e,t){if(Vt(t))return re.resolve(null);let n=Gt(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Jt(t,null,"F"),n=Gt(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Zn(...r);return this.Ni.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.Fi(t,r);return this.$i(t,o,i,n.readTime)?this.ki(e,Jt(t,null,"F")):this.Bi(e,o,t,n)}))})))}Oi(e,t,n,r){return Vt(t)||r.isEqual(U.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next(i=>{const s=this.Fi(t,i);return this.$i(t,s,n,r)?this.Mi(e,t):(d()<=o.a.DEBUG&&p("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zt(t)),this.Bi(e,s,t,Y(r,-1)))})}Fi(e,t){let n=new St(tn(e));return t.forEach((t,r)=>{$t(e,r)&&(n=n.add(r))}),n}$i(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Mi(e,t){return d()<=o.a.DEBUG&&p("QueryEngine","Using full collection scan to execute query:",Zt(t)),this.Ni.getDocumentsMatchingQuery(e,t,Z.min())}Bi(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,t,n,r){this.persistence=e,this.Li=t,this.yt=r,this.qi=new _t(M),this.Ui=new qn(e=>Pt(e),Dt),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(n)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bo(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function cs(e,t,n,r){return new as(e,t,n,r)}async function ls(e,t){const n=_(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Qi(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let s=Zn();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({ji:e,removedBatchIds:i,addedBatchIds:o}))})})}function us(e){const t=_(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function hs(e,t,n){let r=Zn(),i=Zn();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=zn();return n.forEach((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(U.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):p("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),{Wi:r,zi:i}})}function ds(e,t){const n=_(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function fs(e,t){const n=_(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Cs.getTargetData(e,t).next(i=>i?(r=i,re.resolve(r)):n.Cs.allocateTargetId(e).next(i=>(r=new vi(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e})}async function ps(e,t,n){const r=_(e),i=r.qi.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!ce(e))throw e;p("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.qi=r.qi.remove(t),r.Ui.delete(i.target)}function ms(e,t,n){const r=_(e);let i=U.min(),o=Zn();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=_(e),i=r.Ui.get(n);return void 0!==i?re.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,Gt(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Li.getDocumentsMatchingQuery(e,t,n?i:U.min(),n?o:Zn())).next(e=>(vs(r,en(t),e),{documents:e,Hi:o})))}function gs(e,t){const n=_(e),r=_(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.ne(e,t).next(e=>e?e.target:null))}function ys(e,t){const n=_(e),r=n.Ki.get(t)||U.min();return n.persistence.runTransaction("Get new document changes","readonly",e=>n.Gi.getAllFromCollectionGroup(e,t,Y(r,-1),Number.MAX_SAFE_INTEGER)).then(e=>(vs(n,t,e),e))}function vs(e,t,n){let r=e.Ki.get(t)||U.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Ki.set(t,r)}async function bs(e,t,n=Zn()){const r=await fs(e,Gt(Ai(t.bundledQuery))),i=_(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const o=yr(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ns.saveNamedQuery(e,t);const s=r.withResumeToken(Ie.EMPTY_BYTE_STRING,o);return i.qi=i.qi.insert(s.targetId,s),i.Cs.updateTargetData(e,s).next(()=>i.Cs.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.Cs.addMatchingKeys(e,n,r.targetId)).next(()=>i.Ns.saveNamedQuery(e,t))})}function ws(e,t){return`firestore_clients_${e}_${t}`}function _s(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Es(e,t){return`firestore_targets_${e}_${t}`}class Ts{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Zi(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new T(r.error.code,r.error.message))),o?new Ts(e,t,r.state,i):(m("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ss{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Zi(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new T(n.error.code,n.error.message))),i?new Ss(e,n.state,r):(m("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Is{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=er();for(let e=0;r&&e<n.activeTargetIds.length;++e)r=Te(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new Is(e,i):(m("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ks{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ks(t.clientId,t.onlineState):(m("SharedClientState","Failed to parse online state: "+e),null)}}class As{constructor(){this.activeTargetIds=er()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cs{constructor(e,t,n,r,i){this.window=e,this.Hs=t,this.persistenceKey=n,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new _t(M),this.started=!1,this.cr=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ar=ws(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_"+e}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.persistenceKey),this.ur=this.ur.insert(this.sr,new As),this.lr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.wr=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.vi();for(const t of e){if(t===this.sr)continue;const e=this.getItem(ws(this.persistenceKey,t));if(e){const n=Is.Zi(t,e);n&&(this.ur=this.ur.insert(n.clientId,n))}}this.gr();const t=this.storage.getItem(this.wr);if(t){const e=this.yr(t);e&&this.pr(e)}for(const e of this.cr)this.rr(e);this.cr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,n){this.Tr(e,t,n),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Es(this.persistenceKey,e));if(n){const r=Ss.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Es(this.persistenceKey,e))}updateQueryState(e,t,n){this.Rr(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.Er(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return p("SharedClientState","READ",e,t),t}setItem(e,t){p("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){p("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){const t=e;if(t.storageArea===this.storage){if(p("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ar)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(async()=>{if(this.started){if(null!==t.key)if(this.lr.test(t.key)){if(null==t.newValue){const e=this.vr(t.key);return this.Vr(e,null)}{const e=this.Sr(t.key,t.newValue);if(e)return this.Vr(e.clientId,e)}}else if(this.dr.test(t.key)){if(null!==t.newValue){const e=this.Dr(t.key,t.newValue);if(e)return this.Cr(e)}}else if(this._r.test(t.key)){if(null!==t.newValue){const e=this.Nr(t.key,t.newValue);if(e)return this.kr(e)}}else if(t.key===this.wr){if(null!==t.newValue){const e=this.yr(t.newValue);if(e)return this.pr(e)}}else if(t.key===this.hr){const e=function(e){let t=me.at;if(null!=e)try{const n=JSON.parse(e);b("number"==typeof n),t=n}catch(e){m("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==me.at&&this.sequenceNumberHandler(e)}else if(t.key===this.mr){const e=this.Or(t.newValue);await Promise.all(e.map(e=>this.syncEngine.Mr(e)))}}else this.cr.push(t)})}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,n){const r=new Ts(this.currentUser,e,t,n),i=_s(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}Er(e){const t=_s(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){const t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}Rr(e,t,n){const r=Es(this.persistenceKey,e),i=new Ss(e,t,n);this.setItem(r,i.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const n=this.vr(e);return Is.Zi(n,t)}Dr(e,t){const n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ts.Zi(new l(i),r,t)}Nr(e,t){const n=this._r.exec(e),r=Number(n[1]);return Ss.Zi(r,t)}yr(e){return ks.Zi(e)}Or(e){return JSON.parse(e)}async Cr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Fr(e.batchId,e.state,e.error);p("SharedClientState","Ignoring mutation for non-active user "+e.user.uid)}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const n=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),i=this.Ir(n),o=[],s=[];return i.forEach(e=>{r.has(e)||o.push(e)}),r.forEach(e=>{i.has(e)||s.push(e)}),this.syncEngine.Br(o,s).then(()=>{this.ur=n})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=er();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class xs{constructor(){this.Lr=new As,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,n){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new As,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{Ur(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.oo=t+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,n,r,i){const o=this.ho(e,t);p("RestConnection","Sending: ",o,n);const s={};return this.lo(s,r,i),this.fo(e,o,s,n).then(e=>(p("RestConnection","Received: ",e),e),t=>{throw g("RestConnection",e+" failed with error: ",t,"url: ",o,"request:",n),t})}_o(e,t,n,r,i,o){return this.ao(e,t,n,r,i)}lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+u,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}ho(e,t){const n=Rs[e];return`${this.oo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,n,r){return new Promise((i,o)=>{const s=new a.g;s.setWithCredentials(!0),s.listenOnce(a.c.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case a.a.NO_ERROR:const t=s.getResponseJson();p("Connection","XHR received:",JSON.stringify(t)),i(t);break;case a.a.TIMEOUT:p("Connection",'RPC "'+e+'" timed out'),o(new T(E.DEADLINE_EXCEEDED,"Request time out"));break;case a.a.HTTP_ERROR:const n=s.getStatus();if(p("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(t)>=0?t:E.UNKNOWN}(t.status);o(new T(e,t.message))}else o(new T(E.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new T(E.UNAVAILABLE,"Connection failed."));break;default:v()}}finally{p("Connection",'RPC "'+e+'" completed.')}});const c=JSON.stringify(r);s.send(t,"POST",c,n,15)})}wo(e,t,n){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Object(a.h)(),o=Object(a.i)(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new a.d({})),this.lo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=r.join("");p("Connection","Creating WebChannel: "+c,s);const l=i.createWebChannel(c,s);let u=!1,h=!1;const d=new Ps({Hr:e=>{h?p("Connection","Not sending because WebChannel is closed:",e):(u||(p("Connection","Opening WebChannel transport."),l.open(),u=!0),p("Connection","WebChannel sending:",e),l.send(e))},Jr:()=>l.close()}),f=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return f(l,a.f.EventType.OPEN,()=>{h||p("Connection","WebChannel transport opened.")}),f(l,a.f.EventType.CLOSE,()=>{h||(h=!0,p("Connection","WebChannel transport closed"),d.io())}),f(l,a.f.EventType.ERROR,e=>{h||(h=!0,g("Connection","WebChannel transport errored:",e),d.io(new T(E.UNAVAILABLE,"The operation could not be completed")))}),f(l,a.f.EventType.MESSAGE,e=>{var t;if(!h){const n=e.data[0];b(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){p("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=Ln[e];if(void 0!==t)return Bn(t)}(e),n=i.message;void 0===t&&(t=E.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),h=!0,d.io(new T(t,n)),l.close()}else p("Connection","WebChannel received:",n),d.ro(n)}}),f(o,a.b.STAT_EVENT,e=>{e.stat===a.e.PROXY?p("Connection","Detected buffering proxy"):e.stat===a.e.NOPROXY&&p("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.so()},0),d}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(){return"undefined"!=typeof window?window:null}function js(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(e){return new fr(e,!0)}class Fs{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Hs=e,this.timerId=t,this.mo=n,this.yo=r,this.po=i,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-n);r>0&&p("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t,n,r,i,o,s,a){this.Hs=e,this.vo=n,this.Vo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Fs(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,t){this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==e?this.xo.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(m(t.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):t&&t.code===E.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(t)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.So===t&&this.Go(e,n)},t=>{e(()=>{const e=new T(E.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Qo(e)})})}Go(e,t){const n=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{n(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(e=>{n(()=>this.Qo(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return p("PersistentStream","close with error: "+e),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bs extends Us{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.yt=i}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:v()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.wt?(b(void 0===t||"string"==typeof t),Ie.fromBase64String(t||"")):(b(void 0===t||t instanceof Uint8Array),Ie.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?E.UNKNOWN:Bn(e.code);return new T(t,e.message||"")}(s);n=new or(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=_r(e,r.document.name),o=yr(r.document.updateTime),s=r.document.createTime?yr(r.document.createTime):U.min(),a=new Ct({mapValue:{fields:r.document.fields}}),c=Ot.newFoundDocument(i,o,s,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new rr(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=_r(e,r.document),o=r.readTime?yr(r.readTime):U.min(),s=Ot.newNoDocument(i,o),a=r.removedTargetIds||[];n=new rr([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=_r(e,r.document),o=r.removedTargetIds||[];n=new rr([],o,i,null)}else{if(!("filter"in t))return v();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new jn(r),o=e.targetId;n=new ir(o,i)}}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return U.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?U.min():t.readTime?yr(t.readTime):U.min()}(e);return this.listener.Wo(t,n)}zo(e){const t={};t.database=Sr(this.yt),t.addTarget=function(e,t){let n;const r=t.target;return n=Mt(r)?{documents:Or(e,r)}:{query:Nr(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=mr(e,t.resumeToken):t.snapshotVersion.compareTo(U.min())>0&&(n.readTime=pr(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return v()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}Ho(e){const t={};t.database=Sr(this.yt),t.removeTarget=e,this.Bo(t)}}class qs extends Us{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.yt=i,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(b(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function(e,t){return e&&e.length>0?(b(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?yr(e.updateTime):yr(t);return n.isEqual(U.min())&&(n=yr(t)),new wn(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=yr(e.commitTime);return this.listener.Zo(n,t)}return b(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Sr(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Cr(this.yt,e))};this.Bo(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.yt=r,this.nu=!1}su(){if(this.nu)throw new T(E.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.connection.ao(e,t,n,r,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new T(E.UNKNOWN,e.toString())})}_o(e,t,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection._o(e,t,n,i,o,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new T(E.UNKNOWN,e.toString())})}terminate(){this.nu=!0}}class zs{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: "+e.toString()),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(m(t),this.ou=!1):p("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=i,this.mu.Ur(e=>{n.enqueueAndForget(async()=>{$s(this)&&(p("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=_(e);t._u.add(4),await Ks(t),t.gu.set("Unknown"),t._u.delete(4),await Hs(t)}(this))})}),this.gu=new zs(n,r)}}async function Hs(e){if($s(e))for(const t of e.wu)await t(!0)}async function Ks(e){for(const t of e.wu)await t(!1)}function Gs(e,t){const n=_(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),Zs(n)?Xs(n):ya(n).ko()&&Js(n,t))}function Qs(e,t){const n=_(e),r=ya(n);n.du.delete(t),r.ko()&&Ys(n,t),0===n.du.size&&(r.ko()?r.Fo():$s(n)&&n.gu.set("Unknown"))}function Js(e,t){e.yu.Ot(t.targetId),ya(e).zo(t)}function Ys(e,t){e.yu.Ot(t),ya(e).Ho(t)}function Xs(e){e.yu=new ar({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>e.du.get(t)||null}),ya(e).start(),e.gu.uu()}function Zs(e){return $s(e)&&!ya(e).No()&&e.du.size>0}function $s(e){return 0===_(e)._u.size}function ea(e){e.yu=void 0}async function ta(e){e.du.forEach((t,n)=>{Js(e,t)})}async function na(e,t){ea(e),Zs(e)?(e.gu.hu(t),Xs(e)):e.gu.set("Unknown")}async function ra(e,t,n){if(e.gu.set("Online"),t instanceof or&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.du.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.du.delete(r),e.yu.removeTarget(r))}(e,t)}catch(n){p("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ia(e,n)}else if(t instanceof rr?e.yu.Kt(t):t instanceof ir?e.yu.Jt(t):e.yu.jt(t),!n.isEqual(U.min()))try{const t=await us(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.yu.Zt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.du.get(t);if(!n)return;e.du.set(t,n.withResumeToken(Ie.EMPTY_BYTE_STRING,n.snapshotVersion)),Ys(e,t);const r=new vi(n.target,t,1,n.sequenceNumber);Js(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){p("RemoteStore","Failed to raise snapshot:",t),await ia(e,t)}}async function ia(e,t,n){if(!ce(t))throw t;e._u.add(1),await Ks(e),e.gu.set("Offline"),n||(n=()=>us(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{p("RemoteStore","Retrying IndexedDB access"),await n(),e._u.delete(1),await Hs(e)})}function oa(e,t){return t().catch(n=>ia(e,n,t))}async function sa(e){const t=_(e),n=va(t);let r=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;aa(t);)try{const e=await ds(t.localStore,r);if(null===e){0===t.fu.length&&n.Fo();break}r=e.batchId,ca(t,e)}catch(e){await ia(t,e)}la(t)&&ua(t)}function aa(e){return $s(e)&&e.fu.length<10}function ca(e,t){e.fu.push(t);const n=va(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function la(e){return $s(e)&&!va(e).No()&&e.fu.length>0}function ua(e){va(e).start()}async function ha(e){va(e).eu()}async function da(e){const t=va(e);for(const n of e.fu)t.Xo(n.mutations)}async function fa(e,t,n){const r=e.fu.shift(),i=gi.from(r,t,n);await oa(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await sa(e)}async function pa(e,t){t&&va(e).Yo&&await async function(e,t){if(Un(n=t.code)&&n!==E.ABORTED){const n=e.fu.shift();va(e).Mo(),await oa(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await sa(e)}var n}(e,t),la(e)&&ua(e)}async function ma(e,t){const n=_(e);n.asyncQueue.verifyOperationInProgress(),p("RemoteStore","RemoteStore received new credentials");const r=$s(n);n._u.add(3),await Ks(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n._u.delete(3),await Hs(n)}async function ga(e,t){const n=_(e);t?(n._u.delete(2),await Hs(n)):t||(n._u.add(2),await Ks(n),n.gu.set("Unknown"))}function ya(e){return e.pu||(e.pu=function(e,t,n){const r=_(e);return r.su(),new Bs(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(e.datastore,e.asyncQueue,{Yr:ta.bind(null,e),Zr:na.bind(null,e),Wo:ra.bind(null,e)}),e.wu.push(async t=>{t?(e.pu.Mo(),Zs(e)?Xs(e):e.gu.set("Unknown")):(await e.pu.stop(),ea(e))})),e.pu}function va(e){return e.Iu||(e.Iu=function(e,t,n){const r=_(e);return r.su(),new qs(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:ha.bind(null,e),Zr:pa.bind(null,e),tu:da.bind(null,e),Zo:fa.bind(null,e)}),e.wu.push(async t=>{t?(e.Iu.Mo(),await sa(e)):(await e.Iu.stop(),e.fu.length>0&&(p("RemoteStore",`Stopping write stream with ${e.fu.length} pending writes`),e.fu=[]))})),e.Iu
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class ba{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new S,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new ba(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wa(e,t){if(m("AsyncQueue",`${t}: ${e}`),ce(e))return new T(E.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.comparator=e?(t,n)=>e(t,n)||W.comparator(t.key,n.key):(e,t)=>W.comparator(e.key,t.key),this.keyedMap=Hn(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new _a(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _a))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new _a;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.Tu=new _t(W.comparator)}track(e){const t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):v():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,n)=>{e.push(n)}),e}}class Ta{constructor(e,t,n,r,i,o,s,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new Ta(e,t,_a.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.Au=void 0,this.listeners=[]}}class Ia{constructor(){this.queries=new qn(e=>Xt(e),Yt),this.onlineState="Unknown",this.Ru=new Set}}async function ka(e,t){const n=_(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Sa),i)try{o.Au=await n.onListen(r)}catch(e){const n=wa(e,`Initialization of query '${Zt(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.bu(n.onlineState),o.Au&&t.Pu(o.Au)&&Oa(n)}async function Aa(e,t){const n=_(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Ca(e,t){const n=_(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.Pu(e)&&(r=!0);i.Au=e}}r&&Oa(n)}function xa(e,t,n){const r=_(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function Oa(e){e.Ru.forEach(e=>{e.next()})}class Na{constructor(e,t,n){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=n||{}}Pu(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ta(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){if(e.docChanges.length>0)return!0;const t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}xu(e){e=Ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.yt=e}Ji(e){return _r(this.yt,e)}Yi(e){return e.metadata.exists?Ar(this.yt,e.document,!1):Ot.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return yr(e)}}class Da{constructor(e,t,n){this.Mu=e,this.localStore=t,this.yt=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ma(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const n=q.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,n=new Pa(this.yt);for(const r of e)if(r.metadata.queries){const e=n.Ji(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Zn()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=_(e);let o=Zn(),s=zn();for(const e of n){const n=t.Ji(e.metadata.name);e.document&&(o=o.add(n));const r=t.Yi(e);r.setReadTime(t.Xi(e.metadata.readTime)),s=s.insert(n,r)}const a=i.Gi.newChangeBuffer({trackRemovals:!0}),c=await fs(i,function(e){return Gt(qt(q.fromString("__bundle__/docs/"+e)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>hs(e,a,s).next(t=>(a.apply(e),t)).next(t=>i.Cs.removeMatchingKeysForTargetId(e,c.targetId).next(()=>i.Cs.addMatchingKeys(e,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)).next(()=>t.Wi)))}(this.localStore,new Pa(this.yt),this.documents,this.Mu.id),t=this.$u(this.documents);for(const e of this.queries)await bs(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:e}}}function Ma(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.key=e}}class La{constructor(e){this.key=e}}class Fa{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Zn(),this.mutatedKeys=Zn(),this.Gu=tn(e),this.Qu=new _a(this.Gu)}get ju(){return this.qu}Wu(e,t){const n=t?t.zu:new Ea,r=t?t.Qu:this.Qu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const l=r.get(e),u=$t(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Hu(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Gu(u,a)>0||c&&this.Gu(u,c)<0)&&(s=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Qu:o,zu:n,$i:s,mutatedKeys:i}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const i=e.zu.Eu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return v()}};return n(e)-n(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.type,t.type)||this.Gu(e.doc,t.doc)),this.Ju(n);const o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,a=s!==this.Uu;return this.Uu=s,0!==i.length||a?{snapshot:new Ta(this.query,e.Qu,r,i,e.mutatedKeys,0===s,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Ea,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(e=>this.qu=this.qu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.qu=this.qu.delete(e)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Zn(),this.Qu.forEach(e=>{this.Zu(e.key)&&(this.Ku=this.Ku.add(e.key))});const t=[];return e.forEach(e=>{this.Ku.has(e)||t.push(new La(e))}),this.Ku.forEach(n=>{e.has(n)||t.push(new ja(n))}),t}tc(e){this.qu=e.Hi,this.Ku=Zn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Ta.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Ua{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Ba{constructor(e){this.key=e,this.nc=!1}}class qa{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new qn(e=>Xt(e),Yt),this.rc=new Map,this.oc=new Set,this.uc=new _t(W.comparator),this.cc=new Map,this.ac=new zo,this.hc={},this.lc=new Map,this.fc=bo.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}async function Va(e,t){const n=pc(e);let r,i;const o=n.ic.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.ec();else{const e=await fs(n.localStore,Gt(t));n.isPrimaryClient&&Gs(n.remoteStore,e);const o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await za(n,t,r,"current"===o,e.resumeToken)}return i}async function za(e,t,n,r,i){e._c=(t,n,r)=>async function(e,t,n,r){let i=t.view.Wu(n);i.$i&&(i=await ms(e.localStore,t.query,!1).then(({documents:e})=>t.view.Wu(e,i)));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return ec(e,t.targetId,s.Xu),s.snapshot}(e,t,n,r);const o=await ms(e.localStore,t,!0),s=new Fa(t,o.Hi),a=s.Wu(o.documents),c=nr.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=s.applyChanges(a,e.isPrimaryClient,c);ec(e,n,l.Xu);const u=new Ua(t,n,s);return e.ic.set(t,u),e.rc.has(n)?e.rc.get(n).push(t):e.rc.set(n,[t]),l.snapshot}async function Wa(e,t){const n=_(e),r=n.ic.get(t),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(e=>!Yt(e,t))),void n.ic.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ps(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Qs(n.remoteStore,r.targetId),Za(n,r.targetId)}).catch(ne)):(Za(n,r.targetId),await ps(n.localStore,r.targetId,!0))}async function Ha(e,t){const n=_(e);try{const e=await function(e,t){const n=_(e),r=t.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const s=[];t.targetChanges.forEach((o,a)=>{const c=i.get(a);if(!c)return;s.push(n.Cs.removeMatchingKeys(e,o.removedDocuments,a).next(()=>n.Cs.addMatchingKeys(e,o.addedDocuments,a)));let l=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?l=l.withResumeToken(Ie.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(c,l,o)&&s.push(n.Cs.updateTargetData(e,l))});let a=zn(),c=Zn();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(hs(e,o,t.documentUpdates).next(e=>{a=e.Wi,c=e.zi})),!r.isEqual(U.min())){const t=n.Cs.getLastRemoteSnapshotVersion(e).next(t=>n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return re.waitFor(s).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,c)).next(()=>a)}).then(e=>(n.qi=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.cc.get(t);r&&(b(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.nc=!0:e.modifiedDocuments.size>0?b(r.nc):e.removedDocuments.size>0&&(b(r.nc),r.nc=!1))}),await rc(n,e,t)}catch(e){await ne(e)}}function Ka(e,t,n){const r=_(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ic.forEach((n,r)=>{const i=r.view.bu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=_(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const e of n.listeners)e.bu(t)&&(r=!0)}),r&&Oa(n)}(r.eventManager,t),e.length&&r.sc.Wo(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ga(e,t,n){const r=_(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.cc.get(t),o=i&&i.key;if(o){let e=new _t(W.comparator);e=e.insert(o,Ot.newNoDocument(o,U.min()));const n=Zn().add(o),i=new tr(U.min(),new Map,new St(M),e,n);await Ha(r,i),r.uc=r.uc.remove(o),r.cc.delete(t),nc(r)}else await ps(r.localStore,t,!1).then(()=>Za(r,t,n)).catch(ne)}async function Qa(e,t){const n=_(e),r=t.batch.batchId;try{const e=await function(e,t){const n=_(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=re.resolve();return o.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);b(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Zn();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Xa(n,r,null),Ya(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rc(n,e)}catch(e){await ne(e)}}async function Ja(e,t,n){const r=_(e);try{const e=await function(e,t){const n=_(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(b(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Xa(r,t,n),Ya(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await rc(r,e)}catch(n){await ne(n)}}function Ya(e,t){(e.lc.get(t)||[]).forEach(e=>{e.resolve()}),e.lc.delete(t)}function Xa(e,t,n){const r=_(e);let i=r.hc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function Za(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.rc.get(t))e.ic.delete(r),n&&e.sc.wc(r,n);e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach(t=>{e.ac.containsKey(t)||$a(e,t)})}function $a(e,t){e.oc.delete(t.path.canonicalString());const n=e.uc.get(t);null!==n&&(Qs(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),nc(e))}function ec(e,t,n){for(const r of n)r instanceof ja?(e.ac.addReference(r.key,t),tc(e,r)):r instanceof La?(p("SyncEngine","Document no longer in limbo: "+r.key),e.ac.removeReference(r.key,t),e.ac.containsKey(r.key)||$a(e,r.key)):v()}function tc(e,t){const n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(p("SyncEngine","New document in limbo: "+n),e.oc.add(r),nc(e))}function nc(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){const t=e.oc.values().next().value;e.oc.delete(t);const n=new W(q.fromString(t)),r=e.fc.next();e.cc.set(r,new Ba(n)),e.uc=e.uc.insert(n,r),Gs(e.remoteStore,new vi(Gt(qt(n.path)),r,2,me.at))}}async function rc(e,t,n){const r=_(e),i=[],o=[],s=[];r.ic.isEmpty()||(r.ic.forEach((e,a)=>{s.push(r._c(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=os.Ci(a.targetId,e);o.push(t)}}))}),await Promise.all(s),r.sc.Wo(i),await async function(e,t){const n=_(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>re.forEach(t,t=>re.forEach(t.Si,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>re.forEach(t.Di,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!ce(e))throw e;p("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.qi.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.qi=n.qi.insert(t,i)}}}(r.localStore,o))}async function ic(e,t){const n=_(e);if(!n.currentUser.isEqual(t)){p("SyncEngine","User change. New user:",t.toKey());const e=await ls(n.localStore,t);n.currentUser=t,function(e,t){e.lc.forEach(e=>{e.forEach(e=>{e.reject(new T(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.lc.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await rc(n,e.ji)}}function oc(e,t){const n=_(e),r=n.cc.get(t);if(r&&r.nc)return Zn().add(r.key);{let e=Zn();const r=n.rc.get(t);if(!r)return e;for(const t of r){const r=n.ic.get(t);e=e.unionWith(r.view.ju)}return e}}async function sc(e,t){const n=_(e),r=await ms(n.localStore,t.query,!0),i=t.view.tc(r);return n.isPrimaryClient&&ec(n,t.targetId,i.Xu),i}async function ac(e,t){const n=_(e);return ys(n.localStore,t).then(e=>rc(n,e))}async function cc(e,t,n,r){const i=_(e),o=await function(e,t){const n=_(e),r=_(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Tn(e,t).next(t=>t?n.localDocuments.getDocuments(e,t):re.resolve(null)))}(i.localStore,t);null!==o?("pending"===n?await sa(i.remoteStore):"acknowledged"===n||"rejected"===n?(Xa(i,t,r||null),Ya(i,t),function(e,t){_(_(e).mutationQueue).An(t)}(i.localStore,t)):v(),await rc(i,o)):p("SyncEngine","Cannot apply mutation batch with id: "+t)}async function lc(e,t,n){const r=_(e),i=[],o=[];for(const e of t){let t;const n=r.rc.get(e);if(n&&0!==n.length){t=await fs(r.localStore,Gt(n[0]));for(const e of n){const t=r.ic.get(e),n=await sc(r,t);n.snapshot&&o.push(n.snapshot)}}else{const n=await gs(r.localStore,e);t=await fs(r.localStore,n),await za(r,uc(n),e,!1,t.resumeToken)}i.push(t)}return r.sc.Wo(o),i}function uc(e){return Bt(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function hc(e){const t=_(e);return _(_(t.localStore).persistence).vi()}async function dc(e,t,n,r){const i=_(e);if(i.dc)return void p("SyncEngine","Ignoring unexpected query state notification.");const o=i.rc.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await ys(i.localStore,en(o[0])),r=tr.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Ie.EMPTY_BYTE_STRING);await rc(i,e,r);break}case"rejected":await ps(i.localStore,t,!0),Za(i,t,r);break;default:v()}}async function fc(e,t,n){const r=pc(e);if(r.dc){for(const e of t){if(r.rc.has(e)){p("SyncEngine","Adding an already active target "+e);continue}const t=await gs(r.localStore,e),n=await fs(r.localStore,t);await za(r,uc(t),n.targetId,!1,n.resumeToken),Gs(r.remoteStore,n)}for(const e of n)r.rc.has(e)&&await ps(r.localStore,e,!1).then(()=>{Qs(r.remoteStore,e),Za(r,e)}).catch(ne)}}function pc(e){const t=_(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ha.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ga.bind(null,t),t.sc.Wo=Ca.bind(null,t.eventManager),t.sc.wc=xa.bind(null,t.eventManager),t}function mc(e){const t=_(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Qa.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ja.bind(null,t),t}class gc{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=Ls(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return cs(this.persistence,new ss,e.initialUser,this.yt)}yc(e){return new Jo(Xo.Bs,this.yt)}gc(e){return new xs}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class yc extends gc{constructor(e,t,n){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ac.initialize(this,e),await mc(this.Ac.syncEngine),await sa(this.Ac.remoteStore),await this.persistence.li(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ic(e){return cs(this.persistence,new ss,e.initialUser,this.yt)}Tc(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new ko(n,e.asyncQueue,t)}Ec(e,t){const n=new pe(t,this.persistence);return new fe(e.asyncQueue,n)}yc(e){const t=is(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?uo.withCacheSize(this.cacheSizeBytes):uo.DEFAULT;return new ts(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ms(),js(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new xs}}class vc extends yc{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Ac.syncEngine;this.sharedClientState instanceof Cs&&(this.sharedClientState.syncEngine={Fr:cc.bind(null,t),$r:dc.bind(null,t),Br:fc.bind(null,t),vi:hc.bind(null,t),Mr:ac.bind(null,t)},await this.sharedClientState.start()),await this.persistence.li(async e=>{await async function(e,t){const n=_(e);if(pc(n),mc(n),!0===t&&!0!==n.dc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await lc(n,e.toArray());n.dc=!0,await ga(n.remoteStore,!0);for(const e of t)Gs(n.remoteStore,e)}else if(!1===t&&!1!==n.dc){const e=[];let t=Promise.resolve();n.rc.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(Za(n,i),ps(n.localStore,i,!0))),Qs(n.remoteStore,i)}),await t,await lc(n,e),function(e){const t=_(e);t.cc.forEach((e,n)=>{Qs(t.remoteStore,n)}),t.ac.fs(),t.cc=new Map,t.uc=new _t(W.comparator)}(n),n.dc=!1,await ga(n.remoteStore,!1)}}(this.Ac.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())})}gc(e){const t=Ms();if(!Cs.C(t))throw new T(E.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=is(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Cs(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class bc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ka(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ic.bind(null,this.syncEngine),await ga(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ia}createDatastore(e){const t=Ls(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Ds(r));var r;return function(e,t,n,r){return new Vs(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Ka(this.syncEngine,e,0),o=Ns.C()?new Ns:new Os,new Ws(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new qa(e,t,n,r,i,o);return s&&(a.dc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=_(e);p("RemoteStore","RemoteStore shutting down."),t._u.add(5),await Ks(t),t.mu.shutdown(),t.gu.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(e,t,n){if(!n)throw new T(E.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function _c(e,t,n,r){if(!0===t&&!0===r)throw new T(E.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Ec(e){if(!W.isDocumentKey(e))throw new T(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Tc(e){if(W.isDocumentKey(e))throw new T(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Sc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":v()}function Ic(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new T(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sc(e);throw new T(E.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function kc(e,t){if(t<=0)throw new T(E.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new Map;class Cc{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new T(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,_c("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cc({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cc(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new k;switch(e.type){case"gapi":const t=e.client;return new O(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new T(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ac.get(e);t&&(p("ComponentProvider","Removing Datastore"),Ac.delete(e),t.terminate())}(this),Promise.resolve()}}function Oc(e,t,n,r={}){var i;const o=(e=Ic(e,xc))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&g("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=l.MOCK_USER;else{t=Object(s.n)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new T(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new l(o)}e._authCredentials=new A(new I(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nc(this.firestore,e,this._key)}}class Rc{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Rc(this.firestore,e,this._query)}}class Pc extends Rc{constructor(e,t,n){super(e,t,qt(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nc(this.firestore,null,new W(e))}withConverter(e){return new Pc(this.firestore,e,this._path)}}function Dc(e,t,...n){if(e=Object(s.z)(e),wc("collection","path",t),e instanceof xc){const r=q.fromString(t,...n);return Tc(r),new Pc(e,null,r)}{if(!(e instanceof Nc||e instanceof Pc))throw new T(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(q.fromString(t,...n));return Tc(r),new Pc(e.firestore,null,r)}}function Mc(e,t){if(e=Ic(e,xc),wc("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new T(E.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Rc(e,null,function(e){return new Ut(q.emptyPath(),e)}(t))}function jc(e,t,...n){if(e=Object(s.z)(e),1===arguments.length&&(t=D.R()),wc("doc","path",t),e instanceof xc){const r=q.fromString(t,...n);return Ec(r),new Nc(e,null,new W(r))}{if(!(e instanceof Nc||e instanceof Pc))throw new T(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(q.fromString(t,...n));return Ec(r),new Nc(e.firestore,e instanceof Pc?e.converter:null,new W(r))}}function Lc(e,t){return e=Object(s.z)(e),t=Object(s.z)(t),(e instanceof Nc||e instanceof Pc)&&(t instanceof Nc||t instanceof Pc)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Fc(e,t){return e=Object(s.z)(e),t=Object(s.z)(t),e instanceof Rc&&t instanceof Rc&&e.firestore===t.firestore&&Yt(e._query,t._query)&&e.converter===t.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function Uc(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):m("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new S,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(e=>{e&&e.Ou()?this.metadata.resolve(e.ku.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.ku)))},e=>this.metadata.reject(e))}close(){return this.Pc.cancel()}async getMetadata(){return this.metadata.promise}async mc(){return await this.getMetadata(),this.Vc()}async Vc(){const e=await this.Sc();if(null===e)return null;const t=this.vc.decode(e),n=Number(t);isNaN(n)&&this.Dc(`length string (${t}) is not valid number`);const r=await this.Cc(n);return new Ra(JSON.parse(r),e.length+n)}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Sc(){for(;this.xc()<0&&!await this.Nc(););if(0===this.buffer.length)return null;const e=this.xc();e<0&&this.Dc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Cc(e){for(;this.buffer.length<e;)await this.Nc()&&this.Dc("Reached the end of bundle when more is expected.");const t=this.vc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Dc(e){throw this.Pc.cancel(),new Error("Invalid bundle format: "+e)}async Nc(){const e=await this.Pc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Vc{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new T(E.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=_(e),r=Sr(n.yt)+"/documents",i={documents:t.map(e=>wr(n.yt,e))},o=await n._o("BatchGetDocuments",r,i,t.length),s=new Map;o.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){b(!!t.found),t.found.name,t.found.updateTime;const n=_r(e,t.found.name),r=yr(t.found.updateTime),i=t.found.createTime?yr(t.found.createTime):U.min(),o=new Ct({mapValue:{fields:t.found.fields}});return Ot.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){b(!!t.missing),b(!!t.readTime);const n=_r(e,t.missing),r=yr(t.readTime);return Ot.newNoDocument(n,r)}(e,t):v()}(n.yt,e);s.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=s.get(e.toString());b(!!t),a.push(t)}),a}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Dn(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=W.fromPath(t);this.mutations.push(new Mn(n,this.precondition(n)))}),await async function(e,t){const n=_(e),r=Sr(n.yt)+"/documents",i={writes:t.map(e=>Cr(n.yt,e))};await n.ao("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw v();t=U.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new T(E.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(U.min())?_n.exists(!1):_n.updateTime(t):_n.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(U.min()))throw new T(E.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _n.updateTime(t)}return _n.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.kc=n.maxAttempts,this.xo=new Fs(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){this.xo.Ro(async()=>{const e=new Vc(this.datastore),t=this.Mc(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.Fc(e)}))}).catch(e=>{this.Fc(e)})})}Mc(e){try{const t=this.updateFunction(e);return!_e(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Un(t)}return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=l.UNAUTHENTICATED,this.clientId=D.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{p("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(p("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new S;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=wa(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Hc(e,t){e.asyncQueue.verifyOperationInProgress(),p("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await ls(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function Kc(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Gc(e);p("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>ma(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>ma(t.remoteStore,n)),e.onlineComponents=t}async function Gc(e){return e.offlineComponents||(p("FirestoreClient","Using default OfflineComponentProvider"),await Hc(e,new gc)),e.offlineComponents}async function Qc(e){return e.onlineComponents||(p("FirestoreClient","Using default OnlineComponentProvider"),await Kc(e,new bc)),e.onlineComponents}function Jc(e){return Gc(e).then(e=>e.persistence)}function Yc(e){return Gc(e).then(e=>e.localStore)}function Xc(e){return Qc(e).then(e=>e.remoteStore)}function Zc(e){return Qc(e).then(e=>e.syncEngine)}function $c(e){return Qc(e).then(e=>e.datastore)}async function el(e){const t=await Qc(e),n=t.eventManager;return n.onListen=Va.bind(null,t.syncEngine),n.onUnlisten=Wa.bind(null,t.syncEngine),n}function tl(e,t,n={}){const r=new S;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new Bc({next:o=>{t.enqueueAndForget(()=>Aa(e,s));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new T(E.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new T(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Na(qt(n.path),o,{includeMetadataChanges:!0,Nu:!0});return ka(e,s)}(await el(e),e.asyncQueue,t,n,r)),r.promise}function nl(e,t,n={}){const r=new S;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new Bc({next:n=>{t.enqueueAndForget(()=>Aa(e,s)),n.fromCache&&"server"===r.source?i.reject(new T(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Na(n,o,{includeMetadataChanges:!0,Nu:!0});return ka(e,s)}(await el(e),e.asyncQueue,t,n,r)),r.promise}function rl(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new qc(e,t)}(function(e,t){if(e instanceof Uint8Array)return Uc(e,t);if(e instanceof ArrayBuffer)return Uc(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,Ls(t));e.asyncQueue.enqueueAndForget(async()=>{!function(e,t,n){const r=_(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=_(e),r=yr(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Ns.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Ma(r));const i=new Da(r,e.localStore,t.yt);let o=await t.mc();for(;o;){const e=await i.Fu(o);e&&n._updateProgress(e),o=await t.mc()}const s=await i.complete();return await rc(e,s.Lu,void 0),await function(e,t){const n=_(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Ns.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.Bu)}catch(e){return g("SyncEngine","Loading bundle failed with "+e),n._failWith(e),Promise.resolve(new Set)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(r,t,n).then(e=>{r.sharedClientState.notifyBundleLoaded(e)})}(await Zc(e),i,r)})}class il{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Fs(this,"async_queue_retry"),this.Wc=()=>{const e=js();e&&p("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const e=js();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=js();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new S;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(0!==this.Lc.length){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!ce(e))throw e;p("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(e=>{this.Kc=e,this.Gc=!1;throw m("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)),e}).then(e=>(this.Gc=!1,e))));return this.Bc=t,t}enqueueAfterDelay(e,t,n){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=ba.createAndSchedule(this,e,t,n,e=>this.Yc(e));return this.Uc.push(r),r}zc(){this.Kc&&v()}verifyOperationInProgress(){}async Xc(){let e;do{e=this.Bc,await e}while(e!==this.Bc)}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function ol(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)}class sl{constructor(){this._progressObserver={},this._taskCompletionResolver=new S,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=-1;class cl extends xc{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new il,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ul(this),this._firestoreClient.terminate()}}function ll(e){return e._firestoreClient||ul(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ul(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new ge(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Wc(e._authCredentials,e._appCheckCredentials,e._queue,r)}function hl(e,t){wl(e=Ic(e,cl));const n=ll(e),r=e._freezeSettings(),i=new bc;return fl(n,i,new yc(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function dl(e){wl(e=Ic(e,cl));const t=ll(e),n=e._freezeSettings(),r=new bc;return fl(t,r,new vc(r,n.cacheSizeBytes))}function fl(e,t,n){const r=new S;return e.asyncQueue.enqueue(async()=>{try{await Hc(e,n),await Kc(e,t),r.resolve()}catch(e){const t=e;if(!function(e){return"FirebaseError"===e.name?e.code===E.FAILED_PRECONDITION||e.code===E.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(t))throw t;g("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.reject(t)}}).then(()=>r.promise)}function pl(e){if(e._initialized&&!e._terminated)throw new T(E.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new S;return e._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(e){if(!oe.C())return Promise.resolve();const t=e+"main";await oe.delete(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(is(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}}),t.promise}function ml(e){return function(e){const t=new S;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t){const n=_(e);$s(n.remoteStore)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=_(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.lc.get(e)||[];r.push(t),n.lc.set(e,r)}catch(e){const n=wa(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Zc(e),t)),t.promise}(ll(e=Ic(e,cl)))}function gl(e){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await Jc(e),n=await Xc(e);return t.setNetworkEnabled(!0),function(e){const t=_(e);return t._u.delete(0),Hs(t)}(n)})}(ll(e=Ic(e,cl)))}function yl(e){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await Jc(e),n=await Xc(e);return t.setNetworkEnabled(!1),async function(e){const t=_(e);t._u.add(0),await Ks(t),t.gu.set("Offline")}(n)})}(ll(e=Ic(e,cl)))}function vl(e,t){const n=ll(e=Ic(e,cl)),r=new sl;return rl(n,e._databaseId,t,r),r}function bl(e,t){return function(e,t){return e.asyncQueue.enqueue(async()=>function(e,t){const n=_(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Ns.getNamedQuery(e,t))}(await Yc(e),t))}(ll(e=Ic(e,cl)),t).then(t=>t?new Rc(e,null,t.query):null)}function wl(e){if(e._initialized||e._terminated)throw new T(E.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _l(Ie.fromBase64String(e))}catch(e){throw new T(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new _l(Ie.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new T(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new z(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Tl{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new T(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new T(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return M(this._lat,e._lat)||M(this._long,e._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=/^__.*__$/;class kl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new On(e,this.data,this.fieldMask,t,this.fieldTransforms):new xn(e,this.data,t,this.fieldTransforms)}}class Al{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new On(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Cl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw v()}}class xl{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.yt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.na(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new xl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}ca(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Jl(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Cl(this.sa)&&Il.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Ol{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=n||Ls(e)}da(e,t,n,r=!1){return new xl({sa:e,methodName:t,fa:n,path:z.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Nl(e){const t=e._freezeSettings(),n=Ls(e._databaseId);return new Ol(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Rl(e,t,n,r,i,o={}){const s=e.da(o.merge||o.mergeFields?2:0,t,n,i);Hl("Data must be an object, but it was:",s,r);const a=zl(r,s);let c,l;if(o.merge)c=new At(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Kl(t,r,n);if(!s.contains(i))throw new T(E.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Yl(e,i)||e.push(i)}c=new At(e),l=s.fieldTransforms.filter(e=>c.covers(e.field))}else c=null,l=s.fieldTransforms;return new kl(new Ct(a),c,l)}class Pl extends Tl{_toFieldTransform(e){if(2!==e.sa)throw 1===e.sa?e.ha(this._methodName+"() can only appear at the top level of your update data"):e.ha(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pl}}function Dl(e,t,n){return new xl({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}class Ml extends Tl{_toFieldTransform(e){return new bn(e.path,new hn)}isEqual(e){return e instanceof Ml}}class jl extends Tl{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Dl(this,e,!0),n=this._a.map(e=>Vl(e,t)),r=new dn(n);return new bn(e.path,r)}isEqual(e){return this===e}}class Ll extends Tl{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Dl(this,e,!0),n=this._a.map(e=>Vl(e,t)),r=new pn(n);return new bn(e.path,r)}isEqual(e){return this===e}}class Fl extends Tl{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new gn(e.yt,sn(e.yt,this.wa));return new bn(e.path,t)}isEqual(e){return this===e}}function Ul(e,t,n,r){const i=e.da(1,t,n);Hl("Data must be an object, but it was:",i,r);const o=[],a=Ct.empty();be(r,(e,r)=>{const c=Ql(t,e,n);r=Object(s.z)(r);const l=i.ca(c);if(r instanceof Pl)o.push(c);else{const e=Vl(r,l);null!=e&&(o.push(c),a.set(c,e))}});const c=new At(o);return new Al(a,c,i.fieldTransforms)}function Bl(e,t,n,r,i,o){const a=e.da(1,t,n),c=[Kl(t,r,n)],l=[i];if(o.length%2!=0)throw new T(E.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<o.length;e+=2)c.push(Kl(t,o[e])),l.push(o[e+1]);const u=[],h=Ct.empty();for(let e=c.length-1;e>=0;--e)if(!Yl(u,c[e])){const t=c[e];let n=l[e];n=Object(s.z)(n);const r=a.ca(t);if(n instanceof Pl)u.push(t);else{const e=Vl(n,r);null!=e&&(u.push(t),h.set(t,e))}}const d=new At(u);return new Al(h,d,a.fieldTransforms)}function ql(e,t,n,r=!1){return Vl(n,e.da(r?4:3,t))}function Vl(e,t){if(Wl(e=Object(s.z)(e)))return Hl("Unsupported field value:",t,e),zl(e,t);if(e instanceof Tl)return function(e,t){if(!Cl(t.sa))throw t.ha(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.ha(e._methodName+"() is not currently supported inside arrays");const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Vl(i,t.aa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(s.z)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return sn(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=F.fromDate(e);return{timestampValue:pr(t.yt,n)}}if(e instanceof F){const n=new F(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:pr(t.yt,n)}}if(e instanceof Sl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof _l)return{bytesValue:mr(t.yt,e._byteString)};if(e instanceof Nc){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.ha(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:vr(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: "+Sc(e))}(e,t)}function zl(e,t){const n={};return we(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):be(e,(e,r)=>{const i=Vl(r,t.ra(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Wl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof F||e instanceof Sl||e instanceof _l||e instanceof Nc||e instanceof Tl)}function Hl(e,t,n){if(!Wl(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Sc(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function Kl(e,t,n){if((t=Object(s.z)(t))instanceof El)return t._internalPath;if("string"==typeof t)return Ql(e,t);throw Jl("Field path arguments must be of type string or ",e,!1,void 0,n)}const Gl=new RegExp("[~\\*/\\[\\]]");function Ql(e,t,n){if(t.search(Gl)>=0)throw Jl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new El(...t.split("."))._internalPath}catch(r){throw Jl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Jl(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=" in field "+r),s&&(c+=" in document "+i),c+=")"),new T(E.INVALID_ARGUMENT,a+e+c)}function Yl(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Nc(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Zl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($l("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Zl extends Xl{data(){return super.data()}}function $l(e,t){return"string"==typeof t?Ql(e,t):t instanceof El?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new T(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tu{}class nu extends tu{}function ru(e,t,...n){let r=[];t instanceof tu&&r.push(t),r=r.concat(n),function(e){const t=e.filter(e=>e instanceof su).length,n=e.filter(e=>e instanceof iu).length;if(t>1||t>0&&n>0)throw new T(E.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r);for(const t of r)e=t._apply(e);return e}class iu extends nu{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new iu(e,t,n)}_apply(e){const t=this._parse(e);return _u(e._query,t),new Rc(e.firestore,e.converter,Qt(e._query,t))}_parse(e){const t=Nl(e.firestore);return function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new T(E.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){wu(s,o);const t=[];for(const n of s)t.push(bu(r,e,n));a={arrayValue:{values:t}}}else a=bu(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||wu(s,o),a=ql(n,"where",s,"in"===o||"not-in"===o);return nt.create(i,o,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function ou(e,t,n){const r=t,i=$l("where",e);return iu._create(i,r,n)}class su extends tu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new su(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:rt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const e of r)_u(n,e),n=Qt(n,e)}(e._query,t),new Rc(e.firestore,e.converter,Qt(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class au extends nu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new au(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new T(E.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new T(E.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new bt(t,n);return function(e,t){if(null===zt(e)){const n=Wt(e);null!==n&&Eu(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Rc(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ut(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function cu(e,t="asc"){const n=t,r=$l("orderBy",e);return au._create(r,n)}class lu extends nu{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new lu(e,t,n)}_apply(e){return new Rc(e.firestore,e.converter,Jt(e._query,this._limit,this._limitType))}}function uu(e){return kc("limit",e),lu._create("limit",e,"F")}function hu(e){return kc("limitToLast",e),lu._create("limitToLast",e,"L")}class du extends nu{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new du(e,t,n)}_apply(e){const t=vu(e,this.type,this._docOrFields,this._inclusive);return new Rc(e.firestore,e.converter,function(e,t){return new Ut(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function fu(...e){return du._create("startAt",e,!0)}function pu(...e){return du._create("startAfter",e,!1)}class mu extends nu{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new mu(e,t,n)}_apply(e){const t=vu(e,this.type,this._docOrFields,this._inclusive);return new Rc(e.firestore,e.converter,function(e,t){return new Ut(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function gu(...e){return mu._create("endBefore",e,!1)}function yu(...e){return mu._create("endAt",e,!0)}function vu(e,t,n,r){if(n[0]=Object(s.z)(n[0]),n[0]instanceof Xl)return function(e,t,n,r,i){if(!r)throw new T(E.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const n of Kt(e))if(n.field.isKeyField())o.push(Be(t,r.key));else{const e=r.data.field(n.field);if(Oe(e))throw new T(E.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new T(E.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new Ze(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Nl(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new T(E.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let o=0;o<i.length;o++){const c=i[o];if(s[o].field.isKeyField()){if("string"!=typeof c)throw new T(E.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof c}`);if(!Ht(e)&&-1!==c.indexOf("/"))throw new T(E.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${c}' contains a slash.`);const n=e.path.child(q.fromString(c));if(!W.isDocumentKey(n))throw new T(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new W(n);a.push(Be(t,i))}else{const e=ql(n,r,c);a.push(e)}}return new Ze(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function bu(e,t,n){if("string"==typeof(n=Object(s.z)(n))){if(""===n)throw new T(E.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ht(t)&&-1!==n.indexOf("/"))throw new T(E.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(q.fromString(n));if(!W.isDocumentKey(r))throw new T(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Be(e,new W(r))}if(n instanceof Nc)return Be(e,n._key);throw new T(E.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sc(n)}.`)}function wu(e,t){if(!Array.isArray(e)||0===e.length)throw new T(E.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new T(E.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function _u(e,t){if(t.isInequality()){const n=Wt(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new T(E.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=zt(e);null!==i&&Eu(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new T(E.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new T(E.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Eu(e,t,n){if(!n.isEqual(t))throw new T(E.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Tu{convertValue(e,t="none"){switch(De(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xe(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw v()}}convertObject(e,t){const n={};return be(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Sl(Ce(e.latitude),Ce(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=function e(t){const n=t.mapValue.fields.__previous_value__;return Oe(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ne(e));default:return null}}convertTimestamp(e){const t=Ae(e);return new F(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=q.fromString(e);b(Ur(n));const r=new ye(n.get(1),n.get(3)),i=new W(n.popFirst(5));return r.isEqual(t)||m(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Iu extends Tu{constructor(e){super(),this.firestore=e}convertBytes(e){return new _l(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nc(this.firestore,null,t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Au extends Xl{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field($l("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Cu extends Au{data(e={}){return super.data(e)}}class xu{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ku(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Cu(this._firestore,this._userDataWriter,n.key,n,new ku(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new T(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Cu(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ku(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Cu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ku(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Ou(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ou(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return v()}}function Nu(e,t){return e instanceof Au&&t instanceof Au?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof xu&&t instanceof xu&&e._firestore===t._firestore&&Fc(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(e){e=Ic(e,Nc);const t=Ic(e.firestore,cl);return tl(ll(t),e._key).then(n=>Ku(t,e,n))}class Pu extends Tu{constructor(e){super(),this.firestore=e}convertBytes(e){return new _l(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nc(this.firestore,null,t)}}function Du(e){e=Ic(e,Nc);const t=Ic(e.firestore,cl),n=ll(t),r=new Pu(t);return function(e,t){const n=new S;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await function(e,t){const n=_(e);return n.persistence.runTransaction("read document","readonly",e=>n.localDocuments.getDocument(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new T(E.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=wa(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await Yc(e),t,n)),n.promise}(n,e._key).then(n=>new Au(t,r,e._key,n,new ku(null!==n&&n.hasLocalMutations,!0),e.converter))}function Mu(e){e=Ic(e,Nc);const t=Ic(e.firestore,cl);return tl(ll(t),e._key,{source:"server"}).then(n=>Ku(t,e,n))}function ju(e){e=Ic(e,Rc);const t=Ic(e.firestore,cl),n=ll(t),r=new Pu(t);return eu(e._query),nl(n,e._query).then(n=>new xu(t,r,e,n))}function Lu(e){e=Ic(e,Rc);const t=Ic(e.firestore,cl),n=ll(t),r=new Pu(t);return function(e,t){const n=new S;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await ms(e,t,!0),i=new Fa(t,r.Hi),o=i.Wu(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=wa(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await Yc(e),t,n)),n.promise}(n,e._query).then(n=>new xu(t,r,e,n))}function Fu(e){e=Ic(e,Rc);const t=Ic(e.firestore,cl),n=ll(t),r=new Pu(t);return nl(n,e._query,{source:"server"}).then(n=>new xu(t,r,e,n))}function Uu(e,t,n){e=Ic(e,Nc);const r=Ic(e.firestore,cl),i=Su(e.converter,t,n);return Hu(r,[Rl(Nl(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,_n.none())])}function Bu(e,t,n,...r){e=Ic(e,Nc);const i=Ic(e.firestore,cl),o=Nl(i);let a;return a="string"==typeof(t=Object(s.z)(t))||t instanceof El?Bl(o,"updateDoc",e._key,t,n,r):Ul(o,"updateDoc",e._key,t),Hu(i,[a.toMutation(e._key,_n.exists(!0))])}function qu(e){return Hu(Ic(e.firestore,cl),[new Dn(e._key,_n.none())])}function Vu(e,t){const n=Ic(e.firestore,cl),r=jc(e),i=Su(e.converter,t);return Hu(n,[Rl(Nl(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,_n.exists(!1))]).then(()=>r)}function zu(e,...t){var n,r,i;e=Object(s.z)(e);let o={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||ol(t[a])||(o=t[a],a++);const c={includeMetadataChanges:o.includeMetadataChanges};if(ol(t[a])){const e=t[a];t[a]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[a+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[a+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,u,h;if(e instanceof Nc)u=Ic(e.firestore,cl),h=qt(e._key.path),l={next:n=>{t[a]&&t[a](Ku(u,e,n))},error:t[a+1],complete:t[a+2]};else{const n=Ic(e,Rc);u=Ic(n.firestore,cl),h=n._query;const r=new Pu(u);l={next:e=>{t[a]&&t[a](new xu(u,r,n,e))},error:t[a+1],complete:t[a+2]},eu(e._query)}return function(e,t,n,r){const i=new Bc(r),o=new Na(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>ka(await el(e),o)),()=>{i.bc(),e.asyncQueue.enqueueAndForget(async()=>Aa(await el(e),o))}}(ll(u),h,c,l)}function Wu(e,t){return function(e,t){const n=new Bc(t);return e.asyncQueue.enqueueAndForget(async()=>function(e,t){_(e).Ru.add(t),t.next()}(await el(e),n)),()=>{n.bc(),e.asyncQueue.enqueueAndForget(async()=>function(e,t){_(e).Ru.delete(t)}(await el(e),n))}}(ll(e=Ic(e,cl)),ol(t)?t:{next:t})}function Hu(e,t){return function(e,t){const n=new S;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=mc(e);try{const e=await function(e,t){const n=_(e),r=F.now(),i=t.reduce((e,t)=>e.add(t.key),Zn());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=zn(),c=Zn();return n.Gi.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(c=c.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{o=i;const s=[];for(const e of t){const t=An(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new On(e.key,t,xt(t.value.mapValue),_n.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:Kn(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.hc[e.currentUser.toKey()];r||(r=new _t(M)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(r,e.batchId,n),await rc(r,e.changes),await sa(r.remoteStore)}catch(e){const t=wa(e,"Failed to persist write");n.reject(t)}}(await Zc(e),t,n)),n.promise}(ll(e),t)}function Ku(e,t,n){const r=n.docs.get(t._key),i=new Pu(e);return new Au(e,i,t._key,r,new ku(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Gu={maxAttempts:5};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Nl(e)}set(e,t,n){this._verifyNotCommitted();const r=Ju(e,this._firestore),i=Su(r.converter,t,n),o=Rl(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,_n.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=Ju(e,this._firestore);let o;return o="string"==typeof(t=Object(s.z)(t))||t instanceof El?Bl(this._dataReader,"WriteBatch.update",i._key,t,n,r):Ul(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(o.toMutation(i._key,_n.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ju(e,this._firestore);return this._mutations=this._mutations.concat(new Dn(t._key,_n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new T(E.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ju(e,t){if((e=Object(s.z)(e)).firestore!==t)throw new T(E.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Nl(e)}get(e){const t=Ju(e,this._firestore),n=new Iu(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return v();const r=e[0];if(r.isFoundDocument())return new Xl(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Xl(this._firestore,n,t._key,null,t.converter);throw v()})}set(e,t,n){const r=Ju(e,this._firestore),i=Su(r.converter,t,n),o=Rl(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n,...r){const i=Ju(e,this._firestore);let o;return o="string"==typeof(t=Object(s.z)(t))||t instanceof El?Bl(this._dataReader,"Transaction.update",i._key,t,n,r):Ul(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,o),this}delete(e){const t=Ju(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ju(e,this._firestore),n=new Pu(this._firestore);return super.get(e).then(e=>new Au(this._firestore,n,t._key,e._document,new ku(!1,!1),t.converter))}}function Xu(e,t,n){e=Ic(e,cl);const r=Object.assign(Object.assign({},Gu),n);return function(e){if(e.maxAttempts<1)throw new T(E.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new S;return e.asyncQueue.enqueueAndForget(async()=>{const i=await $c(e);new zc(e.asyncQueue,i,n,t,r).run()}),r.promise}(ll(e),n=>t(new Yu(e,n)),r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(){return new Pl("deleteField")}function $u(){return new Ml("serverTimestamp")}function eh(...e){return new jl("arrayUnion",e)}function th(...e){return new Ll("arrayRemove",e)}function nh(e){return new Fl("increment",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e,t=!0){!function(e){u=e}(r.SDK_VERSION),Object(r._registerComponent)(new i.a("firestore",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new cl(new C(e.getProvider("auth-internal")),new R(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new T(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ye(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Object(r.registerVersion)(c,"3.8.3",e),Object(r.registerVersion)(c,"3.8.3","esm2017")}()}).call(this,n(27))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return pi})),n.d(t,"b",(function(){return mi})),n.d(t,"c",(function(){return lt})),n.d(t,"d",(function(){return bi})),n.d(t,"e",(function(){return fo})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return xr})),n.d(t,"h",(function(){return Or})),n.d(t,"i",(function(){return Ti})),n.d(t,"j",(function(){return vo})),n.d(t,"k",(function(){return _o})),n.d(t,"l",(function(){return Vi})),n.d(t,"m",(function(){return Wi})),n.d(t,"n",(function(){return co})),n.d(t,"o",(function(){return yo})),n.d(t,"p",(function(){return go})),n.d(t,"q",(function(){return Oi})),n.d(t,"r",(function(){return bo})),n.d(t,"s",(function(){return wo})),n.d(t,"t",(function(){return So})),n.d(t,"u",(function(){return Yi})),n.d(t,"v",(function(){return Zi})),n.d(t,"w",(function(){return Ui})),n.d(t,"x",(function(){return Mi})),n.d(t,"y",(function(){return ji})),n.d(t,"z",(function(){return Li})),n.d(t,"A",(function(){return Fi})),n.d(t,"B",(function(){return Di})),n.d(t,"C",(function(){return eo})),n.d(t,"D",(function(){return no})),n.d(t,"E",(function(){return io})),n.d(t,"F",(function(){return so})),n.d(t,"G",(function(){return Si})),n.d(t,"H",(function(){return lo})),n.d(t,"I",(function(){return _i})),n.d(t,"J",(function(){return Ei})),n.d(t,"K",(function(){return Ii})),n.d(t,"L",(function(){return ko})),n.d(t,"M",(function(){return To})),n.d(t,"N",(function(){return ki})),n.d(t,"O",(function(){return Ai})),n.d(t,"P",(function(){return Ci})),n.d(t,"Q",(function(){return Qi})),n.d(t,"R",(function(){return Ki})),n.d(t,"S",(function(){return xi}));var r=n(2),i=n(6),o=n(0),s=n(7);const a="@firebase/database";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let c="";function l(e){c=e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(o.V)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(o.O)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Object(o.m)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new u(t)}}catch(e){}return new h},f=d("localStorage"),p=d("sessionStorage"),m=new s.b("@firebase/database"),g=function(){let e=1;return function(){return e++}}(),y=function(e){const t=Object(o.U)(e),n=new o.d;n.update(t);const r=n.digest();return o.h.encodeByteArray(r)},v=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=v.apply(null,r):t+="object"==typeof r?Object(o.V)(r):r,t+=" "}return t};let b=null,w=!0;const _=function(e,t){Object(o.f)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(m.logLevel=s.a.VERBOSE,b=m.log.bind(m),t&&p.set("logging_enabled",!0)):"function"==typeof e?b=e:(b=null,p.remove("logging_enabled"))},E=function(...e){if(!0===w&&(w=!1,null===b&&!0===p.get("logging_enabled")&&_(!0)),b){const t=v.apply(null,e);b(t)}},T=function(e){return function(...t){E(e,...t)}},S=function(...e){const t="FIREBASE INTERNAL ERROR: "+v(...e);m.error(t)},I=function(...e){const t="FIREBASE FATAL ERROR: "+v(...e);throw m.error(t),new Error(t)},k=function(...e){const t="FIREBASE WARNING: "+v(...e);m.warn(t)},A=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},C="[MIN_NAME]",x="[MAX_NAME]",O=function(e,t){if(e===t)return 0;if(e===C||t===x)return-1;if(t===C||e===x)return 1;{const n=F(e),r=F(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},N=function(e,t){return e===t?0:e<t?-1:1},R=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(o.V)(t))},P=function(e){if("object"!=typeof e||null===e)return Object(o.V)(e);const t=[];for(const n in e)t.push(n);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Object(o.V)(t[r]),n+=":",n+=P(e[t[r]]);return n+="}",n},D=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function M(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const j=function(e){Object(o.f)(!A(e),"Invalid JSON number");let t,n,r,i,s;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=i+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();const c=a.join("");let l="";for(s=0;s<64;s+=8){let e=parseInt(c.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()};const L=new RegExp("^-?(0*)\\d{1,10}$"),F=function(e){if(L.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},U=function(e){try{e()}catch(e){setTimeout(()=>{const t=e.stack||"";throw k("Exception was thrown by user callback.",t),e},Math.floor(0))}},B=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class q{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){k(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',k(e)}}class z{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}z.OWNER="owner";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const W=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class H{constructor(e,t,n,r,i=!1,o="",s=!1,a=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&f.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return`${e}${this.host}/${t}`}}function K(e,t,n){let r;if(Object(o.f)("string"==typeof t,"typeof type must == string"),Object(o.f)("object"==typeof n,"typeof params must == object"),"websocket"===t)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return M(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(){this.counters_={}}incrementCounter(e,t=1){Object(o.m)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Object(o.p)(this.counters_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={},J={};function Y(e){const t=e.toString();return Q[t]||(Q[t]=new G),Q[t]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class X{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&U(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=T(e),this.stats_=Y(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),K(t,"long_polling",e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new X(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(Object(o.J)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $((...e)=>{const[t,n,r,i,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===t)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_()}},(...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);const e={start:"t"};e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&W.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Z.forceAllow_=!0}static forceDisallow(){Z.forceDisallow_=!0}static isAvailable(){return!Object(o.J)()&&(!!Z.forceAllow_||!(Z.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Object(o.V)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Object(o.j)(t),r=D(n,1840);for(let e=0;e<r.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Object(o.J)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Object(o.V)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class ${constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.J)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=$.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(e){E("frame writing exception"),e.stack&&E(e.stack),E(e)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||E("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){Object(o.J)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{E("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}},Math.floor(1))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ee=null;"undefined"!=typeof MozWebSocket?ee=MozWebSocket:"undefined"!=typeof WebSocket&&(ee=WebSocket);class te{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=T(this.connId),this.stats_=Y(t),this.connURL=te.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={v:"5"};return!Object(o.J)()&&"undefined"!=typeof location&&location.hostname&&W.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s.ac=r),i&&(s.p=i),K(e,"websocket",s)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{let t;if(Object(o.J)()){const n=this.nodeAdmin?"AdminNode":"Node";t={headers:{"User-Agent":`Firebase/5/${c}/${e.platform}/${n}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(t.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(t.headers["X-Firebase-AppCheck"]=this.appCheckToken);const r=e.env,i=0===this.connURL.indexOf("wss://")?r.HTTPS_PROXY||r.https_proxy:r.HTTP_PROXY||r.http_proxy;i&&(t.proxy={origin:i})}this.mySock=new ee(this.connURL,[],t)}catch(e){this.log_("Error instantiating WebSocket.");const t=e.message||e.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){te.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ee&&!te.forceDisallow_}static previouslyFailed(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")}markConnectionHealthy(){f.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Object(o.O)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Object(o.f)(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Object(o.V)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=D(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}te.responsesRequiredToBeHealthy=2,te.healthyTimeout=3e4;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ne{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Z,te]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=te&&te.isAvailable();let n=t&&!te.previouslyFailed();if(e.webSocketOnly&&(t||k("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[te];else{const e=this.transports_=[];for(const t of ne.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);ne.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ne.globalTransportInitialized_=!1;class re{constructor(e,t,n,r,i,o,s,a,c,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=T("c:"+this.id+":"),this.transportManager_=new ne(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=B(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=R("t",e),n=R("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=R("t",e),n=R("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=R("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?S("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&k("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),B(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):B(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.allowedEvents_=e,this.listeners_={},Object(o.f)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let e=0;e<r.length;e++)if(r[e].callback===t&&(!n||n===r[e].context))return void r.splice(e,1)}validateEventType_(e){Object(o.f)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se extends oe{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(o.H)()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new se}getInitialEvent(e){return Object(o.f)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ce(){return new ae("")}function le(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ue(e){return e.pieces_.length-e.pieceNum_}function he(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ae(e.pieces_,t)}function de(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function fe(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function pe(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ae(t,0)}function me(e,t){const n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof ae)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new ae(n,0)}function ge(e){return e.pieceNum_>=e.pieces_.length}function ye(e,t){const n=le(e),r=le(t);if(null===n)return t;if(n===r)return ye(he(e),he(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ve(e,t){const n=fe(e,0),r=fe(t,0);for(let e=0;e<n.length&&e<r.length;e++){const t=O(n[e],r[e]);if(0!==t)return t}return n.length===r.length?0:n.length<r.length?-1:1}function be(e,t){if(ue(e)!==ue(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function we(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(ue(e)>ue(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class _e{constructor(e,t){this.errorPrefix_=t,this.parts_=fe(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=Object(o.T)(this.parts_[e]);Ee(this)}}function Ee(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Te(e))}function Te(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se extends oe{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new Se}getInitialEvent(e){return Object(o.f)("visible"===e,"Unknown event type: "+e),[this.visible_]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie extends ie{constructor(e,t,n,r,i,s,a,c){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=c,this.id=Ie.nextPersistentConnectionId_++,this.log_=T("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=1e3,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Object(o.J)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Se.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&se.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(o.V)(i)),Object(o.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new o.a,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Object(o.f)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(o.f)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{const o=i.d,s=i.s;Ie.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&Object(o.m)(e,"w")){const n=Object(o.S)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();k(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at `+n+" to your security rules for better performance.")}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||Object(o.B)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=Object(o.M)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(o.f)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Object(o.V)(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):S("Unrecognized action received from server: "+Object(o.V)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Object(o.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Ie.nextConnectionId_++,i=this.lastSessionId;let s=!1,a=null;const c=function(){a?a.close():(s=!0,n())},l=function(e){Object(o.f)(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:c,sendRequest:l};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[o,c]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),this.authToken_=o&&o.accessToken,this.appCheckToken_=c&&c.token,a=new re(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{k(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(e){this.log_("Failed to get token: "+e),s||(this.repoInfo_.nodeAdmin&&k(e),c())}}}interrupt(e){E("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){E("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(o.E)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>P(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new ae(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){E("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){E("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Object(o.J)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+c.replace(/\./g,"-")]=1,Object(o.H)()?e["framework.cordova"]=1:Object(o.K)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=se.getInstance().currentlyOnline();return Object(o.E)(this.interruptReasons_)&&e}}Ie.nextPersistentConnectionId_=0,Ie.nextConnectionId_=0;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ke{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ke(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new ke(C,e),r=new ke(C,t);return 0!==this.compare(n,r)}minPost(){return ke.MIN}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ce;class xe extends Ae{static get __EMPTY_NODE(){return Ce}static set __EMPTY_NODE(e){Ce=e}compare(e,t){return O(e.name,t.name)}isDefinedOn(e){throw Object(o.g)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ke.MIN}maxPost(){return new ke(x,Ce)}makePost(e,t){return Object(o.f)("string"==typeof e,"KeyIndex indexValue must always be a string."),new ke(e,Ce)}toString(){return".key"}}const Oe=new xe;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Re{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Re.RED,this.left=null!=r?r:Pe.EMPTY_NODE,this.right=null!=i?i:Pe.EMPTY_NODE}copy(e,t,n,r,i){return new Re(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pe.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Pe.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Re.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Re.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Re.RED=!0,Re.BLACK=!1;class Pe{constructor(e,t=Pe.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Pe(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Re.BLACK,null,null))}remove(e){return new Pe(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Re.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ne(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Ne(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Ne(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Ne(this.root_,null,this.comparator_,!0,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function De(e,t){return O(e.name,t.name)}function Me(e,t){return O(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let je;Pe.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Re(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Le=function(e){return"number"==typeof e?"number:"+j(e):"string:"+e},Fe=function(e){if(e.isLeafNode()){const t=e.val();Object(o.f)("string"==typeof t||"number"==typeof t||"object"==typeof t&&Object(o.m)(t,".sv"),"Priority must be a string or number.")}else Object(o.f)(e===je||e.isEmpty(),"priority of unexpected type.");Object(o.f)(e===je||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Ue,Be,qe;class Ve{constructor(e,t=Ve.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Object(o.f)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Fe(this.priorityNode_)}static set __childrenNodeConstructor(e){Ue=e}static get __childrenNodeConstructor(){return Ue}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ve(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Ve.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ge(e)?this:".priority"===le(e)?this.priorityNode_:Ve.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Ve.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=le(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Object(o.f)(".priority"!==n||1===ue(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Ve.__childrenNodeConstructor.EMPTY_NODE.updateChild(he(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Le(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?j(this.value_):this.value_,this.lazyHash_=y(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ve.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ve.__childrenNodeConstructor?-1:(Object(o.f)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Ve.VALUE_TYPE_ORDER.indexOf(t),i=Ve.VALUE_TYPE_ORDER.indexOf(n);return Object(o.f)(r>=0,"Unknown leaf type: "+t),Object(o.f)(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Ve.VALUE_TYPE_ORDER=["object","boolean","number","string"];const ze=new class extends Ae{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?O(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ke.MIN}maxPost(){return new ke(x,new Ve("[PRIORITY-POST]",qe))}makePost(e,t){const n=Be(e);return new ke(t,new Ve("[PRIORITY-POST]",n))}toString(){return".priority"}},We=Math.log(2);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/We,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ke=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new Re(a,s.node,Re.BLACK,null,null);{const c=parseInt(o/2,10)+t,l=i(t,c),u=i(c+1,r);return s=e[c],a=n?n(s):s,new Re(a,s.node,Re.BLACK,l,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const l=i(o+1,a),u=e[o],h=n?n(u):u;c(new Re(h,u.node,r,null,l))},c=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Re.BLACK):(a(r,Re.BLACK),a(r,Re.RED))}return o}(new He(e.length));return new Pe(r||t,o)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ge;const Qe={};class Je{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Object(o.f)(Qe&&ze,"ChildrenNode.ts has not been loaded"),Ge=Ge||new Je({".priority":Qe},{".priority":ze}),Ge}get(e){const t=Object(o.S)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Pe?t:null}hasIndex(e){return Object(o.m)(this.indexSet_,e.toString())}addIndex(e,t){Object(o.f)(e!==Oe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(ke.Wrap);let s,a=i.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=i.getNext();s=r?Ke(n,e.getCompare()):Qe;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const u=Object.assign({},this.indexes_);return u[c]=s,new Je(u,l)}addToIndexes(e,t){const n=Object(o.P)(this.indexes_,(n,r)=>{const i=Object(o.S)(this.indexSet_,r);if(Object(o.f)(i,"Missing index implementation for "+r),n===Qe){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(ke.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),Ke(n,i.getCompare())}return Qe}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new ke(e.name,r))),i.insert(e,e.node)}});return new Je(n,this.indexSet_)}removeFromIndexes(e,t){const n=Object(o.P)(this.indexes_,n=>{if(n===Qe)return n;{const r=t.get(e.name);return r?n.remove(new ke(e.name,r)):n}});return new Je(n,this.indexSet_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ye;class Xe{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Fe(this.priorityNode_),this.children_.isEmpty()&&Object(o.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ye||(Ye=new Xe(new Pe(Me),null,Je.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ye}updatePriority(e){return this.children_.isEmpty()?this:new Xe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Ye:t}}getChild(e){const t=le(e);return null===t?this:this.getImmediateChild(t).getChild(he(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Object(o.f)(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new ke(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?Ye:this.priorityNode_;return new Xe(r,o,i)}}updateChild(e,t){const n=le(e);if(null===n)return t;{Object(o.f)(".priority"!==le(e)||1===ue(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(he(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(ze,(o,s)=>{t[o]=s.val(e),n++,i&&Xe.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Le(this.getPriority().val())+":"),this.forEachChild(ze,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":y(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new ke(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new ke(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new ke(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,ke.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,ke.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ze?-1:0}withIndex(e){if(e===Oe||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Xe(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Oe||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(ze),n=t.getIterator(ze);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Oe?null:this.indexMap_.get(e.toString())}}Xe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Ze=new class extends Xe{constructor(){super(new Pe(Me),Xe.EMPTY_NODE,Je.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Xe.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ke,{MIN:{value:new ke(C,Xe.EMPTY_NODE)},MAX:{value:new ke(x,Ze)}}),xe.__EMPTY_NODE=Xe.EMPTY_NODE,Ve.__childrenNodeConstructor=Xe,je=Ze,function(e){qe=e}(Ze);function $e(e,t=null){if(null===e)return Xe.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),Object(o.f)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e){return new Ve(e,$e(t))}if(e instanceof Array){let n=Xe.EMPTY_NODE;return M(e,(t,r)=>{if(Object(o.m)(e,t)&&"."!==t.substring(0,1)){const e=$e(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority($e(t))}{const n=[];let r=!1;if(M(e,(e,t)=>{if("."!==e.substring(0,1)){const i=$e(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new ke(e,i)))}}),0===n.length)return Xe.EMPTY_NODE;const i=Ke(n,De,e=>e.name,Me);if(r){const e=Ke(n,ze.getCompare());return new Xe(i,$e(t),new Je({".priority":e},{".priority":ze}))}return new Xe(i,$e(t),Je.Default)}}!function(e){Be=e}($e);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class et extends Ae{constructor(e){super(),this.indexPath_=e,Object(o.f)(!ge(e)&&".priority"!==le(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?O(e.name,t.name):i}makePost(e,t){const n=$e(e),r=Xe.EMPTY_NODE.updateChild(this.indexPath_,n);return new ke(t,r)}maxPost(){const e=Xe.EMPTY_NODE.updateChild(this.indexPath_,Ze);return new ke(x,e)}toString(){return fe(this.indexPath_,0).join("/")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt=new class extends Ae{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?O(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ke.MIN}maxPost(){return ke.MAX}makePost(e,t){const n=$e(e);return new ke(t,n)}toString(){return".value"}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(e){return{type:"value",snapshotNode:e}}function rt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function it(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ot(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class st{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){Object(o.f)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(it(t,a)):Object(o.f)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(rt(t,n)):s.trackChildChange(ot(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ze,(e,r)=>{t.hasChild(e)||n.trackChildChange(it(e,r))}),t.isLeafNode()||t.forEachChild(ze,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(ot(t,r,i))}else n.trackChildChange(rt(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Xe.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.indexedFilter_=new st(e.getIndex()),this.index_=e.getIndex(),this.startPost_=at.getStartPost_(e),this.endPost_=at.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new ke(t,n))||(n=Xe.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Xe.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Xe.EMPTY_NODE);const i=this;return t.forEachChild(ze,(e,t)=>{i.matches(new ke(e,t))||(r=r.updateImmediateChild(e,Xe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new at(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new ke(t,n))||(n=Xe.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Xe.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Xe.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Xe.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Xe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const a=e;Object(o.f)(a.numChildren()===this.limit_,"");const c=new ke(t,n),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(t)){const e=a.getImmediateChild(t);let o=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=o&&(o.name===t||a.hasChild(o.name));)o=r.getChildAfterChild(this.index_,o,this.reverse_);const h=null==o?1:s(o,c);if(u&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(ot(t,n,e)),a.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(it(t,e));const n=a.updateImmediateChild(t,Xe.EMPTY_NODE);return null!=o&&this.rangedFilter_.matches(o)?(null!=i&&i.trackChildChange(rt(o.name,o.node)),n.updateImmediateChild(o.name,o.node)):n}}return n.isEmpty()?e:u&&s(l,c)>=0?(null!=i&&(i.trackChildChange(it(l.name,l.node)),i.trackChildChange(rt(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(l.name,Xe.EMPTY_NODE)):e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ze}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:C}hasEnd(){return this.endSet_}getIndexEndValue(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:x}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Object(o.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ze}copy(){const e=new lt;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ut(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function ht(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function dt(e,t){const n=e.copy();return n.index_=t,n}function ft(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ze?n="$priority":e.index_===tt?n="$value":e.index_===Oe?n="$key":(Object(o.f)(e.index_ instanceof et,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Object(o.V)(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Object(o.V)(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Object(o.V)(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Object(o.V)(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Object(o.V)(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function pt(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ze&&(t.i=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt extends ie{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=T("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Object(o.f)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=mt.getListenId_(e,n),a={};this.listens_[s]=a;const c=ft(e._queryParams);this.restRequest_(i+".json",c,(e,t)=>{let c=t;if(404===e&&(c=null,e=null),null===e&&this.onDataUpdate_(i,c,!1,n),Object(o.S)(this.listens_,s)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=mt.getListenId_(e,t);delete this.listens_[n]}get(e){const t=ft(e._queryParams),n=e._path.toString(),r=new o.a;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Object(o.Q)(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=Object(o.O)(a.responseText)}catch(e){k("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&k("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(){this.rootNode_=Xe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return{value:null,children:new Map}}function vt(e,t,n){if(ge(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=le(t);e.children.has(r)||e.children.set(r,yt());vt(e.children.get(r),t=he(t),n)}}function bt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,(e,r)=>{bt(r,new ae(t.toString()+"/"+e),n)})}class wt{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&M(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new wt(e);const n=1e4+2e4*Math.random();B(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;M(e,(e,r)=>{r>0&&Object(o.m)(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),B(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;function Tt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Et||(Et={}));class St{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Et.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ge(this.path)){if(null!=this.affectedTree.value)return Object(o.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ae(e));return new St(ce(),t,this.revert)}}return Object(o.f)(le(this.path)===e,"operationForChild called for unrelated child."),new St(he(this.path),this.affectedTree,this.revert)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t){this.source=e,this.path=t,this.type=Et.LISTEN_COMPLETE}operationForChild(e){return ge(this.path)?new It(this.source,ce()):new It(this.source,he(this.path))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Et.OVERWRITE}operationForChild(e){return ge(this.path)?new kt(this.source,ce(),this.snap.getImmediateChild(e)):new kt(this.source,he(this.path),this.snap)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Et.MERGE}operationForChild(e){if(ge(this.path)){const t=this.children.subtree(new ae(e));return t.isEmpty()?null:t.value?new kt(this.source,ce(),t.value):new At(this.source,ce(),t)}return Object(o.f)(le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new At(this.source,he(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ge(e))return this.isFullyInitialized()&&!this.filtered_;const t=le(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Ot(e,t,n,r,i,s){const a=r.filter(e=>e.type===n);a.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Object(o.g)("Should only compare child_ events.");const r=new ke(t.childName,t.snapshotNode),i=new ke(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,n)),a.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function Nt(e,t){return{eventCache:e,serverCache:t}}function Rt(e,t,n,r){return Nt(new Ct(t,n,r),e.serverCache)}function Pt(e,t,n,r){return Nt(e.eventCache,new Ct(t,n,r))}function Dt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Mt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jt;class Lt{constructor(e,t=(()=>(jt||(jt=new Pe(N)),jt))()){this.value=e,this.children=t}static fromObject(e){let t=new Lt(null);return M(e,(e,n)=>{t=t.set(new ae(e),n)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ce(),value:this.value};if(ge(e))return null;{const n=le(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(he(e),t);if(null!=i){return{path:me(new ae(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ge(e))return this;{const t=le(e),n=this.children.get(t);return null!==n?n.subtree(he(e)):new Lt(null)}}set(e,t){if(ge(e))return new Lt(t,this.children);{const n=le(e),r=(this.children.get(n)||new Lt(null)).set(he(e),t),i=this.children.insert(n,r);return new Lt(this.value,i)}}remove(e){if(ge(e))return this.children.isEmpty()?new Lt(null):new Lt(null,this.children);{const t=le(e),n=this.children.get(t);if(n){const r=n.remove(he(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Lt(null):new Lt(this.value,i)}return this}}get(e){if(ge(e))return this.value;{const t=le(e),n=this.children.get(t);return n?n.get(he(e)):null}}setTree(e,t){if(ge(e))return t;{const n=le(e),r=(this.children.get(n)||new Lt(null)).setTree(he(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Lt(this.value,i)}}fold(e){return this.fold_(ce(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(me(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,ce(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(ge(e))return null;{const r=le(e),i=this.children.get(r);return i?i.findOnPath_(he(e),me(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ce(),t)}foreachOnPath_(e,t,n){if(ge(e))return this;{this.value&&n(t,this.value);const r=le(e),i=this.children.get(r);return i?i.foreachOnPath_(he(e),me(t,r),n):new Lt(null)}}foreach(e){this.foreach_(ce(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(me(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.writeTree_=e}static empty(){return new Ft(new Lt(null))}}function Ut(e,t,n){if(ge(t))return new Ft(new Lt(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=ye(i,t);return o=o.updateChild(s,n),new Ft(e.writeTree_.set(i,o))}{const r=new Lt(n),i=e.writeTree_.setTree(t,r);return new Ft(i)}}}function Bt(e,t,n){let r=e;return M(n,(e,n)=>{r=Ut(r,me(t,e),n)}),r}function qt(e,t){if(ge(t))return Ft.empty();{const n=e.writeTree_.setTree(t,new Lt(null));return new Ft(n)}}function Vt(e,t){return null!=zt(e,t)}function zt(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ye(n.path,t)):null}function Wt(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ze,(e,n)=>{t.push(new ke(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new ke(e,n.value))}),t}function Ht(e,t){if(ge(t))return e;{const n=zt(e,t);return new Ft(null!=n?new Lt(n):e.writeTree_.subtree(t))}}function Kt(e){return e.writeTree_.isEmpty()}function Gt(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);{let i=null;return n.children.inorderTraversal((n,s)=>{".priority"===n?(Object(o.f)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):r=e(me(t,n),s,r)}),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(me(t,".priority"),i)),r}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(ce(),e.writeTree_,t)}function Qt(e,t){return cn(t,e)}function Jt(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);Object(o.f)(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,a=e.allWrites.length-1;for(;i&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&Yt(t,r.path)?i=!1:we(r.path,t.path)&&(s=!0)),a--}if(i){if(s)return function(e){e.visibleWrites=Zt(e.allWrites,Xt,ce()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=qt(e.visibleWrites,r.path);else{M(r.children,t=>{e.visibleWrites=qt(e.visibleWrites,me(r.path,t))})}return!0}return!1}function Yt(e,t){if(e.snap)return we(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&we(me(e.path,n),t))return!0;return!1}function Xt(e){return e.visible}function Zt(e,t,n){let r=Ft.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)we(n,e)?(t=ye(n,e),r=Ut(r,t,s.snap)):we(e,n)&&(t=ye(e,n),r=Ut(r,ce(),s.snap.getChild(t)));else{if(!s.children)throw Object(o.g)("WriteRecord should have .snap or .children");if(we(n,e))t=ye(n,e),r=Bt(r,t,s.children);else if(we(e,n))if(t=ye(e,n),ge(t))r=Bt(r,ce(),s.children);else{const e=Object(o.S)(s.children,le(t));if(e){const n=e.getChild(he(t));r=Ut(r,ce(),n)}}}}}return r}function $t(e,t,n,r,i){if(r||i){const o=Ht(e.visibleWrites,t);if(!i&&Kt(o))return n;if(i||null!=n||Vt(o,ce())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(we(e.path,t)||we(t,e.path))};return Gt(Zt(e.allWrites,o,t),n||Xe.EMPTY_NODE)}return null}{const r=zt(e.visibleWrites,t);if(null!=r)return r;{const r=Ht(e.visibleWrites,t);if(Kt(r))return n;if(null!=n||Vt(r,ce())){return Gt(r,n||Xe.EMPTY_NODE)}return null}}}function en(e,t,n,r){return $t(e.writeTree,e.treePath,t,n,r)}function tn(e,t){return function(e,t,n){let r=Xe.EMPTY_NODE;const i=zt(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ze,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=Ht(e.visibleWrites,t);return n.forEachChild(ze,(e,t)=>{const n=Gt(Ht(i,new ae(e)),t);r=r.updateImmediateChild(e,n)}),Wt(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return Wt(Ht(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function nn(e,t,n,r){return function(e,t,n,r,i){Object(o.f)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=me(t,n);if(Vt(e.visibleWrites,s))return null;{const t=Ht(e.visibleWrites,s);return Kt(t)?i.getChild(n):Gt(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function rn(e,t){return function(e,t){return zt(e.visibleWrites,t)}(e.writeTree,me(e.treePath,t))}function on(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const c=Ht(e.visibleWrites,t),l=zt(c,ce());if(null!=l)a=l;else{if(null==n)return[];a=Gt(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let c=n.getNext();for(;c&&e.length<i;)0!==t(c,r)&&e.push(c),c=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function sn(e,t,n){return function(e,t,n,r){const i=me(t,n),o=zt(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n)){return Gt(Ht(e.visibleWrites,i),r.getNode().getImmediateChild(n))}return null}(e.writeTree,e.treePath,t,n)}function an(e,t){return cn(me(e.treePath,t),e.writeTree)}function cn(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Object(o.f)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(o.f)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,ot(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,it(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,rt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(o.g)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ot(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class hn{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Ct(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sn(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Mt(this.viewCache_),i=on(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(e,t,n,r,i){const s=new ln;let a,c;if(n.type===Et.OVERWRITE){const l=n;l.source.fromUser?a=mn(e,t,l.path,l.snap,r,i,s):(Object(o.f)(l.source.fromServer,"Unknown source."),c=l.source.tagged||t.serverCache.isFiltered()&&!ge(l.path),a=pn(e,t,l.path,l.snap,r,i,c,s))}else if(n.type===Et.MERGE){const l=n;l.source.fromUser?a=function(e,t,n,r,i,o,s){let a=t;return r.foreach((r,c)=>{const l=me(n,r);gn(t,le(l))&&(a=mn(e,a,l,c,i,o,s))}),r.foreach((r,c)=>{const l=me(n,r);gn(t,le(l))||(a=mn(e,a,l,c,i,o,s))}),a}(e,t,l.path,l.children,r,i,s):(Object(o.f)(l.source.fromServer,"Unknown source."),c=l.source.tagged||t.serverCache.isFiltered(),a=vn(e,t,l.path,l.children,r,i,c,s))}else if(n.type===Et.ACK_USER_WRITE){const c=n;a=c.revert?function(e,t,n,r,i,s){let a;if(null!=rn(r,n))return t;{const c=new hn(r,t,i),l=t.eventCache.getNode();let u;if(ge(n)||".priority"===le(n)){let n;if(t.serverCache.isFullyInitialized())n=en(r,Mt(t));else{const e=t.serverCache.getNode();Object(o.f)(e instanceof Xe,"serverChildren would be complete if leaf node"),n=tn(r,e)}n=n,u=e.filter.updateFullNode(l,n,s)}else{const i=le(n);let o=sn(r,i,t.serverCache);null==o&&t.serverCache.isCompleteForChild(i)&&(o=l.getImmediateChild(i)),u=null!=o?e.filter.updateChild(l,i,o,he(n),c,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,Xe.EMPTY_NODE,he(n),c,s):l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=en(r,Mt(t)),a.isLeafNode()&&(u=e.filter.updateFullNode(u,a,s)))}return a=t.serverCache.isFullyInitialized()||null!=rn(r,ce()),Rt(t,u,a,e.filter.filtersNodes())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,c.path,r,i,s):function(e,t,n,r,i,o,s){if(null!=rn(i,n))return t;const a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=r.value){if(ge(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return pn(e,t,n,c.getNode().getChild(n),i,o,a,s);if(ge(n)){let r=new Lt(null);return c.getNode().forEachChild(Oe,(e,t)=>{r=r.set(new ae(e),t)}),vn(e,t,n,r,i,o,a,s)}return t}{let l=new Lt(null);return r.foreach((e,t)=>{const r=me(n,e);c.isCompleteForPath(r)&&(l=l.set(e,c.getNode().getChild(r)))}),vn(e,t,n,l,i,o,a,s)}}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==Et.LISTEN_COMPLETE)throw Object(o.g)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){const o=t.serverCache,s=Pt(t,o.getNode(),o.isFullyInitialized()||ge(n),o.isFiltered());return fn(e,s,n,r,un,i)}(e,t,n.path,r,s)}const l=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Dt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(nt(Dt(t)))}}(t,a,l),{viewCache:a,changes:l}}function fn(e,t,n,r,i,s){const a=t.eventCache;if(null!=rn(r,n))return t;{let c,l;if(ge(n))if(Object(o.f)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Mt(t),i=tn(r,n instanceof Xe?n:Xe.EMPTY_NODE);c=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=en(r,Mt(t));c=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const u=le(n);if(".priority"===u){Object(o.f)(1===ue(n),"Can't have a priority with additional path components");const i=a.getNode();l=t.serverCache.getNode();const s=nn(r,n,i,l);c=null!=s?e.filter.updatePriority(i,s):a.getNode()}else{const o=he(n);let h;if(a.isCompleteForChild(u)){l=t.serverCache.getNode();const e=nn(r,n,a.getNode(),l);h=null!=e?a.getNode().getImmediateChild(u).updateChild(o,e):a.getNode().getImmediateChild(u)}else h=sn(r,u,t.serverCache);c=null!=h?e.filter.updateChild(a.getNode(),u,h,o,i,s):a.getNode()}}return Rt(t,c,a.isFullyInitialized()||ge(n),e.filter.filtersNodes())}}function pn(e,t,n,r,i,o,s,a){const c=t.serverCache;let l;const u=s?e.filter:e.filter.getIndexedFilter();if(ge(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const e=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),e,null)}else{const e=le(n);if(!c.isCompleteForPath(n)&&ue(n)>1)return t;const i=he(n),o=c.getNode().getImmediateChild(e).updateChild(i,r);l=".priority"===e?u.updatePriority(c.getNode(),o):u.updateChild(c.getNode(),e,o,i,un,null)}const h=Pt(t,l,c.isFullyInitialized()||ge(n),u.filtersNodes());return fn(e,h,n,i,new hn(i,h,o),a)}function mn(e,t,n,r,i,o,s){const a=t.eventCache;let c,l;const u=new hn(i,t,o);if(ge(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=Rt(t,l,!0,e.filter.filtersNodes());else{const i=le(n);if(".priority"===i)l=e.filter.updatePriority(t.eventCache.getNode(),r),c=Rt(t,l,a.isFullyInitialized(),a.isFiltered());else{const o=he(n),l=a.getNode().getImmediateChild(i);let h;if(ge(o))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===de(o)&&e.getChild(pe(o)).isEmpty()?e:e.updateChild(o,r):Xe.EMPTY_NODE}if(l.equals(h))c=t;else{c=Rt(t,e.filter.updateChild(a.getNode(),i,h,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function gn(e,t){return e.eventCache.isCompleteForChild(t)}function yn(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function vn(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,l=t;c=ge(n)?r:new Lt(null).setTree(n,r);const u=t.serverCache.getNode();return c.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const c=yn(0,t.serverCache.getNode().getImmediateChild(n),r);l=pn(e,l,new ae(n),c,i,o,s,a)}}),c.children.inorderTraversal((n,r)=>{const c=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!c){const c=yn(0,t.serverCache.getNode().getImmediateChild(n),r);l=pn(e,l,new ae(n),c,i,o,s,a)}}),l}class bn{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new st(n.getIndex()),i=(o=n).loadsAllData()?new st(o.getIndex()):o.hasLimit()?new ct(o):new at(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,c=r.updateFullNode(Xe.EMPTY_NODE,s.getNode(),null),l=i.updateFullNode(Xe.EMPTY_NODE,a.getNode(),null),u=new Ct(c,s.isFullyInitialized(),r.filtersNodes()),h=new Ct(l,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Nt(h,u),this.eventGenerator_=new xt(this.query_)}get query(){return this.query_}}function wn(e,t){const n=Mt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ge(t)&&!n.getImmediateChild(le(t)).isEmpty())?n.getChild(t):null}function _n(e){return 0===e.eventRegistrations_.length}function En(e,t,n){const r=[];if(n){Object(o.f)(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Tn(e,t,n,r){t.type===Et.MERGE&&null!==t.source.queryId&&(Object(o.f)(Mt(e.viewCache_),"We should always have a full cache before handling merges"),Object(o.f)(Dt(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=dn(e.processor_,i,t,n,r);var a,c;return a=e.processor_,c=s.viewCache,Object(o.f)(c.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),Object(o.f)(c.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),Object(o.f)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Sn(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Sn(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),Ot(e,i,"child_removed",t,r,n),Ot(e,i,"child_added",t,r,n),Ot(e,i,"child_moved",o,r,n),Ot(e,i,"child_changed",t,r,n),Ot(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let In,kn;class An{constructor(){this.views=new Map}}function Cn(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return Object(o.f)(null!=s,"SyncTree gave us an op for an invalid query."),Tn(s,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(Tn(o,t,n,r));return i}}function xn(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=en(n,i?r:null),o=!1;e?o=!0:r instanceof Xe?(e=tn(n,r),o=!1):(e=Xe.EMPTY_NODE,o=!1);const s=Nt(new Ct(e,o,!1),new Ct(r,i,!1));return new bn(t,s)}return s}function On(e,t,n,r,i,o){const s=xn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){n.getNode().forEachChild(ze,(e,t)=>{r.push(rt(e,t))})}return n.isFullyInitialized()&&r.push(nt(n.getNode())),Sn(e,r,n.getNode(),t)}(s,n)}function Nn(e,t,n,r){const i=t._queryIdentifier,s=[];let a=[];const c=jn(e);if("default"===i)for(const[t,i]of e.views.entries())a=a.concat(En(i,n,r)),_n(i)&&(e.views.delete(t),i.query._queryParams.loadsAllData()||s.push(i.query));else{const t=e.views.get(i);t&&(a=a.concat(En(t,n,r)),_n(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return c&&!jn(e)&&s.push(new(Object(o.f)(In,"Reference.ts has not been loaded"),In)(t._repo,t._path)),{removed:s,events:a}}function Rn(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Pn(e,t){let n=null;for(const r of e.views.values())n=n||wn(r,t);return n}function Dn(e,t){if(t._queryParams.loadsAllData())return Ln(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Mn(e,t){return null!=Dn(e,t)}function jn(e){return null!=Ln(e)}function Ln(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fn=1;class Un{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Lt(null),this.pendingWriteTree_={visibleWrites:Ft.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Bn(e,t,n,r,i){return function(e,t,n,r,i){Object(o.f)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ut(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Jn(e,new kt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function qn(e,t,n,r){!function(e,t,n,r){Object(o.f)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Bt(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=Lt.fromObject(n);return Jn(e,new At({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Vn(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Jt(e.pendingWriteTree_,t)){let t=new Lt(null);return null!=r.snap?t=t.set(ce(),!0):M(r.children,e=>{t=t.set(new ae(e),!0)}),Jn(e,new St(r.path,t,n))}return[]}function zn(e,t,n){return Jn(e,new kt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Wn(e,t,n,r,i=!1){const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||Mn(s,t))){const c=Nn(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const l=c.removed;if(a=c.events,!i){const n=-1!==l.findIndex(e=>e._queryParams.loadsAllData()),i=e.syncPointTree_.findOnPath(o,(e,t)=>jn(t));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&jn(t)){return[Ln(t)]}{let e=[];return t&&(e=Rn(t)),M(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=Yn(e,r);e.listenProvider_.startListening(nr(i),Xn(e,i),o.hashFn,o.onComplete)}}}if(!i&&l.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(nr(t),n)}else l.forEach(t=>{const n=e.queryToTagMap.get(Zn(t));e.listenProvider_.stopListening(nr(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Zn(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,l)}return a}function Hn(e,t,n,r){const i=$n(e,r);if(null!=i){const r=er(i),o=r.path,s=r.queryId,a=ye(o,t);return tr(e,o,new kt(Tt(s),a,n))}return[]}function Kn(e,t,n,r=!1){const i=t._path;let s=null,a=!1;e.syncPointTree_.foreachOnPath(i,(e,t)=>{const n=ye(e,i);s=s||Pn(t,n),a=a||jn(t)});let c,l=e.syncPointTree_.get(i);if(l?(a=a||jn(l),s=s||Pn(l,ce())):(l=new An,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=s)c=!0;else{c=!1,s=Xe.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild((e,t)=>{const n=Pn(t,ce());n&&(s=s.updateImmediateChild(e,n))})}const u=Mn(l,t);if(!u&&!t._queryParams.loadsAllData()){const n=Zn(t);Object(o.f)(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Fn++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let h=On(l,t,n,Qt(e.pendingWriteTree_,i),s,c);if(!u&&!a&&!r){const n=Dn(l,t);h=h.concat(function(e,t,n){const r=t._path,i=Xn(e,t),s=Yn(e,n),a=e.listenProvider_.startListening(nr(t),i,s.hashFn,s.onComplete),c=e.syncPointTree_.subtree(r);if(i)Object(o.f)(!jn(c.value),"If we're adding a query, it shouldn't be shadowed");else{const t=c.fold((e,t,n)=>{if(!ge(e)&&t&&jn(t))return[Ln(t).query];{let e=[];return t&&(e=e.concat(Rn(t).map(e=>e.query))),M(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(nr(r),Xn(e,r))}}return a}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,n))}return h}function Gn(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=Pn(n,ye(e,t));if(r)return r});return $t(r,t,i,n,!0)}function Qn(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const i=ye(e,n);r=r||Pn(t,i)});let i=e.syncPointTree_.get(n);i?r=r||Pn(i,ce()):(i=new An,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new Ct(r,!0,!1):null;return function(e){return Dt(e.viewCache_)}(xn(i,t,Qt(e.pendingWriteTree_,t._path),o?s.getNode():Xe.EMPTY_NODE,o))}function Jn(e,t){return function e(t,n,r,i){if(ge(t.path))return function e(t,n,r,i){const o=n.get(ce());null==r&&null!=o&&(r=Pn(o,ce()));let s=[];n.children.inorderTraversal((n,o)=>{const a=r?r.getImmediateChild(n):null,c=an(i,n),l=t.operationForChild(n);l&&(s=s.concat(e(l,o,a,c)))}),o&&(s=s.concat(Cn(o,t,i,r)));return s}(t,n,r,i);{const o=n.get(ce());null==r&&null!=o&&(r=Pn(o,ce()));let s=[];const a=le(t.path),c=t.operationForChild(a),l=n.children.get(a);if(l&&c){const t=r?r.getImmediateChild(a):null,n=an(i,a);s=s.concat(e(c,l,t,n))}return o&&(s=s.concat(Cn(o,t,i,r))),s}}(t,e.syncPointTree_,null,Qt(e.pendingWriteTree_,ce()))}function Yn(e,t){const n=t.query,r=Xn(e,n);return{hashFn:()=>(function(e){return e.viewCache_.serverCache.getNode()}(t)||Xe.EMPTY_NODE).hash(),onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=$n(e,n);if(r){const n=er(r),i=n.path,o=n.queryId,s=ye(i,t);return tr(e,i,new It(Tt(o),s))}return[]}(e,n._path,r):function(e,t){return Jn(e,new It({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Wn(e,n,null,r)}}}}function Xn(e,t){const n=Zn(t);return e.queryToTagMap.get(n)}function Zn(e){return e._path.toString()+"$"+e._queryIdentifier}function $n(e,t){return e.tagToQueryMap.get(t)}function er(e){const t=e.indexOf("$");return Object(o.f)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ae(e.substr(0,t))}}function tr(e,t,n){const r=e.syncPointTree_.get(t);Object(o.f)(r,"Missing sync point for query tag that we're tracking");return Cn(r,n,Qt(e.pendingWriteTree_,t),null)}function nr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Object(o.f)(kn,"Reference.ts has not been loaded"),kn)(e._repo,e._path):e}class rr{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new rr(t)}node(){return this.node_}}class ir{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=me(this.path_,e);return new ir(this.syncTree_,t)}node(){return Gn(this.syncTree_,this.path_)}}const or=function(e,t,n){return e&&"object"==typeof e?(Object(o.f)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?sr(e[".sv"],t,n):"object"==typeof e[".sv"]?ar(e[".sv"],t):void Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},sr=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Object(o.f)(!1,"Unexpected server value: "+e)}},ar=function(e,t,n){e.hasOwnProperty("increment")||Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&Object(o.f)(!1,"Unexpected increment value: "+r);const i=t.node();if(Object(o.f)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},cr=function(e,t,n,r){return ur(t,new ir(n,e),r)},lr=function(e,t,n){return ur(e,new rr(t),n)};function ur(e,t,n){const r=e.getPriority().val(),i=or(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=or(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new Ve(o,$e(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new Ve(i))),r.forEachChild(ze,(e,r)=>{const i=ur(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))}),o}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function dr(e,t){let n=t instanceof ae?t:new ae(t),r=e,i=le(n);for(;null!==i;){const e=Object(o.S)(r.node.children,i)||{children:{},childCount:0};r=new hr(i,r,e),n=he(n),i=le(n)}return r}function fr(e){return e.node.value}function pr(e,t){e.node.value=t,vr(e)}function mr(e){return e.node.childCount>0}function gr(e,t){M(e.node.children,(n,r)=>{t(new hr(n,e,r))})}function yr(e){return new ae(null===e.parent?e.name:yr(e.parent)+"/"+e.name)}function vr(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===fr(e)&&!mr(e)}(n),i=Object(o.m)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,vr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,vr(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.parent,e.name,e)}const br=/[\[\].#$\/\u0000-\u001F\u007F]/,wr=/[\[\].#$\u0000-\u001F\u007F]/,_r=function(e){return"string"==typeof e&&0!==e.length&&!br.test(e)},Er=function(e){return"string"==typeof e&&0!==e.length&&!wr.test(e)},Tr=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!A(e)||e&&"object"==typeof e&&Object(o.m)(e,".sv")},Sr=function(e,t,n,r){r&&void 0===t||Ir(Object(o.s)(e,"value"),t,n)},Ir=function(e,t,n){const r=n instanceof ae?new _e(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Te(r));if("function"==typeof t)throw new Error(e+"contains a function "+Te(r)+" with contents = "+t.toString());if(A(t))throw new Error(e+"contains "+t.toString()+" "+Te(r));if("string"==typeof t&&t.length>10485760/3&&Object(o.T)(t)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+Te(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(M(t,(t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!_r(t)))throw new Error(e+" contains an invalid key ("+t+") "+Te(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Object(o.T)(t),Ee(e)}(r,t),Ir(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=Object(o.T)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+Te(r)+" in addition to actual children.")}},kr=function(e,t,n,r){if(r&&void 0===t)return;const i=Object(o.s)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];M(t,(e,t)=>{const r=new ae(e);if(Ir(i,t,me(n,r)),".priority"===de(r)&&!Tr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=fe(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!_r(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(ve);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&we(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},Ar=function(e,t,n){if(!n||void 0!==t){if(A(t))throw new Error(Object(o.s)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Tr(t))throw new Error(Object(o.s)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Cr=function(e,t,n,r){if(!(r&&void 0===n||_r(n)))throw new Error(Object(o.s)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},xr=function(e,t,n,r){if(!(r&&void 0===n||Er(n)))throw new Error(Object(o.s)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Or=function(e,t){if(".info"===le(t))throw new Error(e+" failed = Can't modify data under /.info/")},Nr=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!_r(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Er(e)}(n))throw new Error(Object(o.s)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Rr{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Pr(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||be(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Dr(e,t,n){Pr(e,n),jr(e,e=>be(e,t))}function Mr(e,t,n){Pr(e,n),jr(e,e=>we(e,t)||we(t,e))}function jr(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(Lr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Lr(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();b&&E("event: "+n.toString()),U(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Rr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yt(),this.transactionQueueTree_=new hr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ur(e,t,n){if(e.stats_=Y(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new mt(e.repoInfo_,(t,n,r,i)=>{Vr(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>zr(e,!0),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.V)(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new Ie(e.repoInfo_,t,(t,n,r,i)=>{Vr(e,t,n,r,i)},t=>{zr(e,t)},t=>{!function(e,t){M(t,(t,n)=>{Wr(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return J[n]||(J[n]=t()),J[n]}(e.repoInfo_,()=>new _t(e.stats_,e.server_)),e.infoData_=new gt,e.infoSyncTree_=new Un({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=zn(e.infoSyncTree_,t._path,s),setTimeout(()=>{i("ok")},0)),o},stopListening:()=>{}}),Wr(e,"connected",!1),e.serverSyncTree_=new Un({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const o=i(n,r);Mr(e.eventQueue_,t._path,o)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Br(e){const t=e.infoData_.getNode(new ae(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function qr(e){return(t=(t={timestamp:Br(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Vr(e,t,n,r,i){e.dataUpdateCount++;const s=new ae(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const t=Object(o.P)(n,e=>$e(e));a=function(e,t,n,r){const i=$n(e,r);if(i){const r=er(i),o=r.path,s=r.queryId,a=ye(o,t),c=Lt.fromObject(n);return tr(e,o,new At(Tt(s),a,c))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=$e(n);a=Hn(e.serverSyncTree_,s,t,i)}else if(r){const t=Object(o.P)(n,e=>$e(e));a=function(e,t,n){const r=Lt.fromObject(n);return Jn(e,new At({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=$e(n);a=zn(e.serverSyncTree_,s,t)}let c=s;a.length>0&&(c=ti(e,s)),Mr(e.eventQueue_,c,a)}function zr(e,t){Wr(e,"connected",t),!1===t&&function(e){Xr(e,"onDisconnectEvents");const t=qr(e),n=yt();bt(e.onDisconnect_,ce(),(r,i)=>{const o=cr(r,i,e.serverSyncTree_,t);vt(n,r,o)});let r=[];bt(n,ce(),(t,n)=>{r=r.concat(zn(e.serverSyncTree_,t,n));const i=oi(e,t);ti(e,i)}),e.onDisconnect_=yt(),Mr(e.eventQueue_,ce(),r)}(e)}function Wr(e,t,n){const r=new ae("/.info/"+t),i=$e(n);e.infoData_.updateSnapshot(r,i);const o=zn(e.infoSyncTree_,r,i);Mr(e.eventQueue_,r,o)}function Hr(e){return e.nextWriteId_++}function Kr(e,t,n,r,i){Xr(e,"set",{path:t.toString(),value:n,priority:r});const o=qr(e),s=$e(n,r),a=Gn(e.serverSyncTree_,t),c=lr(s,a,o),l=Hr(e),u=Bn(e.serverSyncTree_,t,c,l,!0);Pr(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(n,r)=>{const o="ok"===n;o||k("set at "+t+" failed: "+n);const s=Vn(e.serverSyncTree_,l,!o);Mr(e.eventQueue_,t,s),Zr(e,i,n,r)});const h=oi(e,t);ti(e,h),Mr(e.eventQueue_,h,[])}function Gr(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{"ok"===r&&function e(t,n){if(ge(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const r=t.value;return t.value=null,r.forEachChild(ze,(e,n)=>{vt(t,new ae(e),n)}),e(t,n)}}if(t.children.size>0){const r=le(n);if(n=he(n),t.children.has(r)){e(t.children.get(r),n)&&t.children.delete(r)}return 0===t.children.size}return!0}(e.onDisconnect_,t),Zr(e,n,r,i)})}function Qr(e,t,n,r){const i=$e(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(n,o)=>{"ok"===n&&vt(e.onDisconnect_,t,i),Zr(e,r,n,o)})}function Jr(e,t,n){let r;r=".info"===le(t._path)?Wn(e.infoSyncTree_,t,n):Wn(e.serverSyncTree_,t,n),Dr(e.eventQueue_,t._path,r)}function Yr(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}function Xr(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),E(n,...t)}function Zr(e,t,n,r){t&&U(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}})}function $r(e,t,n){return Gn(e.serverSyncTree_,t,n)||Xe.EMPTY_NODE}function ei(e,t=e.transactionQueueTree_){if(t||ii(e,t),fr(t)){const n=ri(e,t);Object(o.f)(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=$r(e,t,r);let s=i;const a=i.hash();for(let e=0;e<n.length;e++){const r=n[e];Object(o.f)(0===r.status,"tryToSendTransactionQueue_: items in queue should all be run."),r.status=1,r.retryCount++;const i=ye(t,r.path);s=s.updateChild(i,r.currentOutputSnapshotRaw)}const c=s.val(!0),l=t;e.server_.put(l.toString(),c,r=>{Xr(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Vn(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();ii(e,dr(e.transactionQueueTree_,t)),ei(e,e.transactionQueueTree_),Mr(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)U(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{k("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}ti(e,t)}},a)}(e,yr(t),n)}else mr(t)&&gr(t,t=>{ei(e,t)})}function ti(e,t){const n=ni(e,t),r=yr(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(e=>0===e.status).map(e=>e.currentWriteId);for(let c=0;c<t.length;c++){const l=t[c],u=ye(n,l.path);let h,d=!1;if(Object(o.f)(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)d=!0,h=l.abortReason,i=i.concat(Vn(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)d=!0,h="maxretry",i=i.concat(Vn(e.serverSyncTree_,l.currentWriteId,!0));else{const n=$r(e,l.path,s);l.currentInputSnapshot=n;const r=t[c].update(n.val());if(void 0!==r){Ir("transaction failed: Data returned ",r,l.path);let t=$e(r);"object"==typeof r&&null!=r&&Object(o.m)(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=l.currentWriteId,c=qr(e),u=lr(t,n,c);l.currentOutputSnapshotRaw=t,l.currentOutputSnapshotResolved=u,l.currentWriteId=Hr(e),s.splice(s.indexOf(a),1),i=i.concat(Bn(e.serverSyncTree_,l.path,u,l.currentWriteId,l.applyLocally)),i=i.concat(Vn(e.serverSyncTree_,a,!0))}else d=!0,h="nodata",i=i.concat(Vn(e.serverSyncTree_,l.currentWriteId,!0))}Mr(e.eventQueue_,n,i),i=[],d&&(t[c].status=2,a=t[c].unwatcher,setTimeout(a,Math.floor(0)),t[c].onComplete&&("nodata"===h?r.push(()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot)):r.push(()=>t[c].onComplete(new Error(h),!1,null))))}var a;ii(e,e.transactionQueueTree_);for(let e=0;e<r.length;e++)U(r[e]);ei(e,e.transactionQueueTree_)}(e,ri(e,n),r),r}function ni(e,t){let n,r=e.transactionQueueTree_;for(n=le(t);null!==n&&void 0===fr(r);)r=dr(r,n),n=le(t=he(t));return r}function ri(e,t){const n=[];return function e(t,n,r){const i=fr(n);if(i)for(let e=0;e<i.length;e++)r.push(i[e]);gr(n,n=>{e(t,n,r)})}(e,t,n),n.sort((e,t)=>e.order-t.order),n}function ii(e,t){const n=fr(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,pr(t,n.length>0?n:void 0)}gr(t,t=>{ii(e,t)})}function oi(e,t){const n=yr(ni(e,t)),r=dr(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{si(e,t)}),si(e,r),function e(t,n,r,i){r&&!i&&n(t),gr(t,t=>{e(t,n,!0,i)}),r&&i&&n(t)}(r,t=>{si(e,t)}),n}function si(e,t){const n=fr(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Object(o.f)(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(Object(o.f)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Vn(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?pr(t,void 0):n.length=s+1,Mr(e.eventQueue_,yr(t),i);for(let e=0;e<r.length;e++)U(r[e])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=function(e,t){const n=ci(e),r=n.namespace;"firebase.com"===n.domain&&I(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||I("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&k("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new H(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ae(n.pathString)}},ci=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"==typeof e){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let r=n[e];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(e){}t+="/"+r}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):k(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,h)));l=t.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(t.substring(l+1),10)):l=t.length;const f=t.slice(0,l);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},li="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ui=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=li.charAt(n%64),n=Math.floor(n/64);Object(o.f)(0===n,"Cannot push at time == 0");let a=s.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)a+=li.charAt(t[i]);return Object(o.f)(20===a.length,"nextPushId: Length should be 20."),a}}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class hi{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.V)(this.snapshot.exportVal())}}class di{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Object(o.f)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new o.a;return Gr(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Or("OnDisconnect.remove",this._path);const e=new o.a;return Qr(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Or("OnDisconnect.set",this._path),Sr("OnDisconnect.set",e,this._path,!1);const t=new o.a;return Qr(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Or("OnDisconnect.setWithPriority",this._path),Sr("OnDisconnect.setWithPriority",e,this._path,!1),Ar("OnDisconnect.setWithPriority",t,!1);const n=new o.a;return function(e,t,n,r,i){const o=$e(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(n,r)=>{"ok"===n&&vt(e.onDisconnect_,t,o),Zr(e,i,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){Or("OnDisconnect.update",this._path),kr("OnDisconnect.update",e,this._path,!1);const t=new o.a;return function(e,t,n,r){if(Object(o.E)(n))return E("onDisconnect().update() called with empty data.  Don't do anything."),void Zr(e,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(i,o)=>{"ok"===i&&M(n,(n,r)=>{const i=$e(r);vt(e.onDisconnect_,me(t,n),i)}),Zr(e,r,i,o)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return ge(this._path)?null:de(this._path)}get ref(){return new bi(this._repo,this._path)}get _queryIdentifier(){const e=pt(this._queryParams),t=P(e);return"{}"===t?"default":t}get _queryObject(){return pt(this._queryParams)}isEqual(e){if(!((e=Object(o.z)(e))instanceof mi))return!1;const t=this._repo===e._repo,n=be(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function gi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function yi(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Oe){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==C)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==x)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===ze){if(null!=t&&!Tr(t)||null!=n&&!Tr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.f)(e.getIndex()instanceof et||e.getIndex()===tt,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function vi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class bi extends mi{constructor(e,t){super(e,t,new lt,!1)}get parent(){const e=pe(this._path);return null===e?null:new bi(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class wi{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ae(e),n=Ti(this.ref,e);return new wi(this._node.getChild(t),n,ze)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new wi(n,Ti(this.ref,t),ze)))}hasChild(e){const t=new ae(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function _i(e,t){return(e=Object(o.z)(e))._checkNotDeleted("ref"),void 0!==t?Ti(e._root,t):e._root}function Ei(e,t){(e=Object(o.z)(e))._checkNotDeleted("refFromURL");const n=ai(t,e._repo.repoInfo_.nodeAdmin);Nr("refFromURL",n);const r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||I("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),_i(e,n.path.toString())}function Ti(e,t){var n,r,i,s;return null===le((e=Object(o.z)(e))._path)?(n="child",r="path",s=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),xr(n,r,i,s)):xr("child","path",t,!1),new bi(e._repo,me(e._path,t))}function Si(e,t){e=Object(o.z)(e),Or("push",e._path),Sr("push",t,e._path,!0);const n=Br(e._repo),r=ui(n),i=Ti(e,r),s=Ti(e,r);let a;return a=null!=t?ki(s,t).then(()=>s):Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function Ii(e){return Or("remove",e._path),ki(e,null)}function ki(e,t){e=Object(o.z)(e),Or("set",e._path),Sr("set",t,e._path,!1);const n=new o.a;return Kr(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Ai(e,t){e=Object(o.z)(e),Or("setPriority",e._path),Ar("setPriority",t,!1);const n=new o.a;return Kr(e._repo,me(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function Ci(e,t,n){if(Or("setWithPriority",e._path),Sr("setWithPriority",t,e._path,!1),Ar("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new o.a;return Kr(e._repo,e._path,t,n,r.wrapCallback(()=>{})),r.promise}function xi(e,t){kr("update",t,e._path,!1);const n=new o.a;return function(e,t,n,r){Xr(e,"update",{path:t.toString(),value:n});let i=!0;const o=qr(e),s={};if(M(n,(n,r)=>{i=!1,s[n]=cr(me(t,n),$e(r),e.serverSyncTree_,o)}),i)E("update() called with empty data.  Don't do anything."),Zr(e,r,"ok",void 0);else{const i=Hr(e),o=qn(e.serverSyncTree_,t,s,i);Pr(e.eventQueue_,o),e.server_.merge(t.toString(),n,(n,o)=>{const s="ok"===n;s||k("update at "+t+" failed: "+n);const a=Vn(e.serverSyncTree_,i,!s),c=a.length>0?ti(e,t):t;Mr(e.eventQueue_,c,a),Zr(e,r,n,o)}),M(n,n=>{const r=oi(e,me(t,n));ti(e,r)}),Mr(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function Oi(e){e=Object(o.z)(e);const t=new fi(()=>{}),n=new Ni(t);return function(e,t,n){const r=Qn(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(r=>{const i=$e(r).withIndex(t._queryParams.getIndex());let o;if(Kn(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=zn(e.serverSyncTree_,t._path,i);else{const n=Xn(e.serverSyncTree_,t);o=Hn(e.serverSyncTree_,t._path,i,n)}return Mr(e.eventQueue_,t._path,o),Wn(e.serverSyncTree_,t,n,null,!0),i},n=>(Xr(e,"get for query "+Object(o.V)(t)+" failed: "+n),Promise.reject(new Error(n))))}(e._repo,e,n).then(t=>new wi(t,new bi(e._repo,e._path),e._queryParams.getIndex()))}class Ni{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new hi("value",this,new wi(e.snapshotNode,new bi(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new di(this,e,t):null}matches(e){return e instanceof Ni&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ri{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new di(this,e,t):null}createEvent(e,t){Object(o.f)(null!=e.childName,"Child events should have a childName.");const n=Ti(new bi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new hi(e.type,this,new wi(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Ri&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Pi(e,t,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{Jr(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new fi(n,o||void 0),a="value"===t?new Ni(s):new Ri(t,s);return function(e,t,n){let r;r=".info"===le(t._path)?Kn(e.infoSyncTree_,t,n):Kn(e.serverSyncTree_,t,n),Dr(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>Jr(e._repo,e,a)}function Di(e,t,n,r){return Pi(e,"value",t,n,r)}function Mi(e,t,n,r){return Pi(e,"child_added",t,n,r)}function ji(e,t,n,r){return Pi(e,"child_changed",t,n,r)}function Li(e,t,n,r){return Pi(e,"child_moved",t,n,r)}function Fi(e,t,n,r){return Pi(e,"child_removed",t,n,r)}function Ui(e,t,n){let r=null;const i=n?new fi(n):null;"value"===t?r=new Ni(i):t&&(r=new Ri(t,i)),Jr(e._repo,e,r)}class Bi{}class qi extends Bi{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Sr("endAt",this._value,e._path,!0);const t=ht(e._queryParams,this._value,this._key);if(vi(t),yi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mi(e._repo,e._path,t,e._orderByCalled)}}function Vi(e,t){return Cr("endAt","key",t,!0),new qi(e,t)}class zi extends Bi{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Sr("endBefore",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===Oe||n?ht(e,t,n):ht(e,t,C),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(vi(t),yi(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mi(e._repo,e._path,t,e._orderByCalled)}}function Wi(e,t){return Cr("endBefore","key",t,!0),new zi(e,t)}class Hi extends Bi{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Sr("startAt",this._value,e._path,!0);const t=ut(e._queryParams,this._value,this._key);if(vi(t),yi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new mi(e._repo,e._path,t,e._orderByCalled)}}function Ki(e=null,t){return Cr("startAt","key",t,!0),new Hi(e,t)}class Gi extends Bi{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Sr("startAfter",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===Oe||n?ut(e,t,n):ut(e,t,x),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(vi(t),yi(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new mi(e._repo,e._path,t,e._orderByCalled)}}function Qi(e,t){return Cr("startAfter","key",t,!0),new Gi(e,t)}class Ji extends Bi{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new mi(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}function Yi(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ji(e)}class Xi extends Bi{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new mi(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}function Zi(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Xi(e)}class $i extends Bi{constructor(e){super(),this._path=e}_apply(e){gi(e,"orderByChild");const t=new ae(this._path);if(ge(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new et(t),r=dt(e._queryParams,n);return yi(r),new mi(e._repo,e._path,r,!0)}}function eo(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return xr("orderByChild","path",e,!1),new $i(e)}class to extends Bi{_apply(e){gi(e,"orderByKey");const t=dt(e._queryParams,Oe);return yi(t),new mi(e._repo,e._path,t,!0)}}function no(){return new to}class ro extends Bi{_apply(e){gi(e,"orderByPriority");const t=dt(e._queryParams,ze);return yi(t),new mi(e._repo,e._path,t,!0)}}function io(){return new ro}class oo extends Bi{_apply(e){gi(e,"orderByValue");const t=dt(e._queryParams,tt);return yi(t),new mi(e._repo,e._path,t,!0)}}function so(){return new oo}class ao extends Bi{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Sr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new qi(this._value,this._key)._apply(new Hi(this._value,this._key)._apply(e))}}function co(e,t){return Cr("equalTo","key",t,!0),new ao(e,t)}function lo(e,...t){let n=Object(o.z)(e);for(const e of t)n=e._apply(n);return n}!function(e){Object(o.f)(!In,"__referenceConstructor has already been defined"),In=e}(bi),function(e){Object(o.f)(!kn,"__referenceConstructor has already been defined"),kn=e}(bi);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const uo={};let ho=!1;function fo(t,n,r,i,o){let s=i||t.options.databaseURL;void 0===s&&(t.options.projectId||I("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),E("Using default host for project ",t.options.projectId),s=t.options.projectId+"-default-rtdb.firebaseio.com");let a,c=ai(s,o),l=c.repoInfo,u=void 0;void 0!==e&&e.env&&(u=e.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,c=ai(s,o),l=c.repoInfo):a=!c.repoInfo.secure;const h=o&&a?new z(z.OWNER):new V(t.name,t.options,n);Nr("Invalid Firebase Database URL",c),ge(c.path)||I("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=uo[t.name];i||(i={},uo[t.name]=i);let o=i[e.toURLString()];o&&I("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Fr(e,ho,n,r),i[e.toURLString()]=o,o}(l,t,h,new q(t.name,r));return new po(d,t)}class po{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Ur(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new bi(this._repo,ce())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=uo[t];n&&n[e.key]===e||I(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Yr(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&I("Cannot call "+e+" on a deleted database.")}}function mo(){ne.IS_TRANSPORT_INITIALIZED&&k("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function go(){mo(),Z.forceDisallow()}function yo(){mo(),te.forceDisallow(),Z.forceAllow()}function vo(e,t,n,r={}){(e=Object(o.z)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&I("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&I('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new z(z.OWNER);else if(r.mockUserToken){const t="string"==typeof r.mockUserToken?r.mockUserToken:Object(o.n)(r.mockUserToken,e.app.options.projectId);s=new z(t)}!function(e,t,n,r){e.repoInfo_=new H(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,s)}function bo(e){(e=Object(o.z)(e))._checkNotDeleted("goOffline"),Yr(e._repo)}function wo(e){var t;(e=Object(o.z)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume("repo_interrupt")}function _o(e,t){_(e,t)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Eo={".sv":"timestamp"};function To(){return Eo}function So(e){return{".sv":{increment:e}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function ko(e,t,n){var r;if(e=Object(o.z)(e),Or("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,s=new o.a,a=Di(e,()=>{});return function(e,t,n,r,i,s){Xr(e,"transaction on "+t);const a={path:t,update:n,onComplete:r,status:null,order:g(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=$r(e,t,void 0);a.currentInputSnapshot=c;const l=a.update(c.val());if(void 0===l)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Ir("transaction failed: Data returned ",l,a.path),a.status=0;const n=dr(e.transactionQueueTree_,t),r=fr(n)||[];let i;if(r.push(a),pr(n,r),"object"==typeof l&&null!==l&&Object(o.m)(l,".priority"))i=Object(o.S)(l,".priority"),Object(o.f)(Tr(i),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{i=(Gn(e.serverSyncTree_,t)||Xe.EMPTY_NODE).getPriority().val()}const s=qr(e),u=$e(l,i),h=lr(u,c,s);a.currentOutputSnapshotRaw=u,a.currentOutputSnapshotResolved=h,a.currentWriteId=Hr(e);const d=Bn(e.serverSyncTree_,t,h,a.currentWriteId,a.applyLocally);Mr(e.eventQueue_,t,d),ei(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(t,n,r)=>{let i=null;t?s.reject(t):(i=new wi(r,new bi(e._repo,e._path),ze),s.resolve(new Io(n,i)))},a,i),s.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ie.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ie.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Ao;l(r.SDK_VERSION),Object(r._registerComponent)(new i.a("database",(e,{instanceIdentifier:t})=>fo(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),Object(r.registerVersion)(a,"0.14.3",Ao),Object(r.registerVersion)(a,"0.14.3","esm2017")}).call(this,n(27))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o}));var r=n(0);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class o{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.a;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(e)&&t.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,"[DEFAULT]"===r?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class s{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return h}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class l{constructor(e){this.name=e,this._logLevel=s,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function u(e){r.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=o[t.level]),n.userLogHandler=null===e?null:(t,n,...o)=>{const s=o.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:s,args:o,type:t.name})}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),i=n(6),o=n(2),s=n(7);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class a{constructor(e,t){this._delegate=e,this.firebase=t,Object(o._addComponent)(e,new i.a("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Object(o.deleteApp)(this._delegate)))}_getService(e,t=o._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=o._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Object(o._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){Object(o._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},l=new r.b("app-compat","Firebase",c);const u=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function e(){const t=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){const t={},n={__esModule:!0,initializeApp:function(i,s={}){const a=o.initializeApp(i,s);if(Object(r.m)(t,a.name))return t[a.name];const c=new e(a,n);return t[a.name]=c,c},app:i,registerVersion:o.registerVersion,setLogLevel:o.setLogLevel,onLog:o.onLog,apps:null,SDK_VERSION:o.SDK_VERSION,INTERNAL:{registerComponent:function(t){const s=t.name,a=s.replace("-compat","");if(o._registerComponent(t)&&"PUBLIC"===t.type){const o=(e=i())=>{if("function"!=typeof e[a])throw l.create("invalid-app-argument",{appName:s});return e[a]()};void 0!==t.serviceProps&&Object(r.r)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(...e){return this._getService.bind(this,s).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){if("serverAuth"===t)return null;return t},modularAPIs:o}};function i(e){if(e=e||o._DEFAULT_ENTRY_NAME,!Object(r.m)(t,e))throw l.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(r.r)(t,e)},createSubscribe:r.o,ErrorFactory:r.b,deepExtend:r.r}),t}(),h=new s.b("@firebase/app-compat");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(Object(r.C)()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const d=u;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var f;Object(o.registerVersion)("@firebase/app-compat","0.2.3",f)},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(s=r,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([i]).join("\n")}var s,a,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[G]}function o(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Q}(e)||Array.isArray(e)||!!e[K]||!!(null===(t=e.constructor)||void 0===t?void 0:t[K])||d(e)||f(e))}function s(e,t,n){void 0===n&&(n=!1),0===a(e)?(n?Object.keys:J)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function a(e){var t=e[G];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:d(e)?2:f(e)?3:0}function c(e,t){return 2===a(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){return 2===a(e)?e.get(t):e[t]}function u(e,t,n){var r=a(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function h(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function d(e){return V&&e instanceof Map}function f(e){return z&&e instanceof Set}function p(e){return e.o||e.t}function m(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Y(e);delete t[G];for(var n=J(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function g(e,t){return void 0===t&&(t=!1),v(e)||i(e)||!o(e)||(a(e)>1&&(e.set=e.add=e.clear=e.delete=y),Object.freeze(e),t&&s(e,(function(e,t){return g(t,!0)}),!0)),e}function y(){r(2)}function v(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=X[e];return t||r(18,e),t}function w(e,t){X[e]||(X[e]=t)}function _(){return B}function E(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function T(e){S(e),e.p.forEach(k),e.p=null}function S(e){e===B&&(B=e.l)}function I(e){return B={p:[],l:B,h:e,m:!0,_:0}}function k(e){var t=e[G];0===t.i||1===t.i?t.j():t.O=!0}function A(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.g||b("ES5").S(t,e,i),i?(n[G].P&&(T(t),r(4)),o(e)&&(e=C(t,e),t.l||O(t,e)),t.u&&b("Patches").M(n[G].t,e,t.u,t.s)):e=C(t,n,[]),T(t),t.u&&t.v(t.u,t.s),e!==H?e:void 0}function C(e,t,n){if(v(t))return t;var r=t[G];if(!r)return s(t,(function(i,o){return x(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return O(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=m(r.k):r.o,o=i,a=!1;3===r.i&&(o=new Set(i),i.clear(),a=!0),s(o,(function(t,o){return x(e,r,i,t,o,n,a)})),O(e,i,!1),n&&e.u&&b("Patches").N(r,n,e.u,e.s)}return r.o}function x(e,t,n,r,s,a,l){if(i(s)){var h=C(e,s,a&&t&&3!==t.i&&!c(t.R,r)?a.concat(r):void 0);if(u(n,r,h),!i(h))return;e.m=!1}else l&&n.add(s);if(o(s)&&!v(s)){if(!e.h.D&&e._<1)return;C(e,s),t&&t.A.l||O(e,s)}}function O(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&g(t,n)}function N(e,t){var n=e[G];return(n?p(n):e)[t]}function R(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function P(e){e.P||(e.P=!0,e.l&&P(e.l))}function D(e){e.o||(e.o=m(e.t))}function M(e,t,n){var r=d(t)?b("MapSet").F(t,n):f(t)?b("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:_(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=Z;n&&(i=[r],o=$);var s=Proxy.revocable(i,o),a=s.revoke,c=s.proxy;return r.k=c,r.j=a,c}(t,n):b("ES5").J(t,n);return(n?n.A:_()).p.push(r),r}function j(e){return i(e)||r(22,e),function e(t){if(!o(t))return t;var n,r=t[G],i=a(t);if(r){if(!r.P&&(r.i<4||!b("ES5").K(r)))return r.t;r.I=!0,n=L(t,i),r.I=!1}else n=L(t,i);return s(n,(function(t,i){r&&l(r.t,t)===i||u(n,t,e(i))})),3===i?new Set(n):n}(e)}function L(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return m(e)}function F(){function e(e,t){var n=o[e];return n?n.enumerable=t:o[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[G];return Z.get(t,e)},set:function(t){var n=this[G];Z.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][G];if(!i.P)switch(i.i){case 5:r(i)&&P(i);break;case 4:n(i)&&P(i)}}}function n(e){for(var t=e.t,n=e.k,r=J(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==G){var s=t[o];if(void 0===s&&!c(t,o))return!0;var a=n[o],l=a&&a[G];if(l?l.t!==s:!h(a,s))return!0}}var u=!!t[G];return r.length!==J(t).length+(u?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var o={};w("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=Y(n);delete o[G];for(var s=J(o),a=0;a<s.length;a++){var c=s[a];o[c]=e(c,t||!!o[c].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:_(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,G,{value:o,writable:!0}),i},S:function(e,n,o){o?i(n)&&n[G].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[G];if(n){var i=n.t,o=n.k,a=n.R,l=n.i;if(4===l)s(o,(function(t){t!==G&&(void 0!==i[t]||c(i,t)?a[t]||e(o[t]):(a[t]=!0,P(n)))})),s(i,(function(e){void 0!==o[e]||c(o,e)||(a[e]=!1,P(n))}));else if(5===l){if(r(n)&&(P(n),a.length=!0),o.length<i.length)for(var u=o.length;u<i.length;u++)a[u]=!1;else for(var h=i.length;h<o.length;h++)a[h]=!0;for(var d=Math.min(o.length,i.length),f=0;f<d;f++)o.hasOwnProperty(f)||(a[f]=!0),void 0===a[f]&&e(o[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return F})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o}));var U,B,q="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),V="undefined"!=typeof Map,z="undefined"!=typeof Set,W="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,H=q?Symbol.for("immer-nothing"):((U={})["immer-nothing"]=!0,U),K=q?Symbol.for("immer-draftable"):"__$immer_draftable",G=q?Symbol.for("immer-state"):"__$immer_state",Q=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),J="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Y=Object.getOwnPropertyDescriptors||function(e){var t={};return J(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},X={},Z={get:function(e,t){if(t===G)return e;var n=p(e);if(!c(n,t))return function(e,t,n){var r,i=R(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!o(r)?r:r===N(e.t,t)?(D(e),e.o[t]=M(e.A.h,r,e)):r},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){var r=R(p(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=N(p(e),t),o=null==i?void 0:i[G];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(h(n,i)&&(void 0!==n||c(e.t,t)))return!0;D(e),P(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==N(e.t,t)||t in e.t?(e.R[t]=!1,D(e),P(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},$={};s(Z,(function(e,t){$[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),$.deleteProperty=function(e,t){return $.set.call(this,e,t,void 0)},$.set=function(e,t,n){return Z.set.call(this,e[0],t,n,e[0])};var ee=new(function(){function e(e){var t=this;this.g=W,this.D=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var s=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=s);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var c;if("function"!=typeof n&&r(6),void 0!==i&&"function"!=typeof i&&r(7),o(e)){var l=I(t),u=M(t,e,void 0),h=!0;try{c=n(u),h=!1}finally{h?T(l):S(l)}return"undefined"!=typeof Promise&&c instanceof Promise?c.then((function(e){return E(l,i),A(e,l)}),(function(e){throw T(l),e})):(E(l,i),A(c,l))}if(!e||"object"!=typeof e){if(void 0===(c=n(e))&&(c=e),c===H&&(c=void 0),t.D&&g(c,!0),i){var d=[],f=[];b("Patches").M(e,c,d,f),i(d,f)}return c}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){o(e)||r(8),i(e)&&(e=j(e));var t=I(this),n=M(this,e,void 0);return n[G].C=!0,S(t),n},t.finishDraft=function(e,t){var n=(e&&e[G]).A;return E(n,t),A(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!W&&r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=b("Patches").$;return i(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}()),te=ee.produce;ee.produceWithPatches.bind(ee),ee.setAutoFreeze.bind(ee),ee.setUseProxies.bind(ee),ee.applyPatches.bind(ee),ee.createDraft.bind(ee),ee.finishDraft.bind(ee);t.b=te},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return m}));let r,i;const o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap,l=new WeakMap;let u={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||a.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return f(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function h(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(p(this),t),f(o.get(this))}:function(...t){return f(e.apply(p(this),t))}:function(t,...n){const r=e.call(p(this),t,...n);return a.set(r,t.sort?t.sort():[t]),f(r)}}function d(e){return"function"==typeof e?h(e):(e instanceof IDBTransaction&&function(e){if(s.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});s.set(e,t)}(e),t=e,(r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,u):e);var t}function f(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(f(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&o.set(t,e)}).catch(()=>{}),l.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=d(e);return t!==e&&(c.set(e,t),l.set(t,e)),t}const p=e=>l.get(e);function m(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=f(s);return r&&s.addEventListener("upgradeneeded",e=>{r(f(s.result),e.oldVersion,e.newVersion,f(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function g(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",()=>t()),f(n).then(()=>{})}const y=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],b=new Map;function w(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(b.get(t))return b.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=v.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!y.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return b.set(t,o),o}u=(e=>({...e,get:(t,n,r)=>w(t,n)||e.get(t,n,r),has:(t,n)=>!!w(t,n)||e.has(t,n)}))(u)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Yn})),n.d(t,"b",(function(){return Zn})),n.d(t,"c",(function(){return Xn})),n.d(t,"d",(function(){return er})),n.d(t,"e",(function(){return $n})),n.d(t,"f",(function(){return tr})),n.d(t,"g",(function(){return nr})),n.d(t,"h",(function(){return Qn})),n.d(t,"i",(function(){return Jn}));var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},o={},s=s||{},a=i||self;function c(){}function l(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function u(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var h="closure_uid_"+(1e9*Math.random()>>>0),d=0;function f(e,t,n){return e.call.apply(e.bind,arguments)}function p(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function m(e,t,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:p).apply(null,arguments)}function g(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function y(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function v(){this.s=this.s,this.o=this.o}v.prototype.s=!1,v.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,h)&&e[h]||(e[h]=++d))},v.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const b=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function w(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function _(e,t){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(l(n)){const t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function E(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}E.prototype.h=function(){this.defaultPrevented=!0};var T=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",c,t),a.removeEventListener("test",c,t)}catch(e){}return e}();function S(e){return/^[\s\xa0]*$/.test(e)}var I=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function k(e,t){return e<t?-1:e>t?1:0}function A(){var e=a.navigator;return e&&(e=e.userAgent)?e:""}function C(e){return-1!=A().indexOf(e)}function x(e){return x[" "](e),e}x[" "]=c;var O,N,R=C("Opera"),P=C("Trident")||C("MSIE"),D=C("Edge"),M=D||P,j=C("Gecko")&&!(-1!=A().toLowerCase().indexOf("webkit")&&!C("Edge"))&&!(C("Trident")||C("MSIE"))&&!C("Edge"),L=-1!=A().toLowerCase().indexOf("webkit")&&!C("Edge");function F(){var e=a.document;return e?e.documentMode:void 0}e:{var U="",B=(N=A(),j?/rv:([^\);]+)(\)|;)/.exec(N):D?/Edge\/([\d\.]+)/.exec(N):P?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(N):L?/WebKit\/(\S+)/.exec(N):R?/(?:Version)[ \/]?(\S+)/.exec(N):void 0);if(B&&(U=B?B[1]:""),P){var q=F();if(null!=q&&q>parseFloat(U)){O=String(q);break e}}O=U}var V,z={};function W(){return function(e){var t=z;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){let e=0;const t=I(String(O)).split("."),n=I("9").split("."),r=Math.max(t.length,n.length);for(let s=0;0==e&&s<r;s++){var i=t[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;e=k(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||k(0==i[2].length,0==o[2].length)||k(i[2],o[2]),i=i[3],o=o[3]}while(0==e)}return 0<=e}))}if(a.document&&P){var H=F();V=H||(parseInt(O,10)||void 0)}else V=void 0;var K=V;function G(e,t){if(E.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(j){e:{try{x(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Q[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&G.X.h.call(this)}}y(G,E);var Q={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),Y=0;function X(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Y,this.ba=this.ea=!1}function Z(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function ee(e){const t={};for(const n in e)t[n]=e[n];return t}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<te.length;t++)n=te[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function re(e){this.src=e,this.g={},this.h=0}function ie(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=b(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function oe(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ba&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}re.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=oe(e,t,r,i);return-1<s?(t=e[s],n||(t.ea=!1)):((t=new X(t,this.src,o,!!r,i)).ea=n,e.push(t)),t};var se="closure_lm_"+(1e6*Math.random()|0),ae={};function ce(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,i,o);return null}return r=me(r),t&&t[J]?t.O(n,r,u(i)?!!i.capture:!!i,o):le(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ce(e,t[o],n,r,i);return null}return n=me(n),e&&e[J]?e.N(t,n,u(r)?!!r.capture:!!r,i):le(e,t,n,!1,r,i)}function le(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=u(i)?!!i.capture:!!i,a=fe(e);if(a||(e[se]=a=new re(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){const e=de;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)T||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(he(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ue(e){if("number"!=typeof e&&e&&!e.ba){var t=e.src;if(t&&t[J])ie(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(he(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=fe(t))?(ie(n,e),0==n.h&&(n.src=null,t[se]=null)):Z(e)}}}function he(e){return e in ae?ae[e]:ae[e]="on"+e}function de(e,t){if(e.ba)e=!0;else{t=new G(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&ue(e),e=n.call(r,t)}return e}function fe(e){return(e=e[se])instanceof re?e:null}var pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(e){return"function"==typeof e?e:(e[pe]||(e[pe]=function(t){return e.handleEvent(t)}),e[pe])}function ge(){v.call(this),this.i=new re(this),this.P=this,this.I=null}function ye(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new E(t,e);else if(t instanceof E)t.target=t.target||e;else{var i=t;ne(t=new E(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=ve(s,r,!0,t)&&i}if(i=ve(s=t.g=e,r,!0,t)&&i,i=ve(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ve(s=t.g=n[o],r,!1,t)&&i}function ve(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ba&&s.capture==n){var a=s.listener,c=s.ha||s.src;s.ea&&ie(e.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}y(ge,v),ge.prototype[J]=!0,ge.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)e(t,n[s],r,i,o);else i=u(i)?!!i.capture:!!i,r=me(r),t&&t[J]?(t=t.i,(n=String(n).toString())in t.g&&(-1<(r=oe(s=t.g[n],r,i,o))&&(Z(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete t.g[n],t.h--)))):t&&(t=fe(t))&&(n=t.g[n.toString()],t=-1,n&&(t=oe(n,r,i,o)),(r=-1<t?n[t]:null)&&ue(r))}(this,e,t,n,r)},ge.prototype.M=function(){if(ge.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Z(n[r]);delete t.g[e],t.h--}}this.I=null},ge.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ge.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var be=a.JSON.stringify;function we(){var e=Ae;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _e,Ee=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Te,e=>e.reset());class Te{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Se(e){a.setTimeout(()=>{throw e},0)}function Ie(e,t){_e||function(){var e=a.Promise.resolve(void 0);_e=function(){e.then(Ce)}}(),ke||(_e(),ke=!0),Ae.add(e,t)}var ke=!1,Ae=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ee.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Ce(){for(var e;e=we();){try{e.h.call(e.g)}catch(e){Se(e)}var t=Ee;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ke=!1}function xe(e,t){ge.call(this),this.h=e||1,this.g=t||a,this.j=m(this.lb,this),this.l=Date.now()}function Oe(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Ne(e,t,n){if("function"==typeof e)n&&(e=m(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=m(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}y(xe,ge),(r=xe.prototype).ca=!1,r.R=null,r.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ye(this,"tick"),this.ca&&(Oe(this),this.start()))}},r.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){xe.X.M.call(this),Oe(this),delete this.g};class Re extends v{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=Ne(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.j);const n=t.h;t.h=null,t.m.apply(null,n)}(this)}M(){super.M(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pe(e){v.call(this),this.h=e,this.g={}}y(Pe,v);var De=[];function Me(e,t,n,r){Array.isArray(n)||(n&&(De[0]=n.toString()),n=De);for(var i=0;i<n.length;i++){var o=ce(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function je(e){$(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ue(e)}),e),e.g={}}function Le(){this.g=!0}function Fe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return be(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Pe.prototype.M=function(){Pe.X.M.call(this),je(this)},Pe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Le.prototype.Aa=function(){this.g=!1},Le.prototype.info=function(){};var Ue={},Be=null;function qe(){return Be=Be||new ge}function Ve(e){E.call(this,Ue.Pa,e)}function ze(e){const t=qe();ye(t,new Ve(t))}function We(e,t){E.call(this,Ue.STAT_EVENT,e),this.stat=t}function He(e){const t=qe();ye(t,new We(t,e))}function Ke(e,t){E.call(this,Ue.Qa,e),this.size=t}function Ge(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){e()}),t)}Ue.Pa="serverreachability",y(Ve,E),Ue.STAT_EVENT="statevent",y(We,E),Ue.Qa="timingevent",y(Ke,E);var Qe={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Je={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ye(){}function Xe(e){return e.h||(e.h=e.i())}function Ze(){}Ye.prototype.h=null;var $e,et={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function tt(){E.call(this,"d")}function nt(){E.call(this,"c")}function rt(){}function it(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Pe(this),this.O=st,e=M?125:void 0,this.T=new xe(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ot}function ot(){this.i=null,this.g="",this.h=!1}y(tt,E),y(nt,E),y(rt,Ye),rt.prototype.g=function(){return new XMLHttpRequest},rt.prototype.i=function(){return{}},$e=new rt;var st=45e3,at={},ct={};function lt(e,t,n){e.K=1,e.v=Ct(Tt(t)),e.s=n,e.P=!0,ut(e,null)}function ut(e,t){e.F=Date.now(),pt(e),e.A=Tt(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),qt(n.i,"t",r),e.C=0,n=e.l.H,e.h=new ot,e.g=qn(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Re(m(e.La,e,e.g),e.N)),Me(e.S,e.g,"readystatechange",e.ib),t=e.H?ee(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),ze(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function ht(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function dt(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=ft(e,n),r==ct){4==t&&(e.o=4,He(14),i=!1),Fe(e.j,e.m,null,"[Incomplete Response]");break}if(r==at){e.o=4,He(15),Fe(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Fe(e.j,e.m,r,null),bt(e,r)}ht(e)&&r!=ct&&r!=at&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,He(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Pn(t),t.K=!0,He(11))):(Fe(e.j,e.m,n,"[Invalid Chunked Response]"),vt(e),yt(e))}function ft(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ct:(n=Number(t.substring(n,r)),isNaN(n)?at:(r+=1)+n>t.length?ct:(t=t.substr(r,n),e.C=r+n,t))}function pt(e){e.V=Date.now()+e.O,mt(e,e.O)}function mt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ge(m(e.gb,e),t)}function gt(e){e.B&&(a.clearTimeout(e.B),e.B=null)}function yt(e){0==e.l.G||e.I||jn(e.l,e)}function vt(e){gt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Oe(e.T),je(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function bt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Gt(n.h,e)))if(!e.J&&Gt(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Mn(n),In(n)}Rn(n),He(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Ge(m(n.cb,n),6e3));if(1>=Kt(n.h)&&n.ja){try{n.ja()}catch(e){}n.ja=void 0}}else Fn(n,11)}else if((e.J||n.g==e)&&Mn(n),!S(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.T=l[0],l=l[1],2==n.G)if("c"==l[0]){n.I=l[1],n.ka=l[2];const t=l[3];null!=t&&(n.ma=t,n.j.info("VER="+n.ma));const i=l[4];null!=i&&(n.Ca=i,n.j.info("SVER="+n.Ca));const u=l[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Qt(o,o.h),o.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.za=e,At(r.F,r.D,e))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var s=e;if((r=n).sa=Bn(r,r.H?r.ka:null,r.V),s.J){Jt(r.h,s);var a=s,c=r.J;c&&a.setTimeout(c),a.B&&(gt(a),pt(a)),r.g=s}else Nn(r);0<n.i.length&&An(n)}else"stop"!=l[0]&&"close"!=l[0]||Fn(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Fn(n,7):Sn(n):"noop"!=l[0]&&n.l&&n.l.wa(l),n.A=0)}ze()}catch(e){}}function wt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(l(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(l(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(l(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(r=it.prototype).setTimeout=function(e){this.O=e},r.ib=function(e){e=e.target;const t=this.L;t&&3==vn(e)?t.l():this.La(e)},r.La=function(e){try{if(e==this.g)e:{const h=vn(this.g);var t=this.g.Ea();this.g.aa();if(!(3>h)&&(3!=h||M||this.g&&(this.h.h||this.g.fa()||bn(this.g)))){this.I||4!=h||7==t||ze(),gt(this);var n=this.g.aa();this.Y=n;t:if(ht(this)){var r=bn(this.g);e="";var i=r.length,o=4==vn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){vt(this),yt(this);var s="";break t}this.h.i=new a.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.U,h,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(c)){var u=c;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,He(12),vt(this),yt(this);break e}Fe(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bt(this,n)}this.P?(dt(this,h,s),M&&this.i&&3==h&&(Me(this.S,this.T,"tick",this.hb),this.T.start())):(Fe(this.j,this.m,s,null),bt(this,s)),4==h&&vt(this),this.i&&!this.I&&(4==h?jn(this.l,this):(this.i=!1,pt(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,He(12)):(this.o=0,He(13)),vt(this),yt(this)}}}catch(e){}},r.hb=function(){if(this.g){var e=vn(this.g),t=this.g.fa();this.C<t.length&&(gt(this),dt(this,e,t),this.i&&4!=e&&pt(this))}},r.cancel=function(){this.I=!0,vt(this)},r.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ze(),He(17)),vt(this),this.o=2,yt(this)):mt(this,this.V-e)};var _t=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Et(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Et){this.h=void 0!==t?t:e.h,St(this,e.j),this.s=e.s,this.g=e.g,It(this,e.m),this.l=e.l,t=e.i;var n=new Lt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),kt(this,n),this.o=e.o}else e&&(n=String(e).match(_t))?(this.h=!!t,St(this,n[1]||"",!0),this.s=xt(n[2]||""),this.g=xt(n[3]||"",!0),It(this,n[4]),this.l=xt(n[5]||"",!0),kt(this,n[6]||"",!0),this.o=xt(n[7]||"")):(this.h=!!t,this.i=new Lt(null,this.h))}function Tt(e){return new Et(e)}function St(e,t,n){e.j=n?xt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function It(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function kt(e,t,n){t instanceof Lt?(e.i=t,function(e,t){t&&!e.j&&(Ft(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ut(this,t),qt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ot(t,Mt)),e.i=new Lt(t,e.h))}function At(e,t,n){e.i.set(t,n)}function Ct(e){return At(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function xt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ot(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Nt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Nt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Et.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ot(t,Rt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ot(t,Rt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ot(n,"/"==n.charAt(0)?Dt:Pt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ot(n,jt)),e.join("")};var Rt=/[#\/\?@]/g,Pt=/[#\?:]/g,Dt=/[#\?]/g,Mt=/[#\?@]/g,jt=/#/g;function Lt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ft(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ut(e,t){Ft(e),t=Vt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Bt(e,t){return Ft(e),t=Vt(e,t),e.g.has(t)}function qt(e,t,n){Ut(e,t),0<n.length&&(e.i=null,e.g.set(Vt(e,t),w(n)),e.h+=n.length)}function Vt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(r=Lt.prototype).add=function(e,t){Ft(this),this.i=null,e=Vt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){Ft(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},r.oa=function(){Ft(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},r.W=function(e){Ft(this);let t=[];if("string"==typeof e)Bt(this,e)&&(t=t.concat(this.g.get(Vt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},r.set=function(e,t){return Ft(this),this.i=null,Bt(this,e=Vt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.W(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};function zt(e){this.l=e||Wt,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.g&&a.g.Ga&&a.g.Ga()&&a.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Wt=10;function Ht(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Kt(e){return e.h?1:e.g?e.g.size:0}function Gt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Qt(e,t){e.g?e.g.add(t):e.h=t}function Jt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Yt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return w(e.i)}function Xt(){}function Zt(){this.g=new Xt}function $t(e,t,n){const r=n||"";try{wt(e,(function(e,n){let i=e;u(e)&&(i=be(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function en(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function tn(e){this.l=e.ac||null,this.j=e.jb||!1}function nn(e,t){ge.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=rn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zt.prototype.cancel=function(){if(this.i=Yt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Xt.prototype.stringify=function(e){return a.JSON.stringify(e,void 0)},Xt.prototype.parse=function(e){return a.JSON.parse(e,void 0)},y(tn,Ye),tn.prototype.g=function(){return new nn(this.l,this.j)},tn.prototype.i=function(e){return function(){return e}}({}),y(nn,ge);var rn=0;function on(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function sn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,an(e)}function an(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=nn.prototype).open=function(e,t){if(this.readyState!=rn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,an(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||a).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sn(this)),this.readyState=rn},r.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,an(this)),this.g&&(this.readyState=3,an(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;on(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},r.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?sn(this):an(this),3==this.readyState&&on(this)}},r.Va=function(e){this.g&&(this.response=this.responseText=e,sn(this))},r.Ua=function(e){this.g&&(this.response=e,sn(this))},r.ga=function(){this.g&&sn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(nn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var cn=a.JSON.parse;function ln(e){ge.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=un,this.K=this.L=!1}y(ln,ge);var un="",hn=/^https?$/i,dn=["POST","PUT"];function fn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,pn(e),gn(e)}function pn(e){e.D||(e.D=!0,ye(e,"complete"),ye(e,"error"))}function mn(e){if(e.h&&void 0!==s&&(!e.C[1]||4!=vn(e)||2!=e.aa()))if(e.v&&4==vn(e))Ne(e.Ha,0,e);else if(ye(e,"readystatechange"),4==vn(e)){e.h=!1;try{const s=e.aa();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.H).match(_t)[1]||null;if(!i&&a.self&&a.self.location){var o=a.self.location.protocol;i=o.substr(0,o.length-1)}r=!hn.test(i?i.toLowerCase():"")}n=r}if(n)ye(e,"complete"),ye(e,"success");else{e.m=6;try{var c=2<vn(e)?e.g.statusText:""}catch(e){c=""}e.j=c+" ["+e.aa()+"]",pn(e)}}finally{gn(e)}}}function gn(e,t){if(e.g){yn(e);const n=e.g,r=e.C[0]?c:null;e.g=null,e.C=null,t||ye(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function yn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(a.clearTimeout(e.A),e.A=null)}function vn(e){return e.g?e.g.readyState:0}function bn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case un:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function wn(e){let t="";return $(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function _n(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wn(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):At(e,t,n))}function En(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Tn(e){this.Ca=0,this.i=[],this.j=new Le,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=En("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=En("baseRetryDelayMs",5e3,e),this.bb=En("retryDelaySeedMs",1e4,e),this.$a=En("forwardChannelMaxRetries",2,e),this.ta=En("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new zt(e&&e.concurrentRequestLimit),this.Fa=new Zt,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Sn(e){if(kn(e),3==e.G){var t=e.U++,n=Tt(e.F);At(n,"SID",e.I),At(n,"RID",t),At(n,"TYPE","terminate"),xn(e,n),(t=new it(e,e.j,t,void 0)).K=2,t.v=Ct(Tt(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(t.v.toString(),"")),!n&&a.Image&&((new Image).src=t.v,n=!0),n||(t.g=qn(t.l,null),t.g.da(t.v)),t.F=Date.now(),pt(t)}Un(e)}function In(e){e.g&&(Pn(e),e.g.cancel(),e.g=null)}function kn(e){In(e),e.u&&(a.clearTimeout(e.u),e.u=null),Mn(e),e.h.cancel(),e.m&&("number"==typeof e.m&&a.clearTimeout(e.m),e.m=null)}function An(e){Ht(e.h)||e.m||(e.m=!0,Ie(e.Ja,e),e.C=0)}function Cn(e,t){var n;n=t?t.m:e.U++;const r=Tt(e.F);At(r,"SID",e.I),At(r,"RID",n),At(r,"AID",e.T),xn(e,r),e.o&&e.s&&_n(r,e.o,e.s),n=new it(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=On(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Qt(e.h,n),lt(n,r,t)}function xn(e,t){e.ia&&$(e.ia,(function(e,n){At(t,n,e)})),e.l&&wt({},(function(e,n){At(t,n,e)}))}function On(e,t,n){n=Math.min(e.i.length,n);var r=e.l?m(e.l.Ra,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].h;const a=i[s].g;if(n-=t,0>n)t=Math.max(0,i[s].h-100),o=!1;else try{$t(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function Nn(e){e.g||e.u||(e.Z=1,Ie(e.Ia,e),e.A=0)}function Rn(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Ge(m(e.Ia,e),Ln(e,e.A)),e.A++,!0)}function Pn(e){null!=e.B&&(a.clearTimeout(e.B),e.B=null)}function Dn(e){e.g=new it(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Tt(e.sa);At(t,"RID","rpc"),At(t,"SID",e.I),At(t,"CI",e.L?"0":"1"),At(t,"AID",e.T),At(t,"TYPE","xmlhttp"),xn(e,t),e.o&&e.s&&_n(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Ct(Tt(t)),n.s=null,n.P=!0,ut(n,e)}function Mn(e){null!=e.v&&(a.clearTimeout(e.v),e.v=null)}function jn(e,t){var n=null;if(e.g==t){Mn(e),Pn(e),e.g=null;var r=2}else{if(!Gt(e.h,t))return;n=t.D,Jt(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ye(r=qe(),new Ke(r,n)),An(e)}else Nn(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Kt(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Ge(m(e.Ja,e,t),Ln(e,e.C)),e.C++,!0))}(e,t)||2==r&&Rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Fn(e,5);break;case 4:Fn(e,10);break;case 3:Fn(e,6);break;default:Fn(e,2)}}function Ln(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Fn(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=m(e.kb,e);n||(n=new Et("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||St(n,"https"),Ct(n)),function(e,t){const n=new Le;if(a.Image){const r=new Image;r.onload=g(en,n,r,"TestLoadImage: loaded",!0,t),r.onerror=g(en,n,r,"TestLoadImage: error",!1,t),r.onabort=g(en,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=g(en,n,r,"TestLoadImage: timeout",!1,t),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else He(2);e.G=0,e.l&&e.l.va(t),Un(e),kn(e)}function Un(e){if(e.G=0,e.la=[],e.l){const t=Yt(e.h);0==t.length&&0==e.i.length||(_(e.la,t),_(e.la,e.i),e.h.i.length=0,w(e.i),e.i.length=0),e.l.ua()}}function Bn(e,t,n){var r=n instanceof Et?Tt(n):new Et(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),It(r,r.m);else{var i=a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Et(null,void 0);r&&St(o,r),t&&(o.g=t),i&&It(o,i),n&&(o.l=n),r=o}return n=e.D,t=e.za,n&&t&&At(r,n,t),At(r,"VER",e.ma),xn(e,r),r}function qn(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new ln(new tn({jb:!0})):new ln(e.ra)).Ka(e.H),t}function Vn(){}function zn(){if(P&&!(10<=Number(K)))throw Error("Environmental error: no available transport.")}function Wn(e,t){ge.call(this),this.g=new Tn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!S(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!S(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Gn(this)}function Hn(e){tt.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Kn(){nt.call(this),this.status=1}function Gn(e){this.g=e}(r=ln.prototype).Ka=function(e){this.L=e},r.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$e.g(),this.C=this.u?Xe(this.u):Xe($e),this.g.onreadystatechange=m(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void fn(this,e)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=a.FormData&&e instanceof a.FormData,!(0<=b(dn,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yn(this),0<this.B&&((this.K=function(e){return P&&W()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=m(this.qa,this)):this.A=Ne(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){fn(this,e)}},r.qa=function(){void 0!==s&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ye(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ye(this,"complete"),ye(this,"abort"),gn(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gn(this,!0)),ln.X.M.call(this)},r.Ha=function(){this.s||(this.F||this.v||this.l?mn(this):this.fb())},r.fb=function(){mn(this)},r.aa=function(){try{return 2<vn(this)?this.g.status:-1}catch(e){return-1}},r.fa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},r.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),cn(t)}},r.Ea=function(){return this.m},r.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(r=Tn.prototype).ma=8,r.G=1,r.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new it(this,this.j,e,void 0);let o=this.s;if(this.S&&(o?(o=ee(o),ne(o,this.S)):o=this.S),null!==this.o||this.N||(i.H=o,o=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=On(this,i,t),At(n=Tt(this.F),"RID",e),At(n,"CVER",22),this.D&&At(n,"X-HTTP-Session-Id",this.D),xn(this,n),o&&(this.N?t="headers="+encodeURIComponent(String(wn(o)))+"&"+t:this.o&&_n(n,this.o,o)),Qt(this.h,i),this.Ya&&At(n,"TYPE","init"),this.O?(At(n,"$req",t),At(n,"SID","null"),i.Z=!0,lt(i,n,null)):lt(i,n,t),this.G=2}}else 3==this.G&&(e?Cn(this,e):0==this.i.length||Ht(this.h)||Cn(this))},r.Ia=function(){if(this.u=null,Dn(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Ge(m(this.eb,this),e)}},r.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,He(10),In(this),Dn(this))},r.cb=function(){null!=this.v&&(this.v=null,In(this),Rn(this),He(19))},r.kb=function(e){e?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))},(r=Vn.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Ra=function(){},zn.prototype.g=function(e,t){return new Wn(e,t)},y(Wn,ge),Wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;He(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Bn(e,null,e.V),An(e)},Wn.prototype.close=function(){Sn(this.g)},Wn.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=be(e),e=n);t.i.push(new class{constructor(e,t){this.h=e,this.g=t}}(t.ab++,e)),3==t.G&&An(t)},Wn.prototype.M=function(){this.g.l=null,delete this.j,Sn(this.g),delete this.g,Wn.X.M.call(this)},y(Hn,tt),y(Kn,nt),y(Gn,Vn),Gn.prototype.xa=function(){ye(this.g,"a")},Gn.prototype.wa=function(e){ye(this.g,new Hn(e))},Gn.prototype.va=function(e){ye(this.g,new Kn)},Gn.prototype.ua=function(){ye(this.g,"b")},zn.prototype.createWebChannel=zn.prototype.g,Wn.prototype.send=Wn.prototype.u,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,Qe.NO_ERROR=0,Qe.TIMEOUT=8,Qe.HTTP_ERROR=6,Je.COMPLETE="complete",Ze.EventType=et,et.OPEN="a",et.CLOSE="b",et.ERROR="c",et.MESSAGE="d",ge.prototype.listen=ge.prototype.N,ln.prototype.listenOnce=ln.prototype.O,ln.prototype.getLastError=ln.prototype.Oa,ln.prototype.getLastErrorCode=ln.prototype.Ea,ln.prototype.getStatus=ln.prototype.aa,ln.prototype.getResponseJson=ln.prototype.Sa,ln.prototype.getResponseText=ln.prototype.fa,ln.prototype.send=ln.prototype.da,ln.prototype.setWithCredentials=ln.prototype.Ka;var Qn=o.createWebChannelTransport=function(){return new zn},Jn=o.getStatEventTarget=function(){return qe()},Yn=o.ErrorCode=Qe,Xn=o.EventType=Je,Zn=o.Event=Ue,$n=o.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},er=o.FetchXmlHttpFactory=tn,tr=o.WebChannel=Ze,nr=o.XhrIo=ln}).call(this,n(28))},function(e,t,n){e.exports=n(70)()},function(e,t,n){var r=n(63),i=n(64),o=n(65),s=n(67);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function a(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i],c=t.base?o[0]+t.base:o[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var h=a(u),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==h?(s[h].references++,s[h].updater(d)):s.push({identifier:u,updater:g(d,t),references:1}),r.push(u)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var s=o(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var u,h=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=h(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function f(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,m=0;function g(e,t){var n,r,i;if(t.singleton){var o=m++;n=p||(p=l(t)),r=d.bind(null,n,o,!1),i=d.bind(null,n,o,!0)}else n=l(t),r=f.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=a(n[r]);s[i].references--}for(var o=c(e,t),l=0;l<n.length;l++){var u=a(n[l]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}n=o}}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return h}));var r=n(21);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var a="function"==typeof Symbol&&Symbol.observable||"@@observable",c=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function u(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function h(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(s(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(s(1));return n(h)(e,t)}if("function"!=typeof e)throw new Error(s(2));var i=e,o=t,c=[],d=c,f=!1;function p(){d===c&&(d=c.slice())}function m(){if(f)throw new Error(s(3));return o}function g(e){if("function"!=typeof e)throw new Error(s(4));if(f)throw new Error(s(5));var t=!0;return p(),d.push(e),function(){if(t){if(f)throw new Error(s(6));t=!1,p();var n=d.indexOf(e);d.splice(n,1),c=null}}}function y(e){if(!u(e))throw new Error(s(7));if(void 0===e.type)throw new Error(s(8));if(f)throw new Error(s(9));try{f=!0,o=i(o,e)}finally{f=!1}for(var t=c=d,n=0;n<t.length;n++){(0,t[n])()}return e}function v(e){if("function"!=typeof e)throw new Error(s(10));i=e,y({type:l.REPLACE})}function b(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(s(11));function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[a]=function(){return this},e}return y({type:l.INIT}),(r={dispatch:y,subscribe:g,getState:m,replaceReducer:v})[a]=b,r}function d(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:l.INIT}))throw new Error(s(12));if(void 0===n(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error(s(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},c=0;c<a.length;c++){var l=a[c],u=n[l],h=e[l],d=u(h,t);if(void 0===d){t&&t.type;throw new Error(s(14))}i[l]=d,r=r||d!==h}return(r=r||a.length!==Object.keys(e).length)?i:e}}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(s(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=f.apply(void 0,a)(n.dispatch),o(o({},n),{},{dispatch:r})}}}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(53)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(32);function i(e,t,n){return(t=Object(r.a)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return x}));var i,o=n(10),s=(n(29),n(19)),a=n(35),c=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},u=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},h=Object.defineProperty,d=Object.defineProperties,f=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,y=function(e,t,n){return t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},v=function(e,t){for(var n in t||(t={}))m.call(t,n)&&y(e,n,t[n]);if(p)for(var r=0,i=p(t);r<i.length;r++){n=i[r];g.call(t,n)&&y(e,n,t[n])}return e},b=function(e,t){return d(e,f(t))},w=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{a(n.next(e))}catch(e){i(e)}},s=function(e){try{a(n.throw(e))}catch(e){i(e)}},a=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,s)};a((n=n.apply(e,t)).next())}))},_="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?s.c:s.c.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function E(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var T=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return c(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,u([void 0],e[0].concat(this)))):new(t.bind.apply(t,u([void 0],e.concat(this))))},t}(Array);function S(e){return Object(o.e)(e)?Object(o.b)(e,(function(){})):e}function I(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new T);n&&("boolean"==typeof n?r.push(a.a):r.push(a.a.withExtraArgument(n.extraArgument)));0;return r}(e)}}function k(e){var t,n=I(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,c=void 0===a?n():a,l=r.devTools,h=void 0===l||l,d=r.preloadedState,f=void 0===d?void 0:d,p=r.enhancers,m=void 0===p?void 0:p;if("function"==typeof o)t=o;else{if(!E(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Object(s.b)(o)}var g=c;"function"==typeof g&&(g=g(n));var y=s.a.apply(void 0,g),b=s.c;h&&(b=_(v({trace:!1},"object"==typeof h&&h)));var w=[y];Array.isArray(m)?w=u([y],m):"function"==typeof m&&(w=m(w));var T=b.apply(void 0,w);return Object(s.d)(t,f,T)}function A(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return v(v({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function C(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function x(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:S(e.initialState),i=e.reducers||{},s=Object.keys(i),a={},c={},l={};function h(){var t="function"==typeof e.extraReducers?C(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,s=t[1],a=void 0===s?[]:s,l=t[2],h=void 0===l?void 0:l,d=v(v({},i),c);return function(e,t,n,r){void 0===n&&(n=[]);var i,s="function"==typeof t?C(t):[t,n,r],a=s[0],c=s[1],l=s[2];if("function"==typeof e)i=function(){return S(e())};else{var h=S(e);i=function(){return h}}function d(e,t){void 0===e&&(e=i());var n=u([a[t.type]],c.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(Object(o.d)(e))return void 0===(r=n(e,t))?e:r;if(Object(o.e)(e))return Object(o.b)(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return d.getInitialState=i,d}(r,(function(e){for(var t in d)e.addCase(t,d[t]);for(var n=0,r=a;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}h&&e.addDefaultCase(h)}))}return s.forEach((function(e){var n,r,o=i[e],s=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,a[e]=n,c[s]=n,l[e]=r?A(s,r):A(s)})),{name:t,reducer:function(e,t){return n||(n=h()),n(e,t)},actions:l,caseReducers:a,getInitialState:function(){return n||(n=h()),n.getInitialState()}}}var O=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},N=["name","message","stack","code"],R=function(e,t){this.payload=e,this.meta=t},P=function(e,t){this.payload=e,this.meta=t},D=function(e){if("object"==typeof e&&null!==e){for(var t={},n=0,r=N;n<r.length;n++){var i=r[n];"string"==typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=A(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:b(v({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=A(e+"/pending",(function(e,t,n){return{payload:void 0,meta:b(v({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=A(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||D)(e||"Rejected"),meta:b(v({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),s="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(a,c,u){var h,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):O(),f=new s;function p(e){h=e,f.abort()}var m=function(){return w(this,null,(function(){var s,m,g,y,v,b;return l(this,(function(l){switch(l.label){case 0:return l.trys.push([0,4,,5]),y=null==(s=null==n?void 0:n.condition)?void 0:s.call(n,e,{getState:c,extra:u}),null===(w=y)||"object"!=typeof w||"function"!=typeof w.then?[3,2]:[4,y];case 1:y=l.sent(),l.label=2;case 2:if(!1===y||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,v=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:h||"Aborted"})}))})),a(i(d,e,null==(m=null==n?void 0:n.getPendingMeta)?void 0:m.call(n,{requestId:d,arg:e},{getState:c,extra:u}))),[4,Promise.race([v,Promise.resolve(t(e,{dispatch:a,getState:c,extra:u,requestId:d,signal:f.signal,abort:p,rejectWithValue:function(e,t){return new R(e,t)},fulfillWithValue:function(e,t){return new P(e,t)}})).then((function(t){if(t instanceof R)throw t;return t instanceof P?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 3:return g=l.sent(),[3,5];case 4:return b=l.sent(),g=b instanceof R?o(null,d,e,b.payload,b.meta):o(b,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(g)&&g.meta.condition||a(g),[2,g]}var w}))}))}();return Object.assign(m,{abort:p,requestId:d,arg:e,unwrap:function(){return m.then(M)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function M(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var j="listenerMiddleware";A(j+"/add"),A(j+"/removeAll"),A(j+"/remove");"function"==typeof queueMicrotask&&queueMicrotask.bind("undefined"!=typeof window?window:void 0!==r?r:globalThis);var L,F=function(e){return function(t){setTimeout(t,e)}};"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:F(10);Object(o.c)()}).call(this,n(27),n(28))},function(e,t,n){"use strict";var r=n(58),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var l=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);h&&(s=s.concat(h(n)));for(var a=c(t),m=c(n),g=0;g<s.length;++g){var y=s[g];if(!(o[y]||r&&r[y]||m&&m[y]||a&&a[y])){var v=d(n,y);try{l(t,y,v)}catch(e){}}}}return t}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},,function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,l=[],u=!1,h=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):h=-1,l.length&&f())}function f(){if(!u){var e=a(d);u=!0;for(var t=l.length;t;){for(c=l,l=[];++h<t;)c&&c[h].run();h=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=function(e,t){return e===t};function i(e,t){var n,i,o="object"==typeof t?t:{equalityCheck:t},s=o.equalityCheck,a=void 0===s?r:s,c=o.maxSize,l=void 0===c?1:c,u=o.resultEqualityCheck,h=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(a),d=1===l?(n=h,{get:function(e){return i&&n(i.key,e)?i.value:"NOT_FOUND"},put:function(e,t){i={key:e,value:t}},getEntries:function(){return i?[i]:[]},clear:function(){i=void 0}}):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return"NOT_FOUND"}return{get:r,put:function(t,i){"NOT_FOUND"===r(t)&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(l,h);function f(){var t=d.get(arguments);if("NOT_FOUND"===t){if(t=e.apply(null,arguments),u){var n=d.getEntries(),r=n.find((function(e){return u(e.value,t)}));r&&(t=r.value)}d.put(arguments,t)}return t}return f.clearCache=function(){return d.clear()},f}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var s,a=0,c={memoizeOptions:void 0},l=r.pop();if("object"==typeof l&&(c=l,l=r.pop()),"function"!=typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var u=c,h=u.memoizeOptions,d=void 0===h?n:h,f=Array.isArray(d)?d:[d],p=o(r),m=e.apply(void 0,[function(){return a++,l.apply(null,arguments)}].concat(f)),g=e((function(){for(var e=[],t=p.length,n=0;n<t;n++)e.push(p[n].apply(null,arguments));return s=m.apply(null,e)}));return Object.assign(g,{resultFunc:l,memoizedResultFunc:m,dependencies:p,lastResult:function(){return s},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),g};return i}var a=s(i)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(25);function i(e,t){if(e){if("string"==typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(78),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default,e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(18);function i(e){var t=function(e,t){if("object"!==Object(r.a)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Object(r.a)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Object(r.a)(t)?t:String(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var r,i=n(83);var o=((r=i)&&r.__esModule?r:{default:r}).default,s=o.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=o.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=o.canUseDOM?window.NodeList:{},t.canUseDOM=o.canUseDOM;t.default=s},function(e,t,n){"use strict";e.exports=n(56)},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var i=r();i.withExtraArgument=r,t.a=i},,function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,c=s(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))i.call(n,u)&&(c[u]=n[u]);if(r){a=r(n);for(var h=0;h<a.length;h++)o.call(n,a[h])&&(c[a[h]]=n[a[h]])}}return c}},function(e,t,n){"use strict";(function(e){var t=n(8),r=n(3),i=n(6),o=n(0);function s(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function a(e=Object(o.A)()){return!("file:"!==s()&&"ionic:"!==s()&&"capacitor:"!==s()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function c(e=Object(o.A)()){return Object(o.F)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=Object(o.A)()){return/Edge\/\d+/.test(e)}(e)}function l(){try{const e=self.localStorage,t=r.s();if(e)return e.setItem(t,"1"),e.removeItem(t),!c()||Object(o.G)()}catch(e){return u()&&Object(o.G)()}return!1}function u(){return void 0!==e&&"WorkerGlobalScope"in e&&"importScripts"in e}function h(){return("http:"===s()||"https:"===s()||Object(o.D)()||a())&&!(Object(o.K)()||Object(o.I)())&&l()&&!u()}function d(){return a()&&"undefined"!=typeof document}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const f={LOCAL:"local",NONE:"none",SESSION:"session"},p=r.p;async function m(e){await e._initializationPromise;const t=g(),n=r.w("persistence",e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function g(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(e){return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y=r.p;class v{constructor(){this.browserResolver=r.t(r.A),this.cordovaResolver=r.t(r.F),this.underlyingResolver=null,this._redirectPersistence=r.B,this._completeRedirectFn=r.u,this._overrideRedirectResult=r.v}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return d()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return y(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!d()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(e){return e.unwrap()}function w(e){const{_tokenResponse:t}=e instanceof o.c?e.customData:e;if(!t)return null;if(!(e instanceof o.c)&&"temporaryProof"in t&&"phoneNumber"in t)return r.i.credentialFromResult(e);const n=t.providerId;if(!n||n===r.k.PASSWORD)return null;let i;switch(n){case r.k.GOOGLE:i=r.f;break;case r.k.FACEBOOK:i=r.d;break;case r.k.GITHUB:i=r.e;break;case r.k.TWITTER:i=r.o;break;default:const{oauthIdToken:e,oauthAccessToken:o,oauthTokenSecret:s,pendingToken:a,nonce:c}=t;return o||s||e||a?a?n.startsWith("saml.")?r.m._create(n,a):r.g._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:o}):new r.h(n).credential({idToken:e,accessToken:o,rawNonce:c}):null}return e instanceof o.c?i.credentialFromError(e):i.credentialFromResult(e)}function _(e,t){return t.catch(t=>{throw t instanceof o.c&&function(e,t){var n;const i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null==t?void 0:t.code)){t.resolver=new T(e,r.K(e,t))}else if(i){const e=w(t),n=t;e&&(n.credential=e,n.tenantId=i.tenantId||void 0,n.email=i.email||void 0,n.phoneNumber=i.phoneNumber||void 0)}}(e,t),t}).then(e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(i=e,w(i)),additionalUserInfo:r.J(e),user:S.getOrCreate(n)};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var i})}async function E(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>_(e,n.confirm(t))}}class T{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return _(b(this.auth),this.resolver.resolveSignIn(e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S{constructor(e){this._delegate=e,this.multiFactor=r.T(e)}static getOrCreate(e){return S.USER_MAP.has(e)||S.USER_MAP.set(e,new S(e)),S.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return _(this.auth,r.P(this._delegate,e))}async linkWithPhoneNumber(e,t){return E(this.auth,r.Q(this._delegate,e,t))}async linkWithPopup(e){return _(this.auth,r.R(this._delegate,e,v))}async linkWithRedirect(e){return await m(r.q(this.auth)),r.S(this._delegate,e,v)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return _(this.auth,r.U(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return E(this.auth,r.V(this._delegate,e,t))}reauthenticateWithPopup(e){return _(this.auth,r.W(this._delegate,e,v))}async reauthenticateWithRedirect(e){return await m(r.q(this.auth)),r.X(this._delegate,e,v)}sendEmailVerification(e){return r.Y(this._delegate,e)}async unlink(e){return await r.jb(this._delegate,e),this}updateEmail(e){return r.kb(this._delegate,e)}updatePassword(e){return r.lb(this._delegate,e)}updatePhoneNumber(e){return r.mb(this._delegate,e)}updateProfile(e){return r.nb(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return r.ob(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}S.USER_MAP=new WeakMap;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const I=r.p;class k{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;I(n,"invalid-api-key",{appName:e.name}),I(n,"invalid-api-key",{appName:e.name});const i="undefined"!=typeof window?v:void 0;this._delegate=t.initialize({options:{persistence:C(n,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(r.H),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?S.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){r.E(this._delegate,e,t)}applyActionCode(e){return r.y(this._delegate,e)}checkActionCode(e){return r.C(this._delegate,e)}confirmPasswordReset(e,t){return r.D(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return _(this._delegate,r.G(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return r.I(this._delegate,e)}isSignInWithEmailLink(e){return r.O(this._delegate,e)}async getRedirectResult(){I(h(),this._delegate,"operation-not-supported-in-this-environment");const e=await r.L(this._delegate,v);return e?_(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){r.x(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=A(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=A(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return r.ab(this._delegate,e,t)}sendPasswordResetEmail(e,t){return r.Z(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){p(Object.values(f).includes(t),e,"invalid-persistence-type"),Object(o.K)()?p(t!==f.SESSION,e,"unsupported-persistence-type"):Object(o.I)()?p(t===f.NONE,e,"unsupported-persistence-type"):u()?p(t===f.NONE||t===f.LOCAL&&Object(o.G)(),e,"unsupported-persistence-type"):p(t===f.NONE||l(),e,"unsupported-persistence-type")}(this._delegate,e),e){case f.SESSION:t=r.B;break;case f.LOCAL:t=await r.t(r.N)._isAvailable()?r.N:r.z;break;case f.NONE:t=r.M;break;default:return r.r("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return _(this._delegate,r.bb(this._delegate))}signInWithCredential(e){return _(this._delegate,r.cb(this._delegate,e))}signInWithCustomToken(e){return _(this._delegate,r.db(this._delegate,e))}signInWithEmailAndPassword(e,t){return _(this._delegate,r.eb(this._delegate,e,t))}signInWithEmailLink(e,t){return _(this._delegate,r.fb(this._delegate,e,t))}signInWithPhoneNumber(e,t){return E(this._delegate,r.gb(this._delegate,e,t))}async signInWithPopup(e){return I(h(),this._delegate,"operation-not-supported-in-this-environment"),_(this._delegate,r.hb(this._delegate,e,v))}async signInWithRedirect(e){return I(h(),this._delegate,"operation-not-supported-in-this-environment"),await m(this._delegate),r.ib(this._delegate,e,v)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return r.pb(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function A(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&S.getOrCreate(e)),error:t,complete:n}}function C(e,t){const n=function(e,t){const n=g();if(!n)return[];const i=r.w("persistence",e,t);switch(n.getItem(i)){case f.NONE:return[r.M];case f.LOCAL:return[r.N,r.B];case f.SESSION:return[r.B];default:return[]}}(e,t);if("undefined"==typeof self||n.includes(r.N)||n.push(r.N),"undefined"!=typeof window)for(const e of[r.z,r.B])n.includes(e)||n.push(e);return n.includes(r.M)||n.push(r.M),n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */k.Persistence=f;class x{constructor(){this.providerId="phone",this._delegate=new r.i(b(t.a.auth()))}static credential(e,t){return r.i.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}x.PHONE_SIGN_IN_METHOD=r.i.PHONE_SIGN_IN_METHOD,x.PROVIDER_ID=r.i.PROVIDER_ID;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const O=r.p;class N{constructor(e,n,i=t.a.app()){var o;O(null===(o=i.options)||void 0===o?void 0:o.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new r.l(e,n,i.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R;(R=t.a).INTERNAL.registerComponent(new i.a("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new k(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:r.a.EMAIL_SIGNIN,PASSWORD_RESET:r.a.PASSWORD_RESET,RECOVER_EMAIL:r.a.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:r.a.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:r.a.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:r.a.VERIFY_EMAIL}},EmailAuthProvider:r.c,FacebookAuthProvider:r.d,GithubAuthProvider:r.e,GoogleAuthProvider:r.f,OAuthProvider:r.h,SAMLAuthProvider:r.n,PhoneAuthProvider:x,PhoneMultiFactorGenerator:r.j,RecaptchaVerifier:N,TwitterAuthProvider:r.o,Auth:k,AuthCredential:r.b,Error:o.c}).setInstantiationMode("LAZY").setMultipleInstances(!1)),R.registerVersion("@firebase/auth-compat","0.3.3")}).call(this,n(28))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){return[].slice.call(t.querySelectorAll("*"),0).reduce((function(t,n){return t.concat(n.shadowRoot?e(n.shadowRoot):[n])}),[]).filter(s)};
/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
var r=/input|select|textarea|button|object|iframe/;function i(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;try{var n=window.getComputedStyle(e),r=n.getPropertyValue("display");return t?"contents"!==r&&function(e,t){return"visible"!==t.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0}(e,n):"none"===r}catch(e){return console.warn("Failed to inspect element style"),!1}}function o(e,t){var n=e.nodeName.toLowerCase();return(r.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e,n=e.getRootNode&&e.getRootNode();t&&t!==document.body;){if(n&&t===n&&(t=n.host.parentNode),i(t))return!1;t=t.parentNode}return!0}(e)}function s(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&o(e,!n)}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){a&&(a.removeAttribute?a.removeAttribute("aria-hidden"):null!=a.length?a.forEach((function(e){return e.removeAttribute("aria-hidden")})):document.querySelectorAll(a).forEach((function(e){return e.removeAttribute("aria-hidden")})));a=null},t.log=function(){0},t.assertNodeList=c,t.setElement=function(e){var t=e;if("string"==typeof t&&s.canUseDOM){var n=document.querySelectorAll(t);c(n,t),t=n}return a=t||a},t.validateElement=l,t.hide=function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=l(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.setAttribute("aria-hidden","true")}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}},t.show=function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=l(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.removeAttribute("aria-hidden")}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}},t.documentNotReadyOrSSRTesting=function(){a=null};var r,i=n(82),o=(r=i)&&r.__esModule?r:{default:r},s=n(33);var a=null;function c(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function l(e){var t=e||a;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,o.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){console.log("portalOpenInstances ----------"),console.log(i.openInstances.length),i.openInstances.forEach((function(e){return console.log(e)})),console.log("end portalOpenInstances ----------")},t.resetState=function(){i=new r};var r=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]},i=new r;t.default=i},function(e,t,n){"use strict";e.exports=n(57)},function(e,t,n){"use strict";e.exports=n(60)},function(e,t,n){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,n){"use strict";t.a=n.p+"128269478a23fcb36f4a4f3a8a39fe72.jpg"},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},,,function(e,t,n){"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(37),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}function _(){}function E(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=w.prototype;var T=E.prototype=new _;T.constructor=E,r(T,w.prototype),T.isPureReactComponent=!0;var S={current:null},I=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var r,i={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)I.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===i[r]&&(i[r]=c[r]);return{$$typeof:o,type:e,key:s,ref:a,props:i,_owner:S.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var x=/\/+/g,O=[];function N(e,t,n,r){if(O.length){var i=O.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>O.length&&O.push(e)}function P(e,t,n){return null==e?0:function e(t,n,r,i){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var c=!1;if(null===t)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case o:case s:c=!0}}if(c)return r(i,t,""===n?"."+D(t,0):n),1;if(c=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var u=n+D(a=t[l],l);c+=e(a,u,r,i)}else if(null===t||"object"!=typeof t?u=null:u="function"==typeof(u=g&&t[g]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),l=0;!(a=t.next()).done;)c+=e(a=a.value,u=n+D(a,l++),r,i);else if("object"===a)throw r=""+t,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return c}(e,"",t,n)}function D(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function j(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?L(e,r,n,(function(e){return e})):null!=e&&(C(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(x,"$&/")+"/")+n)),r.push(e))}function L(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(x,"$&/")+"/"),P(e,j,t=N(t,o,r,i)),R(t)}var F={current:null};function U(){var e=F.current;if(null===e)throw Error(y(321));return e}var B={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return L(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;P(e,M,t=N(null,null,t,n)),R(t)},count:function(e){return P(e,(function(){return null}),null)},toArray:function(e){var t=[];return L(e,t,null,(function(e){return e})),t},only:function(e){if(!C(e))throw Error(y(143));return e}},t.Component=w,t.Fragment=a,t.Profiler=l,t.PureComponent=E,t.StrictMode=c,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null==e)throw Error(y(267,e));var i=r({},e.props),s=e.key,a=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,c=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)I.call(t,u)&&!k.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:o,type:e.type,key:s,ref:a,props:i,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return U().useCallback(e,t)},t.useContext=function(e,t){return U().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return U().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return U().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return U().useLayoutEffect(e,t)},t.useMemo=function(e,t){return U().useMemo(e,t)},t.useReducer=function(e,t,n){return U().useReducer(e,t,n)},t.useRef=function(e){return U().useRef(e)},t.useState=function(e){return U().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(1),i=n(37),o=n(54);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));function a(e,t,n,r,i,o,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var c=!1,l=null,u=!1,h=null,d={onError:function(e){c=!0,l=e}};function f(e,t,n,r,i,o,s,u,h){c=!1,l=null,a.apply(d,arguments)}var p=null,m=null,g=null;function y(e,t,n){var r=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,r,i,o,a,d,p){if(f.apply(this,arguments),c){if(!c)throw Error(s(198));var m=l;c=!1,l=null,u||(u=!0,h=m)}}(r,t,void 0,e),e.currentTarget=null}var v=null,b={};function w(){if(v)for(var e in b){var t=b[e],n=v.indexOf(e);if(!(-1<n))throw Error(s(96,e));if(!E[n]){if(!t.extractEvents)throw Error(s(97,e));for(var r in E[n]=t,n=t.eventTypes){var i=void 0,o=n[r],a=t,c=r;if(T.hasOwnProperty(c))throw Error(s(99,c));T[c]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&_(l[i],a,c);i=!0}else o.registrationName?(_(o.registrationName,a,c),i=!0):i=!1;if(!i)throw Error(s(98,r,e))}}}}function _(e,t,n){if(S[e])throw Error(s(100,e));S[e]=t,I[e]=t.eventTypes[n].dependencies}var E=[],T={},S={},I={};function k(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(s(102,t));b[t]=r,n=!0}}n&&w()}var A=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),C=null,x=null,O=null;function N(e){if(e=m(e)){if("function"!=typeof C)throw Error(s(280));var t=e.stateNode;t&&(t=p(t),C(e.stateNode,e.type,t))}}function R(e){x?O?O.push(e):O=[e]:x=e}function P(){if(x){var e=x,t=O;if(O=x=null,N(e),t)for(e=0;e<t.length;e++)N(t[e])}}function D(e,t){return e(t)}function M(e,t,n,r,i){return e(t,n,r,i)}function j(){}var L=D,F=!1,U=!1;function B(){null===x&&null===O||(j(),P())}function q(e,t,n){if(U)return e(t,n);U=!0;try{return L(e,t,n)}finally{U=!1,B()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z=Object.prototype.hasOwnProperty,W={},H={};function K(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){G[e]=new K(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];G[t]=new K(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){G[e]=new K(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){G[e]=new K(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){G[e]=new K(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){G[e]=new K(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){G[e]=new K(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){G[e]=new K(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){G[e]=new K(e,5,!1,e.toLowerCase(),null,!1)}));var Q=/[\-:]([a-z])/g;function J(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Q,J);G[t]=new K(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Q,J);G[t]=new K(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Q,J);G[t]=new K(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){G[e]=new K(e,1,!1,e.toLowerCase(),null,!1)})),G.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){G[e]=new K(e,1,!1,e.toLowerCase(),null,!0)}));var Y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function X(e,t,n,r){var i=G.hasOwnProperty(t)?G[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!z.call(H,e)||!z.call(W,e)&&(V.test(e)?H[e]=!0:(W[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var Z=/^(.*)[\\\/]/,$="function"==typeof Symbol&&Symbol.for,ee=$?Symbol.for("react.element"):60103,te=$?Symbol.for("react.portal"):60106,ne=$?Symbol.for("react.fragment"):60107,re=$?Symbol.for("react.strict_mode"):60108,ie=$?Symbol.for("react.profiler"):60114,oe=$?Symbol.for("react.provider"):60109,se=$?Symbol.for("react.context"):60110,ae=$?Symbol.for("react.concurrent_mode"):60111,ce=$?Symbol.for("react.forward_ref"):60112,le=$?Symbol.for("react.suspense"):60113,ue=$?Symbol.for("react.suspense_list"):60120,he=$?Symbol.for("react.memo"):60115,de=$?Symbol.for("react.lazy"):60116,fe=$?Symbol.for("react.block"):60121,pe="function"==typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case le:return"Suspense";case ue:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case se:return"Context.Consumer";case oe:return"Context.Provider";case ce:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case he:return ge(e.type);case fe:return ge(e.render);case de:if(e=1===e._status?e._result:null)return ge(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ge(e.type);n=null,r&&(n=ge(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Z,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ve(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ee(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Te(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ve(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Se(e,t){null!=(t=t.checked)&&X(e,"checked",t,!1)}function Ie(e,t){Se(e,t);var n=ve(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ae(e,t.type,ve(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ke(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ae(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ce(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function xe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ve(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ne(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ve(n)}}function Re(e,t){var n=ve(t.value),r=ve(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Pe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var De="http://www.w3.org/1999/xhtml",Me="http://www.w3.org/2000/svg";function je(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?je(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Ue=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Me||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function qe(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ve={animationend:qe("Animation","AnimationEnd"),animationiteration:qe("Animation","AnimationIteration"),animationstart:qe("Animation","AnimationStart"),transitionend:qe("Transition","TransitionEnd")},ze={},We={};function He(e){if(ze[e])return ze[e];if(!Ve[e])return e;var t,n=Ve[e];for(t in n)if(n.hasOwnProperty(t)&&t in We)return ze[e]=n[t];return e}A&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);var Ke=He("animationend"),Ge=He("animationiteration"),Qe=He("animationstart"),Je=He("transitionend"),Ye="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xe=new("function"==typeof WeakMap?WeakMap:Map);function Ze(e){var t=Xe.get(e);return void 0===t&&(t=new Map,Xe.set(e,t)),t}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if($e(e)!==e)throw Error(s(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tt(i),e;if(o===r)return tt(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(s(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function st(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)y(e,t[r],n[r]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function at(e){if(null!==e&&(ot=rt(ot,e)),e=ot,ot=null,e){if(it(e,st),ot)throw Error(s(95));if(u)throw e=h,u=!1,h=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!A)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ut=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ut.length&&ut.push(e)}function dt(e,t,n,r){if(ut.length){var i=ut.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ft(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=An(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ct(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,s=e.eventSystemFlags;0===n&&(s|=64);for(var a=null,c=0;c<E.length;c++){var l=E[c];l&&(l=l.extractEvents(r,t,o,i,s))&&(a=rt(a,l))}at(a)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Qt(t,"scroll",!0);break;case"focus":case"blur":Qt(t,"focus",!0),Qt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&Qt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ye.indexOf(e)&&Gt(e,t)}n.set(e,null)}}var mt,gt,yt,vt=!1,bt=[],wt=null,_t=null,Et=null,Tt=new Map,St=new Map,It=[],kt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),At="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ct(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function xt(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":St.delete(t.pointerId)}}function Ot(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Ct(t,n,r,i,o),null!==t&&(null!==(t=Cn(t))&&gt(t)),e):(e.eventSystemFlags|=r,e)}function Nt(e){var t=An(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Cn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Pt(e,t,n){Rt(e)&&n.delete(t)}function Dt(){for(vt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=Cn(e.blockedOn))&&mt(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==wt&&Rt(wt)&&(wt=null),null!==_t&&Rt(_t)&&(_t=null),null!==Et&&Rt(Et)&&(Et=null),Tt.forEach(Pt),St.forEach(Pt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,vt||(vt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Dt)))}function jt(e){function t(t){return Mt(t,e)}if(0<bt.length){Mt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==wt&&Mt(wt,e),null!==_t&&Mt(_t,e),null!==Et&&Mt(Et,e),Tt.forEach(t),St.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Nt(n),null===n.blockedOn&&It.shift()}var Lt={},Ft=new Map,Ut=new Map,Bt=["abort","abort",Ke,"animationEnd",Ge,"animationIteration",Qe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Je,"transitionEnd","waiting","waiting"];function qt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Ut.set(r,t),Ft.set(r,o),Lt[i]=o}}qt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),qt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),qt(Bt,2);for(var Vt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),zt=0;zt<Vt.length;zt++)Ut.set(Vt[zt],0);var Wt=o.unstable_UserBlockingPriority,Ht=o.unstable_runWithPriority,Kt=!0;function Gt(e,t){Qt(t,e,!1)}function Qt(e,t,n){var r=Ut.get(t);switch(void 0===r?2:r){case 0:r=Jt.bind(null,t,1,e);break;case 1:r=Yt.bind(null,t,1,e);break;default:r=Xt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Jt(e,t,n,r){F||j();var i=Xt,o=F;F=!0;try{M(i,e,t,n,r)}finally{(F=o)||B()}}function Yt(e,t,n,r){Ht(Wt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){if(Kt)if(0<bt.length&&-1<kt.indexOf(e))e=Ct(null,e,t,n,r),bt.push(e);else{var i=Zt(e,t,n,r);if(null===i)xt(e,r);else if(-1<kt.indexOf(e))e=Ct(i,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return wt=Ot(wt,e,t,n,r,i),!0;case"dragenter":return _t=Ot(_t,e,t,n,r,i),!0;case"mouseover":return Et=Ot(Et,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Tt.set(o,Ot(Tt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,St.set(o,Ot(St.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){xt(e,r),e=dt(e,r,null,t);try{q(ft,e)}finally{ht(e)}}}}function Zt(e,t,n,r){if(null!==(n=An(n=ct(r)))){var i=$e(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=et(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=dt(e,r,n,t);try{q(ft,e)}finally{ht(e)}return null}var $t={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||$t.hasOwnProperty(e)&&$t[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys($t).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$t[t]=$t[e]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62,""))}}function sn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var an=De;function cn(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=I[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function ln(){}function un(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,r=hn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hn(r)}}function fn(){for(var e=window,t=un();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=un((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=null,gn=null;function yn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function vn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"==typeof setTimeout?setTimeout:void 0,wn="function"==typeof clearTimeout?clearTimeout:void 0;function _n(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function En(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Tn=Math.random().toString(36).slice(2),Sn="__reactInternalInstance$"+Tn,In="__reactEventHandlers$"+Tn,kn="__reactContainere$"+Tn;function An(e){var t=e[Sn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[kn]||n[Sn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=En(e);null!==e;){if(n=e[Sn])return n;e=En(e)}return t}n=(e=n).parentNode}return null}function Cn(e){return!(e=e[Sn]||e[kn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function On(e){return e[In]||null}function Nn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Rn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}function Pn(e,t,n){(t=Rn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Dn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Nn(t);for(t=n.length;0<t--;)Pn(n[t],"captured",e);for(t=0;t<n.length;t++)Pn(n[t],"bubbled",e)}}function Mn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Rn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function jn(e){e&&e.dispatchConfig.registrationName&&Mn(e._targetInst,null,e)}function Ln(e){it(e,Dn)}var Fn=null,Un=null,Bn=null;function qn(){if(Bn)return Bn;var e,t,n=Un,r=n.length,i="value"in Fn?Fn.value:Fn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Bn=i.slice(e,1<t?1-t:void 0)}function Vn(){return!0}function zn(){return!1}function Wn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Vn:zn,this.isPropagationStopped=zn,this}function Hn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Kn(e){if(!(e instanceof this))throw Error(s(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Gn(e){e.eventPool=[],e.getPooled=Hn,e.release=Kn}i(Wn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Vn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Vn)},persist:function(){this.isPersistent=Vn},isPersistent:zn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=zn,this._dispatchInstances=this._dispatchListeners=null}}),Wn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Gn(n),n},Gn(Wn);var Qn=Wn.extend({data:null}),Jn=Wn.extend({data:null}),Yn=[9,13,27,32],Xn=A&&"CompositionEvent"in window,Zn=null;A&&"documentMode"in document&&(Zn=document.documentMode);var $n=A&&"TextEvent"in window&&!Zn,er=A&&(!Xn||Zn&&8<Zn&&11>=Zn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(e,t){switch(e){case"keyup":return-1!==Yn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var sr=!1;var ar={eventTypes:nr,extractEvents:function(e,t,n,r){var i;if(Xn)e:{switch(e){case"compositionstart":var o=nr.compositionStart;break e;case"compositionend":o=nr.compositionEnd;break e;case"compositionupdate":o=nr.compositionUpdate;break e}o=void 0}else sr?ir(e,n)&&(o=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=nr.compositionStart);return o?(er&&"ko"!==n.locale&&(sr||o!==nr.compositionStart?o===nr.compositionEnd&&sr&&(i=qn()):(Un="value"in(Fn=r)?Fn.value:Fn.textContent,sr=!0)),o=Qn.getPooled(o,t,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),Ln(o),i=o):i=null,(e=$n?function(e,t){switch(e){case"compositionend":return or(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(sr)return"compositionend"===e||!Xn&&ir(e,t)?(e=qn(),Bn=Un=Fn=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Jn.getPooled(nr.beforeInput,t,n,r)).data=e,Ln(t)):t=null,null===i?t:null===t?i:[i,t]}},cr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!cr[e.type]:"textarea"===t}var ur={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hr(e,t,n){return(e=Wn.getPooled(ur.change,e,t,n)).type="change",R(n),Ln(e),e}var dr=null,fr=null;function pr(e){at(e)}function mr(e){if(_e(xn(e)))return e}function gr(e,t){if("change"===e)return t}var yr=!1;function vr(){dr&&(dr.detachEvent("onpropertychange",br),fr=dr=null)}function br(e){if("value"===e.propertyName&&mr(fr))if(e=hr(fr,e,ct(e)),F)at(e);else{F=!0;try{D(pr,e)}finally{F=!1,B()}}}function wr(e,t,n){"focus"===e?(vr(),fr=n,(dr=t).attachEvent("onpropertychange",br)):"blur"===e&&vr()}function _r(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mr(fr)}function Er(e,t){if("click"===e)return mr(t)}function Tr(e,t){if("input"===e||"change"===e)return mr(t)}A&&(yr=lt("input")&&(!document.documentMode||9<document.documentMode));var Sr={eventTypes:ur,_isInputEventSupported:yr,extractEvents:function(e,t,n,r){var i=t?xn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var s=gr;else if(lr(i))if(yr)s=Tr;else{s=_r;var a=wr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(s=Er);if(s&&(s=s(e,t)))return hr(s,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ae(i,"number",i.value)}},Ir=Wn.extend({view:null,detail:null}),kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ar(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kr[e])&&!!t[e]}function Cr(){return Ar}var xr=0,Or=0,Nr=!1,Rr=!1,Pr=Ir.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Cr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=xr;return xr=e.screenX,Nr?"mousemove"===e.type?e.screenX-t:0:(Nr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Or;return Or=e.screenY,Rr?"mousemove"===e.type?e.screenY-t:0:(Rr=!0,0)}}),Dr=Pr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Mr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},jr={eventTypes:Mr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,s="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!s&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,s)?(s=t,null!==(t=(t=n.relatedTarget||n.toElement)?An(t):null)&&(t!==$e(t)||5!==t.tag&&6!==t.tag)&&(t=null)):s=null;if(s===t)return null;if("mouseout"===e||"mouseover"===e)var a=Pr,c=Mr.mouseLeave,l=Mr.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(a=Dr,c=Mr.pointerLeave,l=Mr.pointerEnter,u="pointer");if(e=null==s?o:xn(s),o=null==t?o:xn(t),(c=a.getPooled(c,s,n,r)).type=u+"leave",c.target=e,c.relatedTarget=o,(n=a.getPooled(l,t,n,r)).type=u+"enter",n.target=o,n.relatedTarget=e,u=t,(r=s)&&u)e:{for(l=u,s=0,e=a=r;e;e=Nn(e))s++;for(e=0,t=l;t;t=Nn(t))e++;for(;0<s-e;)a=Nn(a),s--;for(;0<e-s;)l=Nn(l),e--;for(;s--;){if(a===l||a===l.alternate)break e;a=Nn(a),l=Nn(l)}a=null}else a=null;for(l=a,a=[];r&&r!==l&&(null===(s=r.alternate)||s!==l);)a.push(r),r=Nn(r);for(r=[];u&&u!==l&&(null===(s=u.alternate)||s!==l);)r.push(u),u=Nn(u);for(u=0;u<a.length;u++)Mn(a[u],"bubbled",c);for(u=r.length;0<u--;)Mn(r[u],"captured",n);return 0==(64&i)?[c]:[c,n]}};var Lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Fr=Object.prototype.hasOwnProperty;function Ur(e,t){if(Lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Fr.call(t,n[r])||!Lr(e[n[r]],t[n[r]]))return!1;return!0}var Br=A&&"documentMode"in document&&11>=document.documentMode,qr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vr=null,zr=null,Wr=null,Hr=!1;function Kr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Hr||null==Vr||Vr!==un(n)?null:("selectionStart"in(n=Vr)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wr&&Ur(Wr,n)?null:(Wr=n,(e=Wn.getPooled(qr.select,zr,e,t)).type="select",e.target=Vr,Ln(e),e))}var Gr={eventTypes:qr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ze(i),o=I.onSelect;for(var s=0;s<o.length;s++)if(!i.has(o[s])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?xn(t):window,e){case"focus":(lr(i)||"true"===i.contentEditable)&&(Vr=i,zr=t,Wr=null);break;case"blur":Wr=zr=Vr=null;break;case"mousedown":Hr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Hr=!1,Kr(n,r);case"selectionchange":if(Br)break;case"keydown":case"keyup":return Kr(n,r)}return null}},Qr=Wn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Jr=Wn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yr=Ir.extend({relatedTarget:null});function Xr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Zr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=Ir.extend({key:function(e){if(e.key){var t=Zr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?$r[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Cr,charCode:function(e){return"keypress"===e.type?Xr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Pr.extend({dataTransfer:null}),ni=Ir.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Cr}),ri=Wn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Pr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:Lt,extractEvents:function(e,t,n,r){var i=Ft.get(e);if(!i)return null;switch(e){case"keypress":if(0===Xr(n))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Yr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ni;break;case Ke:case Ge:case Qe:e=Qr;break;case Je:e=ri;break;case"scroll":e=Ir;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=Jr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Dr;break;default:e=Wn}return Ln(t=e.getPooled(i,t,n,r)),t}};if(v)throw Error(s(101));v=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),p=On,m=Cn,g=xn,k({SimpleEventPlugin:oi,EnterLeaveEventPlugin:jr,ChangeEventPlugin:Sr,SelectEventPlugin:Gr,BeforeInputEventPlugin:ar});var si=[],ai=-1;function ci(e){0>ai||(e.current=si[ai],si[ai]=null,ai--)}function li(e,t){ai++,si[ai]=e.current,e.current=t}var ui={},hi={current:ui},di={current:!1},fi=ui;function pi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!=(e=e.childContextTypes)}function gi(){ci(di),ci(hi)}function yi(e,t,n){if(hi.current!==ui)throw Error(s(168));li(hi,t),li(di,n)}function vi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,ge(t)||"Unknown",o));return i({},n,{},r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,fi=hi.current,li(hi,e),li(di,di.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=vi(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,ci(di),ci(hi),li(hi,e)):ci(di),li(di,n)}var _i=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,Si=o.unstable_requestPaint,Ii=o.unstable_now,ki=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Ci=o.unstable_UserBlockingPriority,xi=o.unstable_NormalPriority,Oi=o.unstable_LowPriority,Ni=o.unstable_IdlePriority,Ri={},Pi=o.unstable_shouldYield,Di=void 0!==Si?Si:function(){},Mi=null,ji=null,Li=!1,Fi=Ii(),Ui=1e4>Fi?Ii:function(){return Ii()-Fi};function Bi(){switch(ki()){case Ai:return 99;case Ci:return 98;case xi:return 97;case Oi:return 96;case Ni:return 95;default:throw Error(s(332))}}function qi(e){switch(e){case 99:return Ai;case 98:return Ci;case 97:return xi;case 96:return Oi;case 95:return Ni;default:throw Error(s(332))}}function Vi(e,t){return e=qi(e),_i(e,t)}function zi(e,t,n){return e=qi(e),Ei(e,t,n)}function Wi(e){return null===Mi?(Mi=[e],ji=Ei(Ai,Ki)):Mi.push(e),Ri}function Hi(){if(null!==ji){var e=ji;ji=null,Ti(e)}Ki()}function Ki(){if(!Li&&null!==Mi){Li=!0;var e=0;try{var t=Mi;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Mi=null}catch(t){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ei(Ai,Hi),t}finally{Li=!1}}}function Gi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Qi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Ji={current:null},Yi=null,Xi=null,Zi=null;function $i(){Zi=Xi=Yi=null}function eo(e){var t=Ji.current;ci(Ji),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Yi=e,Zi=Xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Os=!0),e.firstContext=null)}function ro(e,t){if(Zi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Zi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Xi){if(null===Yi)throw Error(s(308));Xi=t,Yi.dependencies={expirationTime:0,firstContext:t,responders:null}}else Xi=Xi.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function so(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function ao(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function co(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function lo(e,t){var n=e.alternate;null!==n&&so(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function uo(e,t,n,r){var o=e.updateQueue;io=!1;var s=o.baseQueue,a=o.shared.pending;if(null!==a){if(null!==s){var c=s.next;s.next=a.next,a.next=c}s=a,o.shared.pending=null,null!==(c=e.alternate)&&(null!==(c=c.updateQueue)&&(c.baseQueue=a))}if(null!==s){c=s.next;var l=o.baseState,u=0,h=null,d=null,f=null;if(null!==c)for(var p=c;;){if((a=p.expirationTime)<r){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(d=f=m,h=l):f=f.next=m,a>u&&(u=a)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),oc(a,p.suspenseConfig);e:{var g=e,y=p;switch(a=t,m=n,y.tag){case 1:if("function"==typeof(g=y.payload)){l=g.call(m,l,a);break e}l=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(a="function"==typeof(g=y.payload)?g.call(m,l,a):g))break e;l=i({},l,a);break e;case 2:io=!0}}null!==p.callback&&(e.effectTag|=32,null===(a=o.effects)?o.effects=[p]:a.push(p))}if(null===(p=p.next)||p===c){if(null===(a=o.shared.pending))break;p=s.next=a.next,a.next=c,o.baseQueue=s=a,o.shared.pending=null}}null===f?h=l:f.next=d,o.baseState=h,o.baseQueue=f,sc(u),e.expirationTime=u,e.memoizedState=l}}function ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(s(191,r));r.call(i)}}}var fo=Y.ReactCurrentBatchConfig,po=(new r.Component).refs;function mo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternalFiber)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Ka(),i=fo.suspense;(i=ao(r=Ga(r,e,i),i)).payload=t,null!=n&&(i.callback=n),co(e,i),Qa(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Ka(),i=fo.suspense;(i=ao(r=Ga(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),co(e,i),Qa(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Ka(),r=fo.suspense;(r=ao(n=Ga(n,e,r),r)).tag=2,null!=t&&(r.callback=t),co(e,r),Qa(e,n)}};function yo(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Ur(n,r)||!Ur(i,o))}function vo(e,t,n){var r=!1,i=ui,o=t.contextType;return"object"==typeof o&&null!==o?o=ro(o):(i=mi(t)?fi:hi.current,o=(r=null!=(r=t.contextTypes))?pi(e,i):ui),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=po,oo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=ro(o):(o=mi(t)?fi:hi.current,i.context=pi(e,o)),uo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),uo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var _o=Array.isArray;function Eo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===po&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function To(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function So(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=kc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=xc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Eo(e,t,n),r.return=e,r):((r=Ac(n.type,n.key,n.props,null,e.mode,r)).ref=Eo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Oc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Cc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=xc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Ac(t.type,t.key,t.props,null,e.mode,n)).ref=Eo(e,null,t),n.return=e,n;case te:return(t=Oc(t,e.mode,n)).return=e,t}if(_o(t)||me(t))return(t=Cc(t,e.mode,n,null)).return=e,t;To(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?h(e,t,n.props.children,r,i):l(e,t,n,r):null;case te:return n.key===i?u(e,t,n,r):null}if(_o(n)||me(n))return null!==i?null:h(e,t,n,r,null);To(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?h(t,e,r.props.children,i,r.key):l(t,e,r,i);case te:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_o(r)||me(r))return h(t,e=e.get(n)||null,r,i,null);To(t,r)}return null}function m(i,s,a,c){for(var l=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],c);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===u?l=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(i,h),l;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],c))&&(s=o(h,s,m),null===u?l=h:u.sibling=h,u=h);return l}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],c))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?l=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),l}function g(i,a,c,l){var u=me(c);if("function"!=typeof u)throw Error(s(150));if(null==(c=u.call(c)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,y=null,v=c.next();null!==m&&!v.done;g++,v=c.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,l);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===h?u=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),u;if(null===m){for(;!v.done;g++,v=c.next())null!==(v=d(i,v.value,l))&&(a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return u}for(m=r(i,m);!v.done;g++,v=c.next())null!==(v=p(m,i,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,o,c){var l="object"==typeof o&&null!==o&&o.type===ne&&null===o.key;l&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case ee:e:{for(u=o.key,l=r;null!==l;){if(l.key===u){switch(l.tag){case 7:if(o.type===ne){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}break;default:if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=Eo(e,l,o),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}o.type===ne?((r=Cc(o.props.children,e.mode,c,o.key)).return=e,e=r):((c=Ac(o.type,o.key,o.props,null,e.mode,c)).ref=Eo(e,r,o),c.return=e,e=c)}return a(e);case te:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Oc(o,e.mode,c)).return=e,e=r}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=xc(o,e.mode,c)).return=e,e=r),a(e);if(_o(o))return m(e,r,o,c);if(me(o))return g(e,r,o,c);if(u&&To(e,o),void 0===o&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(s(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Io=So(!0),ko=So(!1),Ao={},Co={current:Ao},xo={current:Ao},Oo={current:Ao};function No(e){if(e===Ao)throw Error(s(174));return e}function Ro(e,t){switch(li(Oo,t),li(xo,e),li(Co,Ao),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Le(null,"");break;default:t=Le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Co),li(Co,t)}function Po(){ci(Co),ci(xo),ci(Oo)}function Do(e){No(Oo.current);var t=No(Co.current),n=Le(t,e.type);t!==n&&(li(xo,e),li(Co,n))}function Mo(e){xo.current===e&&(ci(Co),ci(xo))}var jo={current:0};function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fo(e,t){return{responder:e,props:t}}var Uo=Y.ReactCurrentDispatcher,Bo=Y.ReactCurrentBatchConfig,qo=0,Vo=null,zo=null,Wo=null,Ho=!1;function Ko(){throw Error(s(321))}function Go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lr(e[n],t[n]))return!1;return!0}function Qo(e,t,n,r,i,o){if(qo=o,Vo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Uo.current=null===e||null===e.memoizedState?ys:vs,e=n(r,i),t.expirationTime===qo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(s(301));o+=1,Wo=zo=null,t.updateQueue=null,Uo.current=bs,e=n(r,i)}while(t.expirationTime===qo)}if(Uo.current=gs,t=null!==zo&&null!==zo.next,qo=0,Wo=zo=Vo=null,Ho=!1,t)throw Error(s(300));return e}function Jo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wo?Vo.memoizedState=Wo=e:Wo=Wo.next=e,Wo}function Yo(){if(null===zo){var e=Vo.alternate;e=null!==e?e.memoizedState:null}else e=zo.next;var t=null===Wo?Vo.memoizedState:Wo.next;if(null!==t)Wo=t,zo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(zo=e).memoizedState,baseState:zo.baseState,baseQueue:zo.baseQueue,queue:zo.queue,next:null},null===Wo?Vo.memoizedState=Wo=e:Wo=Wo.next=e}return Wo}function Xo(e,t){return"function"==typeof t?t(e):t}function Zo(e){var t=Yo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=zo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=a=o=null,l=i;do{var u=l.expirationTime;if(u<qo){var h={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===c?(a=c=h,o=r):c=c.next=h,u>Vo.expirationTime&&(Vo.expirationTime=u,sc(u))}else null!==c&&(c=c.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),oc(u,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action);l=l.next}while(null!==l&&l!==i);null===c?o=r:c.next=a,Lr(r,t.memoizedState)||(Os=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function $o(e){var t=Yo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Lr(o,t.memoizedState)||(Os=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function es(e){var t=Jo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:e}).dispatch=ms.bind(null,Vo,e),[t.memoizedState,e]}function ts(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Vo.updateQueue)?(t={lastEffect:null},Vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ns(){return Yo().memoizedState}function rs(e,t,n,r){var i=Jo();Vo.effectTag|=e,i.memoizedState=ts(1|t,n,void 0,void 0===r?null:r)}function is(e,t,n,r){var i=Yo();r=void 0===r?null:r;var o=void 0;if(null!==zo){var s=zo.memoizedState;if(o=s.destroy,null!==r&&Go(r,s.deps))return void ts(t,n,o,r)}Vo.effectTag|=e,i.memoizedState=ts(1|t,n,o,r)}function os(e,t){return rs(516,4,e,t)}function ss(e,t){return is(516,4,e,t)}function as(e,t){return is(4,2,e,t)}function cs(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ls(e,t,n){return n=null!=n?n.concat([e]):null,is(4,2,cs.bind(null,t,e),n)}function us(){}function hs(e,t){return Jo().memoizedState=[e,void 0===t?null:t],e}function ds(e,t){var n=Yo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fs(e,t){var n=Yo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ps(e,t,n){var r=Bi();Vi(98>r?98:r,(function(){e(!0)})),Vi(97<r?97:r,(function(){var r=Bo.suspense;Bo.suspense=void 0===t?null:t;try{e(!1),n()}finally{Bo.suspense=r}}))}function ms(e,t,n){var r=Ka(),i=fo.suspense;i={expirationTime:r=Ga(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Vo||null!==o&&o===Vo)Ho=!0,i.expirationTime=qo,Vo.expirationTime=qo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.eagerReducer=o,i.eagerState=a,Lr(a,s))return}catch(e){}Qa(e,r)}}var gs={readContext:ro,useCallback:Ko,useContext:Ko,useEffect:Ko,useImperativeHandle:Ko,useLayoutEffect:Ko,useMemo:Ko,useReducer:Ko,useRef:Ko,useState:Ko,useDebugValue:Ko,useResponder:Ko,useDeferredValue:Ko,useTransition:Ko},ys={readContext:ro,useCallback:hs,useContext:ro,useEffect:os,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,rs(4,2,cs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rs(4,2,e,t)},useMemo:function(e,t){var n=Jo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Jo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ms.bind(null,Vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Jo().memoizedState=e},useState:es,useDebugValue:us,useResponder:Fo,useDeferredValue:function(e,t){var n=es(e),r=n[0],i=n[1];return os((function(){var n=Bo.suspense;Bo.suspense=void 0===t?null:t;try{i(e)}finally{Bo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=es(!1),n=t[0];return t=t[1],[hs(ps.bind(null,t,e),[t,e]),n]}},vs={readContext:ro,useCallback:ds,useContext:ro,useEffect:ss,useImperativeHandle:ls,useLayoutEffect:as,useMemo:fs,useReducer:Zo,useRef:ns,useState:function(){return Zo(Xo)},useDebugValue:us,useResponder:Fo,useDeferredValue:function(e,t){var n=Zo(Xo),r=n[0],i=n[1];return ss((function(){var n=Bo.suspense;Bo.suspense=void 0===t?null:t;try{i(e)}finally{Bo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Zo(Xo),n=t[0];return t=t[1],[ds(ps.bind(null,t,e),[t,e]),n]}},bs={readContext:ro,useCallback:ds,useContext:ro,useEffect:ss,useImperativeHandle:ls,useLayoutEffect:as,useMemo:fs,useReducer:$o,useRef:ns,useState:function(){return $o(Xo)},useDebugValue:us,useResponder:Fo,useDeferredValue:function(e,t){var n=$o(Xo),r=n[0],i=n[1];return ss((function(){var n=Bo.suspense;Bo.suspense=void 0===t?null:t;try{i(e)}finally{Bo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=$o(Xo),n=t[0];return t=t[1],[ds(ps.bind(null,t,e),[t,e]),n]}},ws=null,_s=null,Es=!1;function Ts(e,t){var n=Sc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ss(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Is(e){if(Es){var t=_s;if(t){var n=t;if(!Ss(e,t)){if(!(t=_n(n.nextSibling))||!Ss(e,t))return e.effectTag=-1025&e.effectTag|2,Es=!1,void(ws=e);Ts(ws,n)}ws=e,_s=_n(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Es=!1,ws=e}}function ks(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ws=e}function As(e){if(e!==ws)return!1;if(!Es)return ks(e),Es=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!vn(t,e.memoizedProps))for(t=_s;t;)Ts(e,t),t=_n(t.nextSibling);if(ks(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){_s=_n(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}_s=null}}else _s=ws?_n(e.stateNode.nextSibling):null;return!0}function Cs(){_s=ws=null,Es=!1}var xs=Y.ReactCurrentOwner,Os=!1;function Ns(e,t,n,r){t.child=null===e?ko(t,null,n,r):Io(t,e.child,n,r)}function Rs(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=Qo(e,t,n,r,o,i),null===e||Os?(t.effectTag|=1,Ns(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Qs(e,t,i))}function Ps(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!=typeof s||Ic(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ac(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ds(e,t,s,r,i,o))}return s=e.child,i<o&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:Ur)(i,r)&&e.ref===t.ref)?Qs(e,t,o):(t.effectTag|=1,(e=kc(s,r)).ref=t.ref,e.return=t,t.child=e)}function Ds(e,t,n,r,i,o){return null!==e&&Ur(e.memoizedProps,r)&&e.ref===t.ref&&(Os=!1,i<o)?(t.expirationTime=e.expirationTime,Qs(e,t,o)):js(e,t,n,r,o)}function Ms(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function js(e,t,n,r,i){var o=mi(n)?fi:hi.current;return o=pi(t,o),no(t,i),n=Qo(e,t,n,r,o,i),null===e||Os?(t.effectTag|=1,Ns(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Qs(e,t,i))}function Ls(e,t,n,r,i){if(mi(n)){var o=!0;bi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),vo(t,n,r),wo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,l=n.contextType;"object"==typeof l&&null!==l?l=ro(l):l=pi(t,l=mi(n)?fi:hi.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||c!==l)&&bo(t,s,r,l),io=!1;var d=t.memoizedState;s.state=d,uo(t,r,s,i),c=t.memoizedState,a!==r||d!==c||di.current||io?("function"==typeof u&&(mo(t,n,u,r),c=t.memoizedState),(a=io||yo(t,n,a,r,d,c,l))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.effectTag|=4)):("function"==typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=l,r=a):("function"==typeof s.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.stateNode,so(e,t),a=t.memoizedProps,s.props=t.type===t.elementType?a:Qi(t.type,a),c=s.context,"object"==typeof(l=n.contextType)&&null!==l?l=ro(l):l=pi(t,l=mi(n)?fi:hi.current),(h="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||c!==l)&&bo(t,s,r,l),io=!1,c=t.memoizedState,s.state=c,uo(t,r,s,i),d=t.memoizedState,a!==r||c!==d||di.current||io?("function"==typeof u&&(mo(t,n,u,r),d=t.memoizedState),(u=io||yo(t,n,a,r,c,d,l))?(h||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,d,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,d,l)),"function"==typeof s.componentDidUpdate&&(t.effectTag|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),s.props=r,s.state=d,s.context=l,r=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return Fs(e,t,n,r,o,i)}function Fs(e,t,n,r,i,o){Ms(e,t);var s=0!=(64&t.effectTag);if(!r&&!s)return i&&wi(t,n,!1),Qs(e,t,o);r=t.stateNode,xs.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&s?(t.child=Io(t,e.child,null,o),t.child=Io(t,null,a,o)):Ns(e,t,a,o),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Us(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Ro(e,t.containerInfo)}var Bs,qs,Vs,zs={dehydrated:null,retryTime:0};function Ws(e,t,n){var r,i=t.mode,o=t.pendingProps,s=jo.current,a=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&s)&&(null===e||null!==e.memoizedState)),r?(a=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(s|=1),li(jo,1&s),null===e){if(void 0!==o.fallback&&Is(t),a){if(a=o.fallback,(o=Cc(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Cc(a,i,n,null)).return=t,o.sibling=n,t.memoizedState=zs,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=ko(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,a){if(o=o.fallback,(n=kc(e,e.pendingProps)).return=t,0==(2&t.mode)&&(a=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(i=kc(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=zs,t.child=n,i}return n=Io(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,a){if(a=o.fallback,(o=Cc(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Cc(a,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=zs,t.child=o,n}return t.memoizedState=null,t.child=Io(t,e,o.children,n)}function Hs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function Ks(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailExpiration=0,s.tailMode=i,s.lastEffect=o)}function Gs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ns(e,t,r.children,n),0!=(2&(r=jo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Hs(e,n);else if(19===e.tag)Hs(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(jo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ks(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ks(t,!0,n,null,o,t.lastEffect);break;case"together":Ks(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Qs(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&sc(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=kc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=kc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Js(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ys(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(t.type)&&gi(),null;case 3:return Po(),ci(di),ci(hi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!As(t)||(t.effectTag|=4),null;case 5:Mo(t),n=No(Oo.current);var o=t.type;if(null!==e&&null!=t.stateNode)qs(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=No(Co.current),As(t)){r=t.stateNode,o=t.type;var a=t.memoizedProps;switch(r[Sn]=t,r[In]=a,o){case"iframe":case"object":case"embed":Gt("load",r);break;case"video":case"audio":for(e=0;e<Ye.length;e++)Gt(Ye[e],r);break;case"source":Gt("error",r);break;case"img":case"image":case"link":Gt("error",r),Gt("load",r);break;case"form":Gt("reset",r),Gt("submit",r);break;case"details":Gt("toggle",r);break;case"input":Te(r,a),Gt("invalid",r),cn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Gt("invalid",r),cn(n,"onChange");break;case"textarea":Ne(r,a),Gt("invalid",r),cn(n,"onChange")}for(var c in on(o,a),e=null,a)if(a.hasOwnProperty(c)){var l=a[c];"children"===c?"string"==typeof l?r.textContent!==l&&(e=["children",l]):"number"==typeof l&&r.textContent!==""+l&&(e=["children",""+l]):S.hasOwnProperty(c)&&null!=l&&cn(n,c)}switch(o){case"input":we(r),ke(r,a,!0);break;case"textarea":we(r),Pe(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(c=9===n.nodeType?n:n.ownerDocument,e===an&&(e=je(o)),e===an?"script"===o?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(o,{is:r.is}):(e=c.createElement(o),"select"===o&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,o),e[Sn]=t,e[In]=r,Bs(e,t),t.stateNode=e,c=sn(o,r),o){case"iframe":case"object":case"embed":Gt("load",e),l=r;break;case"video":case"audio":for(l=0;l<Ye.length;l++)Gt(Ye[l],e);l=r;break;case"source":Gt("error",e),l=r;break;case"img":case"image":case"link":Gt("error",e),Gt("load",e),l=r;break;case"form":Gt("reset",e),Gt("submit",e),l=r;break;case"details":Gt("toggle",e),l=r;break;case"input":Te(e,r),l=Ee(e,r),Gt("invalid",e),cn(n,"onChange");break;case"option":l=Ce(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),Gt("invalid",e),cn(n,"onChange");break;case"textarea":Ne(e,r),l=Oe(e,r),Gt("invalid",e),cn(n,"onChange");break;default:l=r}on(o,l);var u=l;for(a in u)if(u.hasOwnProperty(a)){var h=u[a];"style"===a?nn(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&Ue(e,h):"children"===a?"string"==typeof h?("textarea"!==o||""!==h)&&Be(e,h):"number"==typeof h&&Be(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(S.hasOwnProperty(a)?null!=h&&cn(n,a):null!=h&&X(e,a,h,c))}switch(o){case"input":we(e),ke(e,r,!1);break;case"textarea":we(e),Pe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ve(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?xe(e,!!r.multiple,n,!1):null!=r.defaultValue&&xe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof l.onClick&&(e.onclick=ln)}yn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Vs(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));n=No(Oo.current),No(Co.current),As(t)?(n=t.stateNode,r=t.memoizedProps,n[Sn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Sn]=t,t.stateNode=n)}return null;case 13:return ci(jo),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&As(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(a=t.firstEffect)?(t.firstEffect=o,o.nextEffect=a):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&jo.current)?Aa===wa&&(Aa=_a):(Aa!==wa&&Aa!==_a||(Aa=Ea),0!==Ra&&null!==Sa&&(Pc(Sa,ka),Dc(Sa,Ra)))),(n||r)&&(t.effectTag|=4),null);case 4:return Po(),null;case 10:return eo(t),null;case 17:return mi(t.type)&&gi(),null;case 19:if(ci(jo),null===(r=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(a=r.rendering)){if(o)Js(r,!1);else if(Aa!==wa||null!==e&&0!=(64&e.effectTag))for(a=t.child;null!==a;){if(null!==(e=Lo(a))){for(t.effectTag|=64,Js(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)a=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,a=e.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),r=r.sibling;return li(jo,1&jo.current|2),t.child}a=a.sibling}}else{if(!o)if(null!==(e=Lo(a))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Js(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Js(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=r.last)?n.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Ui()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,t=jo.current,li(jo,o?1&t|2:1&t),n):null}throw Error(s(156,t.tag))}function Xs(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Po(),ci(di),ci(hi),0!=(64&(t=e.effectTag)))throw Error(s(285));return e.effectTag=-4097&t|64,e;case 5:return Mo(e),null;case 13:return ci(jo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ci(jo),null;case 4:return Po(),null;case 10:return eo(e),null;default:return null}}function Zs(e,t){return{value:e,source:t,stack:ye(t)}}Bs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qs=function(e,t,n,r,o){var s=e.memoizedProps;if(s!==r){var a,c,l=t.stateNode;switch(No(Co.current),e=null,n){case"input":s=Ee(l,s),r=Ee(l,r),e=[];break;case"option":s=Ce(l,s),r=Ce(l,r),e=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":s=Oe(l,s),r=Oe(l,r),e=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(l.onclick=ln)}for(a in on(n,r),n=null,s)if(!r.hasOwnProperty(a)&&s.hasOwnProperty(a)&&null!=s[a])if("style"===a)for(c in l=s[a])l.hasOwnProperty(c)&&(n||(n={}),n[c]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(S.hasOwnProperty(a)?e||(e=[]):(e=e||[]).push(a,null));for(a in r){var u=r[a];if(l=null!=s?s[a]:void 0,r.hasOwnProperty(a)&&u!==l&&(null!=u||null!=l))if("style"===a)if(l){for(c in l)!l.hasOwnProperty(c)||u&&u.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in u)u.hasOwnProperty(c)&&l[c]!==u[c]&&(n||(n={}),n[c]=u[c])}else n||(e||(e=[]),e.push(a,n)),n=u;else"dangerouslySetInnerHTML"===a?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(e=e||[]).push(a,u)):"children"===a?l===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(a,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(S.hasOwnProperty(a)?(null!=u&&cn(o,a),e||l===u||(e=[])):(e=e||[]).push(a,u))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Vs=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var $s="function"==typeof WeakSet?WeakSet:Set;function ea(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ye(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ta(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){vc(e,t)}else t.current=null}function na(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(s(163))}function ra(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function ia(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oa(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ia(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Qi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ho(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ho(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&yn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&jt(n)))));case 19:case 17:case 20:case 21:return}throw Error(s(163))}function sa(e,t,n){switch("function"==typeof Ec&&Ec(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Vi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){vc(i,e)}}e=e.next}while(e!==r)}))}break;case 1:ta(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){vc(e,t)}}(t,n);break;case 5:ta(t);break;case 4:ua(e,t,n)}}function aa(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&aa(t)}function ca(e){return 5===e.tag||3===e.tag||4===e.tag}function la(e){e:{for(var t=e.return;null!==t;){if(ca(t)){var n=t;break e}t=t.return}throw Error(s(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.effectTag&&(Be(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ca(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=ln));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function ua(e,t,n){for(var r,i,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(s(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var c=e,l=o,u=n,h=l;;)if(sa(c,h,u),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===l)break e;for(;null===h.sibling;){if(null===h.return||h.return===l)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(c=r,l=o.stateNode,8===c.nodeType?c.parentNode.removeChild(l):c.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(sa(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function ha(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ra(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[In]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Se(n,r),sn(e,i),t=sn(e,r),i=0;i<o.length;i+=2){var a=o[i],c=o[i+1];"style"===a?nn(n,c):"dangerouslySetInnerHTML"===a?Ue(n,c):"children"===a?Be(n,c):X(n,a,c,t)}switch(e){case"input":Ie(n,r);break;case"textarea":Re(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?xe(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?xe(n,!!r.multiple,r.defaultValue,!0):xe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,jt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Da=Ui()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=tn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void da(t);case 19:return void da(t);case 17:return}throw Error(s(163))}function da(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=wc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var fa="function"==typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=ao(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ja||(ja=!0,La=r),ea(e,t)},n}function ma(e,t,n){(n=ao(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ea(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Fa?Fa=new Set([this]):Fa.add(this),ea(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ga,ya=Math.ceil,va=Y.ReactCurrentDispatcher,ba=Y.ReactCurrentOwner,wa=0,_a=3,Ea=4,Ta=0,Sa=null,Ia=null,ka=0,Aa=wa,Ca=null,xa=1073741823,Oa=1073741823,Na=null,Ra=0,Pa=!1,Da=0,Ma=null,ja=!1,La=null,Fa=null,Ua=!1,Ba=null,qa=90,Va=null,za=0,Wa=null,Ha=0;function Ka(){return 0!=(48&Ta)?1073741821-(Ui()/10|0):0!==Ha?Ha:Ha=1073741821-(Ui()/10|0)}function Ga(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Bi();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&Ta))return ka;if(null!==n)e=Gi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Gi(e,150,100);break;case 97:case 96:e=Gi(e,5e3,250);break;case 95:e=2;break;default:throw Error(s(326))}return null!==Sa&&e===ka&&--e,e}function Qa(e,t){if(50<za)throw za=0,Wa=null,Error(s(185));if(null!==(e=Ja(e,t))){var n=Bi();1073741823===t?0!=(8&Ta)&&0==(48&Ta)?$a(e):(Xa(e),0===Ta&&Hi()):Xa(e),0==(4&Ta)||98!==n&&99!==n||(null===Va?Va=new Map([[e,t]]):(void 0===(n=Va.get(e))||n>t)&&Va.set(e,t))}}function Ja(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Sa===i&&(sc(t),Aa===Ea&&Pc(i,ka)),Dc(i,t)),i}function Ya(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Rc(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Xa(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Wi($a.bind(null,e));else{var t=Ya(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Ka();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Ri&&Ti(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Wi($a.bind(null,e)):zi(r,Za.bind(null,e),{timeout:10*(1073741821-t)-Ui()}),e.callbackNode=t}}}function Za(e,t){if(Ha=0,t)return Mc(e,t=Ka()),Xa(e),null;var n=Ya(e);if(0!==n){if(t=e.callbackNode,0!=(48&Ta))throw Error(s(327));if(mc(),e===Sa&&n===ka||nc(e,n),null!==Ia){var r=Ta;Ta|=16;for(var i=ic();;)try{cc();break}catch(t){rc(e,t)}if($i(),Ta=r,va.current=i,1===Aa)throw t=Ca,nc(e,n),Pc(e,n),Xa(e),t;if(null===Ia)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Aa,Sa=null,r){case wa:case 1:throw Error(s(345));case 2:Mc(e,2<n?2:n);break;case _a:if(Pc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=hc(i)),1073741823===xa&&10<(i=Da+500-Ui())){if(Pa){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nc(e,n);break}}if(0!==(o=Ya(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=bn(dc.bind(null,e),i);break}dc(e);break;case Ea:if(Pc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=hc(i)),Pa&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,nc(e,n);break}if(0!==(i=Ya(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Oa?r=10*(1073741821-Oa)-Ui():1073741823===xa?r=0:(r=10*(1073741821-xa)-5e3,0>(r=(i=Ui())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ya(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=bn(dc.bind(null,e),r);break}dc(e);break;case 5:if(1073741823!==xa&&null!==Na){o=xa;var a=Na;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(o=Ui()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Pc(e,n),e.timeoutHandle=bn(dc.bind(null,e),r);break}}dc(e);break;default:throw Error(s(329))}if(Xa(e),e.callbackNode===t)return Za.bind(null,e)}}return null}function $a(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Ta))throw Error(s(327));if(mc(),e===Sa&&t===ka||nc(e,t),null!==Ia){var n=Ta;Ta|=16;for(var r=ic();;)try{ac();break}catch(t){rc(e,t)}if($i(),Ta=n,va.current=r,1===Aa)throw n=Ca,nc(e,t),Pc(e,t),Xa(e),n;if(null!==Ia)throw Error(s(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Sa=null,dc(e),Xa(e)}return null}function ec(e,t){var n=Ta;Ta|=1;try{return e(t)}finally{0===(Ta=n)&&Hi()}}function tc(e,t){var n=Ta;Ta&=-2,Ta|=8;try{return e(t)}finally{0===(Ta=n)&&Hi()}}function nc(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,wn(n)),null!==Ia)for(n=Ia.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&gi();break;case 3:Po(),ci(di),ci(hi);break;case 5:Mo(r);break;case 4:Po();break;case 13:case 19:ci(jo);break;case 10:eo(r)}n=n.return}Sa=e,Ia=kc(e.current,null),ka=t,Aa=wa,Ca=null,Oa=xa=1073741823,Na=null,Ra=0,Pa=!1}function rc(e,t){for(;;){try{if($i(),Uo.current=gs,Ho)for(var n=Vo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(qo=0,Wo=zo=Vo=null,Ho=!1,null===Ia||null===Ia.return)return Aa=1,Ca=t,Ia=null;e:{var i=e,o=Ia.return,s=Ia,a=t;if(t=ka,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==a&&"object"==typeof a&&"function"==typeof a.then){var c=a;if(0==(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.expirationTime=l.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var u=0!=(1&jo.current),h=o;do{var d;if(d=13===h.tag){var f=h.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var p=h.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!u)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(c),h.updateQueue=g}else m.add(c);if(0==(2&h.mode)){if(h.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ao(1073741823,null);y.tag=2,co(s,y)}s.expirationTime=1073741823;break e}a=void 0,s=t;var v=i.pingCache;if(null===v?(v=i.pingCache=new fa,a=new Set,v.set(c,a)):void 0===(a=v.get(c))&&(a=new Set,v.set(c,a)),!a.has(s)){a.add(s);var b=bc.bind(null,i,c,s);c.then(b,b)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);a=Error((ge(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(s))}5!==Aa&&(Aa=2),a=Zs(a,s),h=o;do{switch(h.tag){case 3:c=a,h.effectTag|=4096,h.expirationTime=t,lo(h,pa(h,c,t));break e;case 1:c=a;var w=h.type,_=h.stateNode;if(0==(64&h.effectTag)&&("function"==typeof w.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===Fa||!Fa.has(_)))){h.effectTag|=4096,h.expirationTime=t,lo(h,ma(h,c,t));break e}}h=h.return}while(null!==h)}Ia=uc(Ia)}catch(e){t=e;continue}break}}function ic(){var e=va.current;return va.current=gs,null===e?gs:e}function oc(e,t){e<xa&&2<e&&(xa=e),null!==t&&e<Oa&&2<e&&(Oa=e,Na=t)}function sc(e){e>Ra&&(Ra=e)}function ac(){for(;null!==Ia;)Ia=lc(Ia)}function cc(){for(;null!==Ia&&!Pi();)Ia=lc(Ia)}function lc(e){var t=ga(e.alternate,e,ka);return e.memoizedProps=e.pendingProps,null===t&&(t=uc(e)),ba.current=null,t}function uc(e){Ia=e;do{var t=Ia.alternate;if(e=Ia.return,0==(2048&Ia.effectTag)){if(t=Ys(t,Ia,ka),1===ka||1!==Ia.childExpirationTime){for(var n=0,r=Ia.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Ia.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ia.firstEffect),null!==Ia.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ia.firstEffect),e.lastEffect=Ia.lastEffect),1<Ia.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ia:e.firstEffect=Ia,e.lastEffect=Ia))}else{if(null!==(t=Xs(Ia)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ia.sibling))return t;Ia=e}while(null!==Ia);return Aa===wa&&(Aa=5),null}function hc(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function dc(e){var t=Bi();return Vi(99,fc.bind(null,e,t)),null}function fc(e,t){do{mc()}while(null!==Ba);if(0!=(48&Ta))throw Error(s(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=hc(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Sa&&(Ia=Sa=null,ka=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Ta;Ta|=32,ba.current=null,mn=Kt;var a=fn();if(pn(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{var l=(c=(c=a.ownerDocument)&&c.defaultView||window).getSelection&&c.getSelection();if(l&&0!==l.rangeCount){c=l.anchorNode;var u=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{c.nodeType,h.nodeType}catch(e){c=null;break e}var d=0,f=-1,p=-1,m=0,g=0,y=a,v=null;t:for(;;){for(var b;y!==c||0!==u&&3!==y.nodeType||(f=d+u),y!==h||0!==l&&3!==y.nodeType||(p=d+l),3===y.nodeType&&(d+=y.nodeValue.length),null!==(b=y.firstChild);)v=y,y=b;for(;;){if(y===a)break t;if(v===c&&++m===u&&(f=d),v===h&&++g===l&&(p=d),null!==(b=y.nextSibling))break;v=(y=v).parentNode}y=b}c=-1===f||-1===p?null:{start:f,end:p}}else c=null}c=c||{start:0,end:0}}else c=null;gn={activeElementDetached:null,focusedElem:a,selectionRange:c},Kt=!1,Ma=i;do{try{pc()}catch(e){if(null===Ma)throw Error(s(330));vc(Ma,e),Ma=Ma.nextEffect}}while(null!==Ma);Ma=i;do{try{for(a=e,c=t;null!==Ma;){var w=Ma.effectTag;if(16&w&&Be(Ma.stateNode,""),128&w){var _=Ma.alternate;if(null!==_){var E=_.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&w){case 2:la(Ma),Ma.effectTag&=-3;break;case 6:la(Ma),Ma.effectTag&=-3,ha(Ma.alternate,Ma);break;case 1024:Ma.effectTag&=-1025;break;case 1028:Ma.effectTag&=-1025,ha(Ma.alternate,Ma);break;case 4:ha(Ma.alternate,Ma);break;case 8:ua(a,u=Ma,c),aa(u)}Ma=Ma.nextEffect}}catch(e){if(null===Ma)throw Error(s(330));vc(Ma,e),Ma=Ma.nextEffect}}while(null!==Ma);if(E=gn,_=fn(),w=E.focusedElem,c=E.selectionRange,_!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==c&&pn(w)&&(_=c.start,void 0===(E=c.end)&&(E=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(E,w.value.length)):(E=(_=w.ownerDocument||document)&&_.defaultView||window).getSelection&&(E=E.getSelection(),u=w.textContent.length,a=Math.min(c.start,u),c=void 0===c.end?a:Math.min(c.end,u),!E.extend&&a>c&&(u=c,c=a,a=u),u=dn(w,a),h=dn(w,c),u&&h&&(1!==E.rangeCount||E.anchorNode!==u.node||E.anchorOffset!==u.offset||E.focusNode!==h.node||E.focusOffset!==h.offset)&&((_=_.createRange()).setStart(u.node,u.offset),E.removeAllRanges(),a>c?(E.addRange(_),E.extend(h.node,h.offset)):(_.setEnd(h.node,h.offset),E.addRange(_))))),_=[];for(E=w;E=E.parentNode;)1===E.nodeType&&_.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<_.length;w++)(E=_[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Kt=!!mn,gn=mn=null,e.current=n,Ma=i;do{try{for(w=e;null!==Ma;){var T=Ma.effectTag;if(36&T&&oa(w,Ma.alternate,Ma),128&T){_=void 0;var S=Ma.ref;if(null!==S){var I=Ma.stateNode;switch(Ma.tag){case 5:_=I;break;default:_=I}"function"==typeof S?S(_):S.current=_}}Ma=Ma.nextEffect}}catch(e){if(null===Ma)throw Error(s(330));vc(Ma,e),Ma=Ma.nextEffect}}while(null!==Ma);Ma=null,Di(),Ta=o}else e.current=n;if(Ua)Ua=!1,Ba=e,qa=t;else for(Ma=i;null!==Ma;)t=Ma.nextEffect,Ma.nextEffect=null,Ma=t;if(0===(t=e.firstPendingTime)&&(Fa=null),1073741823===t?e===Wa?za++:(za=0,Wa=e):za=0,"function"==typeof _c&&_c(n.stateNode,r),Xa(e),ja)throw ja=!1,e=La,La=null,e;return 0!=(8&Ta)||Hi(),null}function pc(){for(;null!==Ma;){var e=Ma.effectTag;0!=(256&e)&&na(Ma.alternate,Ma),0==(512&e)||Ua||(Ua=!0,zi(97,(function(){return mc(),null}))),Ma=Ma.nextEffect}}function mc(){if(90!==qa){var e=97<qa?97:qa;return qa=90,Vi(e,gc)}}function gc(){if(null===Ba)return!1;var e=Ba;if(Ba=null,0!=(48&Ta))throw Error(s(331));var t=Ta;for(Ta|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ra(5,n),ia(5,n)}}catch(t){if(null===e)throw Error(s(330));vc(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Ta=t,Hi(),!0}function yc(e,t,n){co(e,t=pa(e,t=Zs(n,t),1073741823)),null!==(e=Ja(e,1073741823))&&Xa(e)}function vc(e,t){if(3===e.tag)yc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){yc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Fa||!Fa.has(r))){co(n,e=ma(n,e=Zs(t,e),1073741823)),null!==(n=Ja(n,1073741823))&&Xa(n);break}}n=n.return}}function bc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Sa===e&&ka===n?Aa===Ea||Aa===_a&&1073741823===xa&&Ui()-Da<500?nc(e,ka):Pa=!0:Rc(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Xa(e)))}function wc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Ga(t=Ka(),e,null)),null!==(e=Ja(e,t))&&Xa(e)}ga=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||di.current)Os=!0;else{if(r<n){switch(Os=!1,t.tag){case 3:Us(t),Cs();break;case 5:if(Do(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mi(t.type)&&bi(t);break;case 4:Ro(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,li(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ws(e,t,n):(li(jo,1&jo.current),null!==(t=Qs(e,t,n))?t.sibling:null);li(jo,1&jo.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return Gs(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),li(jo,jo.current),!r)return null}return Qs(e,t,n)}Os=!1}}else Os=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=pi(t,hi.current),no(t,n),i=Qo(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&mo(t,r,a,e),i.updater=go,t.stateNode=i,i._reactInternalFiber=t,wo(t,r,e,n),t=Fs(null,t,r,!0,o,n)}else t.tag=0,Ns(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"==typeof e)return Ic(e)?1:0;if(null!=e){if((e=e.$$typeof)===ce)return 11;if(e===he)return 14}return 2}(i),e=Qi(i,e),o){case 0:t=js(null,t,i,e,n);break e;case 1:t=Ls(null,t,i,e,n);break e;case 11:t=Rs(null,t,i,e,n);break e;case 14:t=Ps(null,t,i,Qi(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,js(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ls(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 3:if(Us(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,so(e,t),uo(t,r,null,n),(r=t.memoizedState.element)===i)Cs(),t=Qs(e,t,n);else{if((i=t.stateNode.hydrate)&&(_s=_n(t.stateNode.containerInfo.firstChild),ws=t,i=Es=!0),i)for(n=ko(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ns(e,t,r,n),Cs();t=t.child}return t;case 5:return Do(t),null===e&&Is(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,vn(r,i)?a=null:null!==o&&vn(r,o)&&(t.effectTag|=16),Ms(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ns(e,t,a,n),t=t.child),t;case 6:return null===e&&Is(t),null;case 13:return Ws(e,t,n);case 4:return Ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Io(t,null,r,n):Ns(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Rs(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 7:return Ns(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ns(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var c=t.type._context;if(li(Ji,c._currentValue),c._currentValue=o,null!==a)if(c=a.value,0===(o=Lr(c,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823))){if(a.children===i.children&&!di.current){t=Qs(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){a=c.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===c.tag&&((u=ao(n,null)).tag=2,co(c,u)),c.expirationTime<n&&(c.expirationTime=n),null!==(u=c.alternate)&&u.expirationTime<n&&(u.expirationTime=n),to(c.return,n),l.expirationTime<n&&(l.expirationTime=n);break}u=u.next}}else a=10===c.tag&&c.type===t.type?null:c.child;if(null!==a)a.return=c;else for(a=c;null!==a;){if(a===t){a=null;break}if(null!==(c=a.sibling)){c.return=a.return,a=c;break}a=a.return}c=a}Ns(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.effectTag|=1,Ns(e,t,r,n),t.child;case 14:return o=Qi(i=t.type,t.pendingProps),Ps(e,t,i,o=Qi(i.type,o),r,n);case 15:return Ds(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,no(t,n),vo(t,r,i),wo(t,r,i,n),Fs(null,t,r,!0,e,n);case 19:return Gs(e,t,n)}throw Error(s(156,t.tag))};var _c=null,Ec=null;function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Sc(e,t,n,r){return new Tc(e,t,n,r)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function kc(e,t){var n=e.alternate;return null===n?((n=Sc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ac(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)Ic(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case ne:return Cc(n.children,i,o,t);case ae:a=8,i|=7;break;case re:a=8,i|=1;break;case ie:return(e=Sc(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case le:return(e=Sc(13,n,t,i)).type=le,e.elementType=le,e.expirationTime=o,e;case ue:return(e=Sc(19,n,t,i)).elementType=ue,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case oe:a=10;break e;case se:a=9;break e;case ce:a=11;break e;case he:a=14;break e;case de:a=16,r=null;break e;case fe:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Sc(a,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Cc(e,t,n,r){return(e=Sc(7,e,r,t)).expirationTime=n,e}function xc(e,t,n){return(e=Sc(6,e,null,t)).expirationTime=n,e}function Oc(e,t,n){return(t=Sc(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nc(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Rc(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Pc(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Dc(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Mc(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function jc(e,t,n,r){var i=t.current,o=Ka(),a=fo.suspense;o=Ga(o,i,a);e:if(n){t:{if($e(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(mi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(s(171))}if(1===n.tag){var l=n.type;if(mi(l)){n=vi(n,l,c);break e}}n=c}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=ao(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),co(i,t),Qa(i,o),o}function Lc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Uc(e,t){Fc(e,t),(e=e.alternate)&&Fc(e,t)}function Bc(e,t,n){var r=new Nc(e,t,n=null!=n&&!0===n.hydrate),i=Sc(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,oo(i),e[kn]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);kt.forEach((function(e){pt(e,t,n)})),At.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Lc(s);a.call(e)}}jc(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Bc(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"==typeof i){var c=i;i=function(){var e=Lc(s);c.call(e)}}tc((function(){jc(t,s,e,i)}))}return Lc(s)}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Wc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qc(t))throw Error(s(200));return zc(e,t,null,n)}Bc.prototype.render=function(e){jc(e,this._internalRoot,null,null)},Bc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;jc(null,e,null,(function(){t[kn]=null}))},mt=function(e){if(13===e.tag){var t=Gi(Ka(),150,100);Qa(e,t),Uc(e,t)}},gt=function(e){13===e.tag&&(Qa(e,3),Uc(e,3))},yt=function(e){if(13===e.tag){var t=Ka();Qa(e,t=Ga(t,e,null)),Uc(e,t)}},C=function(e,t,n){switch(t){case"input":if(Ie(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=On(r);if(!i)throw Error(s(90));_e(r),Ie(r,i)}}}break;case"textarea":Re(e,n);break;case"select":null!=(t=n.value)&&xe(e,!!n.multiple,t,!1)}},D=ec,M=function(e,t,n,r,i){var o=Ta;Ta|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(Ta=o)&&Hi()}},j=function(){0==(49&Ta)&&(function(){if(null!==Va){var e=Va;Va=null,e.forEach((function(e,t){Mc(t,e),Xa(t)})),Hi()}}(),mc())},L=function(e,t){var n=Ta;Ta|=2;try{return e(t)}finally{0===(Ta=n)&&Hi()}};var Hc,Kc,Gc={Events:[Cn,xn,On,k,T,Ln,function(e){it(e,jn)},R,P,Xt,at,mc,{current:!1}]};Kc=(Hc={findFiberByHostInstance:An,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);_c=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Ec=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(i({},Hc,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Kc?Kc(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gc,t.createPortal=Wc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&Ta))throw Error(s(187));var n=Ta;Ta|=1;try{return Vi(99,e.bind(null,t))}finally{Ta=n,Hi()}},t.hydrate=function(e,t,n){if(!qc(t))throw Error(s(200));return Vc(null,e,t,!0,n)},t.render=function(e,t,n){if(!qc(t))throw Error(s(200));return Vc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!qc(e))throw Error(s(40));return!!e._reactRootContainer&&(tc((function(){Vc(null,null,e,!1,(function(){e._reactRootContainer=null,e[kn]=null}))})),!0)},t.unstable_batchedUpdates=ec,t.unstable_createPortal=function(e,t){return Wc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qc(n))throw Error(s(200));if(null==e||void 0===e._reactInternalFiber)throw Error(s(38));return Vc(e,t,n,!1,r)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(55)},function(e,t,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,o,s,a;if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,u=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(u,0),e}},h=Date.now();t.unstable_now=function(){return Date.now()-h},r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(u,0))},i=function(e,t){l=setTimeout(e,t)},o=function(){clearTimeout(l)},s=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,f=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)t.unstable_now=function(){return d.now()};else{var y=f.now();t.unstable_now=function(){return f.now()-y}}var v=!1,b=null,w=-1,_=5,E=0;s=function(){return t.unstable_now()>=E},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var T=new MessageChannel,S=T.port2;T.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();E=e+_;try{b(!0,e)?S.postMessage(null):(v=!1,b=null)}catch(e){throw S.postMessage(null),e}}else v=!1},r=function(e){b=e,v||(v=!0,S.postMessage(null))},i=function(e,n){w=p((function(){e(t.unstable_now())}),n)},o=function(){m(w),w=-1}}function I(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function A(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,c=e[a];if(void 0!==s&&0>C(s,n))void 0!==c&&0>C(c,s)?(e[r]=c,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==c&&0>C(c,n)))break e;e[r]=c,e[a]=n,r=a}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var x=[],O=[],N=1,R=null,P=3,D=!1,M=!1,j=!1;function L(e){for(var t=k(O);null!==t;){if(null===t.callback)A(O);else{if(!(t.startTime<=e))break;A(O),t.sortIndex=t.expirationTime,I(x,t)}t=k(O)}}function F(e){if(j=!1,L(e),!M)if(null!==k(x))M=!0,r(U);else{var t=k(O);null!==t&&i(F,t.startTime-e)}}function U(e,n){M=!1,j&&(j=!1,o()),D=!0;var r=P;try{for(L(n),R=k(x);null!==R&&(!(R.expirationTime>n)||e&&!s());){var a=R.callback;if(null!==a){R.callback=null,P=R.priorityLevel;var c=a(R.expirationTime<=n);n=t.unstable_now(),"function"==typeof c?R.callback=c:R===k(x)&&A(x),L(n)}else A(x);R=k(x)}if(null!==R)var l=!0;else{var u=k(O);null!==u&&i(F,u.startTime-n),l=!1}return l}finally{R=null,P=r,D=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var q=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||D||(M=!0,r(U))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return k(x)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=q,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,n,s){var a=t.unstable_now();if("object"==typeof s&&null!==s){var c=s.delay;c="number"==typeof c&&0<c?a+c:a,s="number"==typeof s.timeout?s.timeout:B(e)}else s=B(e),c=a;return e={id:N++,callback:n,priorityLevel:e,startTime:c,expirationTime:s=c+s,sortIndex:-1},c>a?(e.sortIndex=c,I(O,e),null===k(x)&&e===k(O)&&(j?o():j=!0,i(F,c-a))):(e.sortIndex=s,I(x,e),M||D||(M=!0,r(U))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var n=k(x);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<R.expirationTime||s()},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},function(e,t,n){"use strict";
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(1);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,s=r.useEffect,a=r.useLayoutEffect,c=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return a((function(){i.value=n,i.getSnapshot=t,l(i)&&u({inst:i})}),[e,n,t]),s((function(){return l(i)&&u({inst:i}),e((function(){l(i)&&u({inst:i})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},function(e,t,n){"use strict";
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(1),i=n(34);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=i.useSyncExternalStore,a=r.useRef,c=r.useEffect,l=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var h=a(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;h=l((function(){function e(e){if(!c){if(c=!0,s=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return a=t}return a=e}if(t=a,o(s,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(s=e,a=n)}var s,a,c=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,i]);var f=s(e,h[0],h[1]);return c((function(){d.hasValue=!0,d.value=f}),[f]),u(f),f}},function(e,t,n){"use strict";e.exports=n(59)},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case d:case s:case c:case a:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case y:case g:case l:return e;default:return t}}case o:return t}}}function T(e){return E(e)===d}t.AsyncMode=h,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=i,t.ForwardRef=f,t.Fragment=s,t.Lazy=y,t.Memo=g,t.Portal=o,t.Profiler=c,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return T(e)||E(e)===h},t.isConcurrentMode=T,t.isContextConsumer=function(e){return E(e)===u},t.isContextProvider=function(e){return E(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===f},t.isFragment=function(e){return E(e)===s},t.isLazy=function(e){return E(e)===y},t.isMemo=function(e){return E(e)===g},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===c},t.isStrictMode=function(e){return E(e)===a},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===d||e===c||e===a||e===p||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===b||e.$$typeof===w||e.$$typeof===_||e.$$typeof===v)},t.typeOf=E},function(e,t,n){"use strict";
/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i=Symbol.for("react.element"),o=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case s:case c:case a:case f:case p:return e;default:switch(e=e&&e.$$typeof){case h:case u:case d:case g:case m:case l:return e;default:return t}}case o:return t}}}r=Symbol.for("react.module.reference"),t.ContextConsumer=u,t.ContextProvider=l,t.Element=i,t.ForwardRef=d,t.Fragment=s,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=c,t.StrictMode=a,t.Suspense=f,t.SuspenseList=p,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return v(e)===u},t.isContextProvider=function(e){return v(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return v(e)===d},t.isFragment=function(e){return v(e)===s},t.isLazy=function(e){return v(e)===g},t.isMemo=function(e){return v(e)===m},t.isPortal=function(e){return v(e)===o},t.isProfiler=function(e){return v(e)===c},t.isStrictMode=function(e){return v(e)===a},t.isSuspense=function(e){return v(e)===f},t.isSuspenseList=function(e){return v(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===c||e===a||e===f||e===p||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===d||e.$$typeof===r||void 0!==e.getModuleId)},t.typeOf=v},function(e,t,n){var r=n(17),i=n(62);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r)()(!1);i.push([e.i,".App {\r\n    margin: 0;\r\n    background-color: rgb(241, 241, 241);\r\n    height: auto;\r\n    width: auto;\r\n}\r\n\r\n.quora-content{\r\n    display: flex;\r\n    justify-content: center;\r\n    margin-top: 50px;\r\n}",""]),t.default=i},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(66);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(17),i=n(69);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r),o=n(44),s=n.n(o),a=n(45),c=i()(!1);c.push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Cedarville+Cursive&display=swap);"]);var l=s()(a.a);c.push([e.i,".login {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100vh;\r\n  background: url("+l+');\r\n}\r\n\r\n.login__container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 20px;\r\n  width: 700px;\r\n  background-color: rgb(255, 255, 255);\r\n  border-radius: 10px;\r\n}\r\n\r\n.login__logo {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.login__desc {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  margin-top: 10px;\r\n}\r\n\r\n.login__desc > h3 {\r\n  margin-top: 10px;\r\n  text-align: center;\r\n  font-size: xx-large;\r\n  font-family: "Cedarville Cursive", cursive;\r\n}\r\n.login__desc > p {\r\n  color: gray;\r\n  text-align: center;\r\n  font-weight: 500;\r\n  font-size: 20px;\r\n}\r\n\r\n.login__auth {\r\n  display: flex;\r\n  margin-top: 50px;\r\n}\r\n\r\n.login__authOptions {\r\n  display: flex;\r\n  flex: 0.5;\r\n  flex-direction: column;\r\n  padding: 20px;\r\n  border-right: 1px solid lightgray;\r\n}\r\n\r\n.login__authOption {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 7px;\r\n  margin-bottom: 15px;\r\n  border: 1px solid lightgray;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.login__authOption:hover {\r\n  background-color: rgb(226, 226, 226);\r\n}\r\n\r\n.login__authOption > img {\r\n  height: 30px;\r\n  object-fit: contain;\r\n}\r\n\r\n.login__authOption > p {\r\n  margin-left: 11px;\r\n}\r\n\r\n.login__authDesc {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 7px;\r\n  margin-bottom: 15px;\r\n}\r\n.login__authDesc > p {\r\n  font-size: small;\r\n  color: gray;\r\n}\r\n\r\n.login__emailPass {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  padding: 20px;\r\n  flex: 0.5;\r\n  margin-left: 20px;\r\n}\r\n\r\n.login__label > h4 {\r\n  padding: 5px;\r\n}\r\n\r\n.login__inputFields {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 5px;\r\n}\r\n\r\n.login__inputField {\r\n  padding: 5px;\r\n}\r\n\r\n.login__inputField > input {\r\n  padding: 10px;\r\n  width: 100%;\r\n  outline: none;\r\n  border: none;\r\n  background-color: rgb(236, 236, 236);\r\n}\r\n\r\n.login__forgButt {\r\n  padding-left: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.login__forgButt > small {\r\n  color: gray;\r\n  cursor: pointer;\r\n}\r\n\r\n.login__forgButt > small:hover {\r\n  color: blue;\r\n  text-decoration: underline;\r\n}\r\n\r\n.login__forgButt > button {\r\n  padding: 9px;\r\n  border-radius: 5px;\r\n  border: none;\r\n  outline: none;\r\n  background-color: blue;\r\n  color: white;\r\n  font-weight: bold;\r\n  font-size: 15px;\r\n  cursor: pointer;\r\n}\r\n\r\n.login__emailPass > button {\r\n  padding: 9px;\r\n  border-radius: 5px;\r\n  border: none;\r\n  outline: none;\r\n  background-color: blue;\r\n  color: white;\r\n  font-weight: bold;\r\n  font-size: 15px;\r\n  cursor: pointer;\r\n  margin-top: 10px;\r\n}\r\n\r\n.login__lang {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-top: 1px solid lightgray;\r\n  border-bottom: 1px solid lightgray;\r\n  margin-top: 30px;\r\n  padding: 10px;\r\n}\r\n\r\n.login__lang > p {\r\n  color: gray;\r\n  margin-right: 5px;\r\n  cursor: pointer;\r\n  font-size: 13px;\r\n}\r\n\r\n.login__lang > p:hover {\r\n  color: gray;\r\n  margin-right: 5px;\r\n  text-decoration: underline;\r\n}\r\n\r\n.login__lang > .MuiSvgIcon-root {\r\n  color: gray;\r\n}\r\n\r\n.login__footer {\r\n  padding-top: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-evenly;\r\n}\r\n\r\n.login__footer > p {\r\n  color: gray;\r\n  font-size: small;\r\n  cursor: pointer;\r\n}\r\n\r\n.login__footer > p:hover {\r\n  text-decoration: underline;\r\n}\r\n',""]),t.default=c},function(e,t,n){"use strict";var r=n(71);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){var r=n(17),i=n(73);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r)()(!1);i.push([e.i,".quora__content {\r\n    display: flex;\r\n    justify-content: center;\r\n    margin-top: 50px;\r\n  }",""]),t.default=i},function(e,t,n){var r=n(17),i=n(75);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r)()(!1);i.push([e.i,"*{\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n.feed {\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex: 0.6;\r\n}",""]),t.default=i},function(e,t,n){var r=n(17),i=n(77);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r)()(!1);i.push([e.i,".post{\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 10px;\r\n    background-color: white;\r\n    border: 1px solid lightgray;\r\n    border-radius: 5px;\r\n    margin-top: 10px;\r\n}\r\n\r\n.post-info{\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n \r\n.post-info > h5{\r\n    margin-left: 10px;\r\n    cursor: pointer;\r\n    font-size: 13px;\r\n}\r\n\r\n.post-info > h5:hover{\r\n   text-decoration: underline;\r\n}\r\n\r\n.post-info > small{\r\nmargin-left: 10px;\r\n}\r\n\r\n.post-body{\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.post-body > .post-ques{\r\n margin-top: 10px;\r\n font-weight: bold;\r\n margin-bottom: 10px;\r\n cursor: pointer;\r\ndisplay: flex;\r\n}\r\n.post-body > .post-ques > p:hover{\r\ntext-decoration: underline;\r\n}\r\n\r\n.post-body > img{\r\n    object-fit: contain;\r\n    width: 100%;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n}\r\n\r\n.post-ques > .post-btn{\r\n    margin-left: auto;\r\n    outline: none;\r\n    border: none;\r\n    background-color: blue;\r\n    color: white;\r\n    border-radius: 30px;\r\n    padding: 10px;\r\n}\r\n\r\n.post-footer{\r\n    display: flex;\r\n    align-items: center;\r\n    margin: 10px;\r\n}\r\n\r\n.post-footer > .MuiSvgIcon-root{\r\n   color: gray;\r\n   margin-right: 40px;\r\n   cursor: pointer;\r\n}\r\n\r\n.post-footerAction{\r\n    display: flex;\r\n    justify-content: space-around;\r\n    border-radius: 33px;\r\n    padding: 5px;\r\n    align-items: center;\r\n    background-color: lightgray;\r\n}\r\n\r\n.post-footerAction > .MuiSvgIcon-root{\r\n   color: gray;\r\n   margin-right: 40px;\r\n   cursor: pointer;\r\n}\r\n.post-footerAction > .MuiSvgIcon-root:hover{\r\n   color: #8f1f19;\r\n   margin-right: 40px;\r\n   cursor: pointer;\r\n}\r\n\r\n.post-footerLeft{\r\n    margin-left: auto;\r\n    \r\n}\r\n\r\n.post-footerLeft > .MuiSvgIcon-root{\r\n    color: gray;\r\n    cursor: pointer;\r\n    margin-left: 30px;\r\n}\r\n\r\n.modal_question{\r\n    display: flex;\r\n    align-items: center;\r\n    flex-direction: column;\r\n}\r\n\r\n.modal_question > h1 {\r\n    color: #8f1f1b;\r\n    font-weight: 600;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.modal_question > p {\r\n    color: gray;\r\n    font-size: small;\r\n}\r\n\r\n.modal_question > p > .name {\r\n   color: black;\r\n   font-weight: bold;\r\n}\r\n\r\n.modal_answer{\r\n    display: flex;\r\n    padding-top: 20px;\r\n    flex: 1;\r\n}\r\n\r\n.modal_answer > textarea{\r\n    width: 100%;\r\n    height: 200px;\r\n    padding: 5px;\r\n    font-size: 15px;\r\n    color: blue;\r\n}\r\n\r\n.modal-button{\r\n    display: flex;\r\n    align-items: center;\r\n    margin-right: -20px;\r\n    border-top: 1px solid lightgray;\r\n}\r\n\r\n.modal-button > .cancle {\r\n    margin-left: auto;\r\n    border: none;\r\n    margin-top: 5px;\r\n    outline: none;\r\n    color: gray;\r\n    font-weight: 500;\r\n    padding: 10px;\r\n    margin-right: 10px;\r\n    border-radius: 33px;\r\n    cursor: pointer;\r\n}\r\n\r\n.modal-button > .add {\r\n    border: none;\r\n    outline: none;\r\n    margin-top: 5px;\r\n    background-color: rgb(0, 64, 255);\r\n    color: white;\r\n    font-weight: 700;\r\n    padding: 10px;\r\n    margin-right: 10px;\r\n    border-radius: 33px;\r\n    cursor: pointer;\r\n}",""]),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),s=p(o),a=p(n(20)),c=p(n(15)),l=p(n(79)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(40)),h=n(33),d=p(h),f=n(86);function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=t.portalClassName="ReactModalPortal",v=t.bodyOpenClassName="ReactModal__Body--open",b=h.canUseDOM&&void 0!==a.default.createPortal,w=function(e){return document.createElement(e)},_=function(){return b?a.default.createPortal:a.default.unstable_renderSubtreeIntoContainer};function E(e){return e()}var T=function(e){function t(){var e,n,i;m(this,t);for(var o=arguments.length,c=Array(o),u=0;u<o;u++)c[u]=arguments[u];return n=i=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.removePortal=function(){!b&&a.default.unmountComponentAtNode(i.node);var e=E(i.props.parentSelector);e&&e.contains(i.node)?e.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(e){i.portal=e},i.renderPortal=function(e){var n=_()(i,s.default.createElement(l.default,r({defaultStyles:t.defaultStyles},e)),i.node);i.portalRef(n)},g(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){h.canUseDOM&&(b||(this.node=w("div")),this.node.className=this.props.portalClassName,E(this.props.parentSelector).appendChild(this.node),!b&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:E(e.parentSelector),nextParent:E(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(h.canUseDOM){var r=this.props,i=r.isOpen,o=r.portalClassName;e.portalClassName!==o&&(this.node.className=o);var s=n.prevParent,a=n.nextParent;a!==s&&(s.removeChild(this.node),a.appendChild(this.node)),(e.isOpen||i)&&!b&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(h.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return h.canUseDOM&&b?(!this.node&&b&&(this.node=w("div")),_()(s.default.createElement(l.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}(o.Component);T.propTypes={isOpen:c.default.bool.isRequired,style:c.default.shape({content:c.default.object,overlay:c.default.object}),portalClassName:c.default.string,bodyOpenClassName:c.default.string,htmlOpenClassName:c.default.string,className:c.default.oneOfType([c.default.string,c.default.shape({base:c.default.string.isRequired,afterOpen:c.default.string.isRequired,beforeClose:c.default.string.isRequired})]),overlayClassName:c.default.oneOfType([c.default.string,c.default.shape({base:c.default.string.isRequired,afterOpen:c.default.string.isRequired,beforeClose:c.default.string.isRequired})]),appElement:c.default.oneOfType([c.default.instanceOf(d.default),c.default.instanceOf(h.SafeHTMLCollection),c.default.instanceOf(h.SafeNodeList),c.default.arrayOf(c.default.instanceOf(d.default))]),onAfterOpen:c.default.func,onRequestClose:c.default.func,closeTimeoutMS:c.default.number,ariaHideApp:c.default.bool,shouldFocusAfterRender:c.default.bool,shouldCloseOnOverlayClick:c.default.bool,shouldReturnFocusAfterClose:c.default.bool,preventScroll:c.default.bool,parentSelector:c.default.func,aria:c.default.object,data:c.default.object,role:c.default.string,contentLabel:c.default.string,shouldCloseOnEsc:c.default.bool,overlayRef:c.default.func,contentRef:c.default.func,id:c.default.string,overlayElement:c.default.func,contentElement:c.default.func},T.defaultProps={isOpen:!1,portalClassName:y,bodyOpenClassName:v,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return s.default.createElement("div",e,t)},contentElement:function(e,t){return s.default.createElement("div",e,t)}},T.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,f.polyfill)(T),t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),a=g(n(15)),c=m(n(80)),l=g(n(81)),u=m(n(40)),h=m(n(84)),d=n(33),f=g(d),p=g(n(41));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}n(85);var y={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},v=0,b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,i=e.htmlOpenClassName,o=e.bodyOpenClassName,s=e.parentSelector,a=s&&s().ownerDocument||document;o&&h.remove(a.body,o),i&&h.remove(a.getElementsByTagName("html")[0],i),r&&v>0&&0===(v-=1)&&u.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(c.returnFocus(n.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),p.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(c.setupScopedFocus(n.node),c.markForFocusLater()),n.setState({isOpen:!0},(function(){n.openAnimationFrame=requestAnimationFrame((function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})}))})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){(function(e){return"Tab"===e.code||9===e.keyCode})(e)&&(0,l.default)(n.content,e),n.props.shouldCloseOnEsc&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===(void 0===t?"undefined":i(t))?t:{base:y[e],afterOpen:y[e]+"--after-open",beforeClose:y[e]+"--before-close"},o=r.base;return n.state.afterOpen&&(o=o+" "+r.afterOpen),n.state.beforeClose&&(o=o+" "+r.beforeClose),"string"==typeof t&&t?o+" "+t:o},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,i=e.bodyOpenClassName,o=e.parentSelector,s=o&&o().ownerDocument||document;i&&h.add(s.body,i),r&&h.add(s.getElementsByTagName("html")[0],r),n&&(v+=1,u.hide(t)),p.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,i=e.overlayClassName,o=e.defaultStyles,s=e.children,a=n?{}:o.content,c=i?{}:o.overlay;if(this.shouldBeClosed())return null;var l={ref:this.setOverlayRef,className:this.buildClassName("overlay",i),style:r({},c,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},u=r({id:t,ref:this.setContentRef,style:r({},a,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),h=this.props.contentElement(u,s);return this.props.overlayElement(l,h)}}]),t}(s.Component);b.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},b.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(f.default),a.default.instanceOf(d.SafeHTMLCollection),a.default.instanceOf(d.SafeNodeList),a.default.arrayOf(a.default.instanceOf(f.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},t.default=b,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){s=[]},t.log=function(){0},t.handleBlur=l,t.handleFocus=u,t.markForFocusLater=function(){s.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==s.length&&(t=s.pop()).focus({preventScroll:e}))}catch(e){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){s.length>0&&s.pop()},t.setupScopedFocus=function(e){a=e,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",u,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",u))},t.teardownScopedFocus=function(){a=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",u)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",u))};var r,i=n(39),o=(r=i)&&r.__esModule?r:{default:r};var s=[],a=null,c=!1;function l(){c=!0}function u(){if(c){if(c=!1,!a)return;setTimeout((function(){a.contains(document.activeElement)||((0,o.default)(a)[0]||a).focus()}),0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,i=t.shiftKey,s=n[0],a=n[n.length-1],c=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return t.activeElement.shadowRoot?e(t.activeElement.shadowRoot):t.activeElement}();if(e===c){if(!i)return;r=a}a!==c||i||(r=s);s===c&&i&&(r=a);if(r)return t.preventDefault(),void r.focus();var l=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==l||"Chrome"==l[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var u=n.indexOf(c);u>-1&&(u+=i?-1:1);if(void 0===(r=n[u]))return t.preventDefault(),void(r=i?a:s).focus();t.preventDefault(),r.focus()};var r,i=n(39),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){var r;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/!function(){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){var e=document.getElementsByTagName("html")[0];for(var t in r)o(e,r[t]);var n=document.body;for(var s in i)o(n,i[s]);r={},i={}},t.log=function(){0};var r={},i={};function o(e,t){e.classList.remove(t)}t.add=function(e,t){return n=e.classList,o="html"==e.nodeName.toLowerCase()?r:i,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(o,e),n.add(e)}));var n,o},t.remove=function(e,t){return n=e.classList,o="html"==e.nodeName.toLowerCase()?r:i,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(o,e),0===o[e]&&n.remove(e)}));var n,o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){for(var e=[s,a],t=0;t<e.length;t++){var n=e[t];n&&(n.parentNode&&n.parentNode.removeChild(n))}s=a=null,c=[]},t.log=function(){console.log("bodyTrap ----------"),console.log(c.length);for(var e=[s,a],t=0;t<e.length;t++){var n=e[t]||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")};var r,i=n(41),o=(r=i)&&r.__esModule?r:{default:r};var s=void 0,a=void 0,c=[];function l(){0!==c.length&&c[c.length-1].focusContent()}o.default.subscribe((function(e,t){s||a||((s=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),s.style.position="absolute",s.style.opacity="0",s.setAttribute("tabindex","0"),s.addEventListener("focus",l),(a=s.cloneNode()).addEventListener("focus",l)),(c=t).length>0?(document.body.firstChild!==s&&document.body.insertBefore(s,document.body.firstChild),document.body.lastChild!==a&&document.body.appendChild(a)):(s.parentElement&&s.parentElement.removeChild(s),a.parentElement&&a.parentElement.removeChild(a))}))},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function s(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,s=null,a=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?s="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(s="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?a="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(a="UNSAFE_componentWillUpdate"),null!==n||null!==s||null!==a){var c=e.displayName||e.name,l="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==s?"\n  "+s:"")+(null!==a?"\n  "+a:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return s})),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,n){var r=n(17),i=n(88);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r)()(!1);i.push([e.i,".quorabox{\r\n    display: flex;\r\n    /* align-items: center; */\r\n    flex-direction: column;\r\n    padding: 10px;\r\n    border: 1px solid lightgray;\r\n    background-color: white;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n}\r\n\r\n.quorabox:hover{\r\n    border: 1px solid gray;\r\n}\r\n\r\n.quorabox-info{\r\n display: flex;\r\n align-items: center;\r\n}\r\n\r\n.quorabox-info > h5{\r\n color: rgb(129, 129, 129);\r\n font-weight: 300;\r\n margin-left: 10px;\r\n}\r\n\r\n.quorabox-quora{\r\n    display: flex;\r\n    margin-top: 8px;\r\n}\r\n.quorabox-quora > p{\r\n    color: gray;\r\n    font-weight: bold;\r\n    font-size: large;\r\n}",""]),t.default=i},function(e,t,n){var r=n(17),i=n(90);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r)()(!1);i.push([e.i,".qheader{\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding: 1px;\r\n    background-color: white;\r\n    width: 100%;\r\n    position: sticky;\r\n    z-index: 1000;\r\n    top: 0;\r\n    box-shadow: 0px 5px 8px -9px rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.qheader_logo >img {\r\nheight: 30px;\r\nmargin-right: 20px;\r\n}\r\n\r\n.qheader_icons{\r\n    display: flex;\r\n    margin-right: 20px;\r\n}\r\n\r\n.qheader_icon > .MuiSvgIcon-root:hover{\r\n  color: #8f1f1b;\r\n   border-radius: 10px;\r\n  background-color: lightgray;\r\n \r\n}\r\n\r\n.qheader_icon > .MuiSvgIcon-root {\r\n  color: grey;\r\n  cursor: pointer;\r\n  font-size: xx-large ;\r\n  padding: 5px 20px;\r\n}\r\n\r\n.qheader_search {\r\n    display: flex;\r\n    align-items: center;\r\n    border: 1px solid lightgrey;\r\n    padding: 5px;\r\n    border-radius: 5px;\r\n}\r\n\r\n.qheader_search > input {\r\n    background-color: transparent;\r\n    outline: none;\r\n    border: none;\r\n    color: rgba(49, 49, 49);\r\n}\r\n.qheader_search > .MuiSvgIcon-root {\r\n    color: grey;\r\n}\r\n\r\n.qHeader_rem{\r\n    display: flex;\r\n    align-items: center;\r\n    margin-left: 25px;\r\n}\r\n.MuiAvatar-root {\r\n  cursor: pointer;\r\n}\r\n/* .MuiAvatar-root:hover {\r\n  color: #8f1f1b;\r\n} */\r\n.qHeader_rem > .MuiSvgIcon-root {\r\n  cursor: pointer;\r\n  font-size: xx-large;\r\n  color: grey;\r\n  border-radius: 5px;\r\n   padding: 5px 15px;\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n}\r\n.qHeader_rem > .MuiSvgIcon-root:hover {\r\n  color: #8f1f1b;\r\n  background-color: lightgray;\r\n}\r\n\r\n.qHeader_rem > .MuiButton-root {\r\n    color: white;\r\n    text-transform: inherit;\r\n    background: #8f1f1b;\r\n    border-radius: 20px;\r\n  cursor: pointer; \r\n}\r\n.qHeader_rem > .MuiButton-root:hover {\r\n   color: white;\r\n   background-color: #b92b27;\r\n}\r\n\r\n.modal-title {\r\n  display: flex;\r\n  flex-direction: column;\r\n  /* align-items: center; */\r\n  margin-bottom: 5px;\r\n  border-bottom: 1px solid rgba(187, 187, 187, 0.5);\r\n}\r\n.heading{\r\n  margin-left: 10px;\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n.heading > h5{\r\n  color: gray;\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  margin-right: 30px;\r\n}\r\n\r\n.heading > h5:hover{\r\n color: #b92b27;\r\n}\r\n\r\n.modal-info{\r\n display: flex;\r\n align-items: center;\r\n margin-top: 30px;\r\n}\r\n\r\n.modal-info > p{\r\n  margin-left: 10px;\r\n  font-size: small;\r\n  color: gray;\r\n}\r\n\r\n.modal-info > .modal-scope{\r\n  display: flex;\r\n  align-items: center;\r\n  color: rgb(98, 98, 98);\r\n  padding: 5px;\r\n  margin-left: 10px;\r\n  background-color: rgb(230, 230, 230);\r\n  border-radius: 33px;\r\n  cursor: pointer;\r\n}\r\n\r\n.modal-field{\r\n display: flex;\r\n  flex-direction: column;\r\n  margin-top: 30px;\r\n  flex: 1;\r\n}\r\n\r\n.modal-field > .modal-fieldLink{\r\n  color: gray;\r\n  display: flex;\r\n  margin-top: 10px;\r\n  align-items: center;\r\n}\r\n\r\n.modal-field > .modal-fieldLink > input {\r\n  flex: 1;\r\n  border: none;\r\n  outline: none;\r\n  margin-left: 5px;\r\n}\r\n\r\n.modal-btn{\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: 242px;\r\n  margin-right: -20px;\r\n  border-top: 1px solid lightgray;\r\n}\r\n\r\n.modal-btn > .cancle {\r\n  margin-left: auto;\r\n  border: none;\r\n  margin-top: 5px;\r\n  outline: none;\r\n  color: gray;\r\n  font-weight: 500;\r\n  padding: 10px;\r\n  margin-right: 10px;\r\n  border-radius: 33px;\r\n  cursor: pointer;\r\n}\r\n\r\n.modal-btn > .add {\r\n border: none;\r\n  outline: none;\r\n  margin-top: 5px;\r\n  background-color: rgb(0, 64, 255);\r\n  color: white;\r\n  font-weight: 700;\r\n  padding: 10px;\r\n  margin-right: 10px;\r\n  border-radius: 33px;\r\n  cursor: pointer;\r\n}",""]),t.default=i},function(e,t,n){var r=n(17),i=n(92);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r)()(!1);i.push([e.i,".sidebar{\r\n    margin-right: 10px;\r\n    flex: 0.2;\r\n}",""]),t.default=i},function(e,t,n){var r=n(17),i=n(94);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r)()(!1);i.push([e.i,".sidebarOptions{\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.sidebarOption{\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 10px;\r\n    cursor: pointer;\r\n}\r\n.sidebarOption:hover{\r\n    background-color: lightgray;\r\n    border-radius: 5px;\r\n}\r\n.sidebarOption > img{\r\n  height: 30px;\r\n  margin-left: 20px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.sidebarOption > p{\r\n color: gray;\r\n font-weight: 400;\r\nmargin-left: 10px; \r\n}\r\n\r\n.sidebarOption > .MuiSvgIcon-root {\r\n    color: gray;\r\n    font-size: medium;\r\n    margin-left: 20px;\r\n}",""]),t.default=i},function(e,t,n){var r=n(17),i=n(96);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r)()(!1);i.push([e.i,".widget{\r\n    flex: 0.2;\r\n    margin-left: 20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 10px;\r\n    margin-right: 20px;\r\n    border: 1px solid lightgray;\r\n    border-radius: 5px; \r\n    max-height: 85vh;\r\n    background-color: white;\r\n}\r\n\r\n.widget-header{\r\n border-bottom: 1px solid lightgray;\r\n}\r\n\r\n.widget-header > h5{\r\n padding: 10px;\r\n color: rgb(80, 80, 80);\r\n font-size: 15px;\r\n letter-spacing: 1.1px;\r\n}\r\n\r\n.widget-contents{\r\n    display: flex;\r\n    flex-direction: column;\r\n}",""]),t.default=i},function(e,t,n){var r=n(17),i=n(98);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r)()(!1);i.push([e.i,".widget-contents{\r\n    display: flex;\r\n    cursor: pointer;\r\n    flex-direction: column;\r\n}\r\n\r\n.widget-content{\r\n    margin: 5px;\r\n    display: flex;\r\n    padding: 5px;\r\n    border-bottom: 1px solid lightgray;\r\n}\r\n\r\n.widget-content > img{\r\n    height: 30px;\r\n    width: 30px;\r\n    border-radius: 5px;\r\n}\r\n\r\n.widget-contentTitle{\r\n    margin-left: 10px;\r\n}\r\n\r\n.widget-contentTitle > h5{\r\n    color: rgb(70, 68, 68);\r\n}\r\n\r\n.widget-contentTitle > p{\r\n    color: gray;\r\n    font-size: small;\r\n}",""]),t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),o=n(20),s=n.n(o),a=n(34),c=n(42);let l=function(e){e()};const u=Object(r.createContext)(null);function h(){return Object(r.useContext)(u)}const d=()=>{throw new Error("uSES not initialized!")};let f=d;const p=(e,t)=>e===t;function m(e=u){const t=e===u?h:()=>Object(r.useContext)(e);return function(e,n=p){const{store:i,subscription:o,getServerState:s}=t(),a=f(o.addNestedSub,i.getState,s||i.getState,e,n);return Object(r.useDebugValue)(a),a}}const g=m();function y(){return(y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var b=n(23),w=n.n(b);n(43);function _(){const e=l;let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let e=t;for(;e;)e.callback(),e=e.next})},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}const E={notify(){},get:()=>[]};function T(e,t){let n,r=E;function i(){s.onStateChange&&s.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=_())}const s={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=E)},getListeners:()=>r};return s}const S=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?r.useLayoutEffect:r.useEffect;let I=d;var k=function({store:e,context:t,children:n,serverState:o}){const s=Object(r.useMemo)(()=>{const t=T(e);return{store:e,subscription:t,getServerState:o?()=>o:void 0}},[e,o]),a=Object(r.useMemo)(()=>e.getState(),[e]);S(()=>{const{subscription:t}=s;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),a!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}},[s,a]);const c=t||u;return i.a.createElement(c.Provider,{value:s},n)};function A(e=u){const t=e===u?h:()=>Object(r.useContext)(e);return function(){const{store:e}=t();return e}}const C=A();function x(e=u){const t=e===u?C:A(e);return function(){return t().dispatch}}const O=x();var N,R;N=c.useSyncExternalStoreWithSelector,f=N,(e=>{I=e})(a.useSyncExternalStore),R=o.unstable_batchedUpdates,l=R;n(61);var P=n(22),D=Object(P.b)({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),M=D.actions,j=M.login,L=M.logout,F=function(e){return e.user.user},U=D.reducer,B=n(16),q=n.n(B);function V(e,t){if(null==e)return{};var n,r,i=v(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n(15);function z(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=z(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var W=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=z(e))&&(r&&(r+=" "),r+=t);return r},H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K="object"===("undefined"==typeof window?"undefined":H(window))&&"object"===("undefined"==typeof document?"undefined":H(document))&&9===document.nodeType;var G=n(32);function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Object(G.a)(r.key),r)}}function J(e,t,n){return t&&Q(e.prototype,t),n&&Q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Y=n(46);function X(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(Y.a)(e,t)}var Z=n(24),$={}.constructor;function ee(e){if(null==e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(ee);if(e.constructor!==$)return e;var t={};for(var n in e)t[n]=ee(e[n]);return t}function te(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=ee(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var ne=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},re=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=ne(e[n]," ");else t=ne(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function ie(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function oe(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function se(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,s=t.fallbacks;!1===n.format&&(o=-1/0);var a=ie(n),c=a.linebreak,l=a.space;if(e&&o++,s)if(Array.isArray(s))for(var u=0;u<s.length;u++){var h=s[u];for(var d in h){var f=h[d];null!=f&&(r&&(r+=c),r+=oe(d+":"+l+re(f)+";",o))}}else for(var p in s){var m=s[p];null!=m&&(r&&(r+=c),r+=oe(p+":"+l+re(m)+";",o))}for(var g in t){var y=t[g];null!=y&&"fallbacks"!==g&&(r&&(r+=c),r+=oe(g+":"+l+re(y)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r=""+c+r+c),oe(""+e+l+"{"+r,--o)+oe("}",o)):r}var ae=/([[\].#*$><+~=|^:(),"'`\s])/g,ce="undefined"!=typeof CSS&&CSS.escape,le=function(e){return ce?ce(e):e.replace(ae,"\\$1")},ue=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,s=e in this.style;if(o&&!s&&!r)return this;var a=o&&s;if(a?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return a?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var c=this.options.sheet;return c&&c.attached,this},e}(),he=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=r.selector,s=r.scoped,a=r.sheet,c=r.generateId;return o?i.selectorText=o:!1!==s&&(i.id=c(Object(Z.a)(Object(Z.a)(i)),a),i.selectorText="."+le(i.id)),i}X(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!=typeof n?e[t]=n:Array.isArray(n)&&(e[t]=re(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?y({},e,{allowEmpty:!0}):e;return se(this.selectorText,this.style,n)},J(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(ue),de={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new he(e,t,n)}},fe={indent:1,children:!0},pe=/@([\w-]+)/,me=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(pe);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new Fe(y({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=fe);var t=ie(e).linebreak;if(null==e.indent&&(e.indent=fe.indent),null==e.children&&(e.children=fe.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),ge=/@container|@media|@supports\s+/,ye={onCreateRule:function(e,t,n){return ge.test(e)?new me(e,t,n):null}},ve={indent:1,children:!0},be=/@keyframes\s+([\w-]+)/,we=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(be);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,o=n.sheet,s=n.generateId;for(var a in this.id=!1===i?this.name:le(s(this,o)),this.rules=new Fe(y({},n,{parent:this})),t)this.rules.add(a,t[a],y({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=ve);var t=ie(e).linebreak;if(null==e.indent&&(e.indent=ve.indent),null==e.children&&(e.children=ve.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),_e=/@keyframes\s+/,Ee=/\$([\w-]+)/g,Te=function(e,t){return"string"==typeof e?e.replace(Ee,(function(e,n){return n in t?t[n]:e})):e},Se=function(e,t,n){var r=e[t],i=Te(r,n);i!==r&&(e[t]=i)},Ie={onCreateRule:function(e,t,n){return"string"==typeof e&&_e.test(e)?new we(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&Se(e,"animation-name",n.keyframes),"animation"in e&&Se(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return Te(e,r.keyframes);default:return e}}},ke=function(e){function t(){return e.apply(this,arguments)||this}return X(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?y({},e,{allowEmpty:!0}):e;return se(this.key,this.style,n)},t}(ue),Ae={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new ke(e,t,n):null}},Ce=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=ie(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=se(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return se(this.at,this.style,e)},e}(),xe=/@font-face/,Oe={onCreateRule:function(e,t,n){return xe.test(e)?new Ce(e,t,n):null}},Ne=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return se(this.key,this.style,e)},e}(),Re={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new Ne(e,t,n):null}},Pe=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),De={"@charset":!0,"@import":!0,"@namespace":!0},Me=[de,ye,Ie,Ae,Oe,Re,{onCreateRule:function(e,t,n){return e in De?new Pe(e,t,n):null}}],je={process:!0},Le={force:!0,process:!0},Fe=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,o=r.sheet,s=r.jss,a=r.Renderer,c=r.generateId,l=r.scoped,u=y({classes:this.classes,parent:i,sheet:o,jss:s,Renderer:a,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(u.selector="."+le(this.classes[h]));var d=te(h,t,u);if(!d)return null;this.register(d);var f=void 0===u.index?this.index.length:u.index;return this.index.splice(f,0,d),d},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var o=n;return-1!==i&&(o=y({},n,{index:i})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof he?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof we&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof he?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof we&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=je);var i=this.options,o=i.jss.plugins,s=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var a=t.style;if(o.onUpdate(n,t,s,r),r.process&&a&&a!==t.style){for(var c in o.onProcessStyle(t.style,t,s),t.style){var l=t.style[c];l!==a[c]&&t.prop(c,l,Le)}for(var u in a){var h=t.style[u],d=a[u];null==h&&h!==d&&t.prop(u,null,Le)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=ie(e).linebreak,o=0;o<this.index.length;o++){var s=this.index[o].toString(e);(s||r)&&(t&&(t+=i),t+=s)}return t},e}(),Ue=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=y({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new Fe(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"==typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Be=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),qe=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=v(t,["attached"]),i=ie(r).linebreak,o="",s=0;s<this.registry.length;s++){var a=this.registry[s];null!=n&&a.attached!==n||(o&&(o+=i),o+=a.toString(r))}return o},J(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),Ve="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),ze="2f1acc6c3a606b082e5eef5e54414ffb";null==Ve[ze]&&(Ve[ze]=0);var We=Ve[ze]++,He=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+We+i+t:o+n.key+"-"+We+(i?"-"+i:"")+"-"+t}},Ke=function(e){var t;return function(){return t||(t=e()),t}},Ge=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(e){return""}},Qe=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=re(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,o=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,o,i>-1?"important":"")}}catch(e){return!1}return!0},Je=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(e){}},Ye=function(e,t){return e.selectorText=t,e.selectorText===t},Xe=Ke((function(){return document.querySelector("head")}));function Ze(e){var t=qe.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"==typeof r){var i=function(e){for(var t=Xe(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var $e=Ke((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),et=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(e){return!1}return e.cssRules[n]},tt=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},nt=function(){function e(e){this.getPropertyValue=Ge,this.setProperty=Qe,this.removeProperty=Je,this.setSelector=Ye,this.hasInsertedRules=!1,this.cssRules=[],e&&qe.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=$e();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=Ze(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"==typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else Xe().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=tt(n,t);if(!1===(i=et(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var s=e.toString();if(!s)return!1;var a=tt(n,t),c=et(n,s,a);return!1!==c&&(this.hasInsertedRules=!0,this.refCssRule(e,a,c),c)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Ue&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),rt=0,it=function(){function e(e){this.id=rt++,this.version="10.10.0",this.plugins=new Be,this.options={id:{minify:!1},createGenerateId:He,Renderer:K?nt:null,plugins:[]},this.generateId=He({minify:!1});for(var t=0;t<Me.length;t++)this.plugins.use(Me[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=y({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!=typeof n&&(n=0===qe.index?0:qe.index+1);var r=new Ue(e,y({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),qe.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"==typeof e)return this.createRule(void 0,e,t);var r=y({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=te(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),ot=function(e){return new it(e)},st="object"==typeof CSS&&null!=CSS&&"number"in CSS;
/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */
ot();function at(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=y({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var ct={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}};var lt=i.a.createContext(null);function ut(){return i.a.useContext(lt)}var ht="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",dt=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var ft=Date.now(),pt="fnValues"+ft,mt="fnStyle"+ ++ft,gt=function(){return{onCreateRule:function(e,t,n){if("function"!=typeof t)return null;var r=te(e,{},n);return r[mt]=t,r},onProcessStyle:function(e,t){if(pt in t||mt in t)return e;var n={};for(var r in e){var i=e[r];"function"==typeof i&&(delete e[r],n[r]=i)}return t[pt]=n,e},onUpdate:function(e,t,n,r){var i=t,o=i[mt];o&&(i.style=o(e)||{});var s=i[pt];if(s)for(var a in s)i.prop(a,s[a](e),r)}}},yt="@global",vt=function(){function e(e,t,n){for(var r in this.type="global",this.at=yt,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new Fe(y({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),bt=function(){function e(e,t,n){this.type="global",this.at=yt,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr("@global ".length);this.rule=n.jss.createRule(r,t,y({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),wt=/\s*,\s*/g;function _t(e,t){for(var n=e.split(wt),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Et=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===yt)return new vt(e,t,n);if("@"===e[0]&&"@global "===e.substr(0,"@global ".length))return new bt(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[yt]:null;if(i){for(var o in i)t.addRule(o,i[o],y({},n,{selector:_t(o,e.selector)}));delete r[yt]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,yt.length)===yt){var o=_t(i.substr(yt.length),e.selector);t.addRule(o,r[i],y({},n,{selector:o})),delete r[i]}}(e,t))}}},Tt=/\s*,\s*/g,St=/&/g,It=/\$([\w-]+)/g;var kt=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Tt),r=e.split(Tt),i="",o=0;o<n.length;o++)for(var s=n[o],a=0;a<r.length;a++){var c=r[a];i&&(i+=", "),i+=-1!==c.indexOf("&")?c.replace(St,s):s+" "+c}return i}function n(e,t,n){if(n)return y({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=y({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,o){if("style"!==i.type)return r;var s,a,c=i,l=c.options.parent;for(var u in r){var h=-1!==u.indexOf("&"),d="@"===u[0];if(h||d){if(s=n(c,l,s),h){var f=t(u,c.selector);a||(a=e(l,o)),f=f.replace(It,a);var p=c.key+"-"+u;"replaceRule"in l?l.replaceRule(p,r[u],y({},s,{selector:f})):l.addRule(p,r[u],y({},s,{selector:f}))}else d&&l.addRule(u,{},s).addRule(c.key,r[u],{selector:c.selector});delete r[u]}}return r}}},At=/[A-Z]/g,Ct=/^ms-/,xt={};function Ot(e){return"-"+e.toLowerCase()}var Nt=function(e){if(xt.hasOwnProperty(e))return xt[e];var t=e.replace(At,Ot);return xt[e]=Ct.test(t)?"-"+t:t};function Rt(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Nt(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Rt):t.fallbacks=Rt(e.fallbacks)),t}var Pt=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Rt(e[t]);return e}return Rt(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Nt(t);return t===r?e:(n.prop(r,e),null)}}},Dt=st&&CSS?CSS.px:"px",Mt=st&&CSS?CSS.ms:"ms",jt=st&&CSS?CSS.percent:"%";function Lt(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var Ft=Lt({"animation-delay":Mt,"animation-duration":Mt,"background-position":Dt,"background-position-x":Dt,"background-position-y":Dt,"background-size":Dt,border:Dt,"border-bottom":Dt,"border-bottom-left-radius":Dt,"border-bottom-right-radius":Dt,"border-bottom-width":Dt,"border-left":Dt,"border-left-width":Dt,"border-radius":Dt,"border-right":Dt,"border-right-width":Dt,"border-top":Dt,"border-top-left-radius":Dt,"border-top-right-radius":Dt,"border-top-width":Dt,"border-width":Dt,"border-block":Dt,"border-block-end":Dt,"border-block-end-width":Dt,"border-block-start":Dt,"border-block-start-width":Dt,"border-block-width":Dt,"border-inline":Dt,"border-inline-end":Dt,"border-inline-end-width":Dt,"border-inline-start":Dt,"border-inline-start-width":Dt,"border-inline-width":Dt,"border-start-start-radius":Dt,"border-start-end-radius":Dt,"border-end-start-radius":Dt,"border-end-end-radius":Dt,margin:Dt,"margin-bottom":Dt,"margin-left":Dt,"margin-right":Dt,"margin-top":Dt,"margin-block":Dt,"margin-block-end":Dt,"margin-block-start":Dt,"margin-inline":Dt,"margin-inline-end":Dt,"margin-inline-start":Dt,padding:Dt,"padding-bottom":Dt,"padding-left":Dt,"padding-right":Dt,"padding-top":Dt,"padding-block":Dt,"padding-block-end":Dt,"padding-block-start":Dt,"padding-inline":Dt,"padding-inline-end":Dt,"padding-inline-start":Dt,"mask-position-x":Dt,"mask-position-y":Dt,"mask-size":Dt,height:Dt,width:Dt,"min-height":Dt,"max-height":Dt,"min-width":Dt,"max-width":Dt,bottom:Dt,left:Dt,top:Dt,right:Dt,inset:Dt,"inset-block":Dt,"inset-block-end":Dt,"inset-block-start":Dt,"inset-inline":Dt,"inset-inline-end":Dt,"inset-inline-start":Dt,"box-shadow":Dt,"text-shadow":Dt,"column-gap":Dt,"column-rule":Dt,"column-rule-width":Dt,"column-width":Dt,"font-size":Dt,"font-size-delta":Dt,"letter-spacing":Dt,"text-decoration-thickness":Dt,"text-indent":Dt,"text-stroke":Dt,"text-stroke-width":Dt,"word-spacing":Dt,motion:Dt,"motion-offset":Dt,outline:Dt,"outline-offset":Dt,"outline-width":Dt,perspective:Dt,"perspective-origin-x":jt,"perspective-origin-y":jt,"transform-origin":jt,"transform-origin-x":jt,"transform-origin-y":jt,"transform-origin-z":jt,"transition-delay":Mt,"transition-duration":Mt,"vertical-align":Dt,"flex-basis":Dt,"shape-margin":Dt,size:Dt,gap:Dt,grid:Dt,"grid-gap":Dt,"row-gap":Dt,"grid-row-gap":Dt,"grid-column-gap":Dt,"grid-template-rows":Dt,"grid-template-columns":Dt,"grid-auto-rows":Dt,"grid-auto-columns":Dt,"box-shadow-x":Dt,"box-shadow-y":Dt,"box-shadow-blur":Dt,"box-shadow-spread":Dt,"font-line-height":Dt,"text-shadow-x":Dt,"text-shadow-y":Dt,"text-shadow-blur":Dt});function Ut(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=Ut(e,t[r],n);else if("object"==typeof t)if("fallbacks"===e)for(var i in t)t[i]=Ut(i,t[i],n);else for(var o in t)t[o]=Ut(e+"-"+o,t[o],n);else if("number"==typeof t&&!1===isNaN(t)){var s=n[e]||Ft[e];return!s||0===t&&s===Dt?t.toString():"function"==typeof s?s(t).toString():""+t+s}return t}var Bt=function(e){void 0===e&&(e={});var t=Lt(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=Ut(r,e[r],t);return e},onChangeValue:function(e,n){return Ut(n,e,t)}}},qt=n(25);var Vt=n(47),zt=n(30);function Wt(e){return function(e){if(Array.isArray(e))return Object(qt.a)(e)}(e)||Object(Vt.a)(e)||Object(zt.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ht="",Kt="",Gt="",Qt="",Jt=K&&"ontouchstart"in document.documentElement;if(K){var Yt={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Xt=document.createElement("p").style;for(var Zt in Yt)if(Zt+"Transform"in Xt){Ht=Zt,Kt=Yt[Zt];break}"Webkit"===Ht&&"msHyphens"in Xt&&(Ht="ms",Kt=Yt.ms,Qt="edge"),"Webkit"===Ht&&"-apple-trailing-word"in Xt&&(Gt="apple")}var $t=Ht,en=Kt,tn=Gt,nn=Qt,rn=Jt;var on={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===$t?"-webkit-"+e:en+e)}},sn={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===$t?en+"print-"+e:e)}},an=/[-\s]+(.)?/g;function cn(e,t){return t?t.toUpperCase():""}function ln(e){return e.replace(an,cn)}function un(e){return ln("-"+e)}var hn,dn={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===$t){if(ln("mask-image")in t)return e;if($t+un("mask-image")in t)return en+e}return e}},fn={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==tn||rn?e:en+e)}},pn={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:en+e)}},mn={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:en+e)}},gn={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===$t||"ms"===$t&&"edge"!==nn?en+e:e)}},yn={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===$t||"ms"===$t||"apple"===tn?en+e:e)}},vn={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===$t?"WebkitColumn"+un(e)in t&&en+"column-"+e:"Moz"===$t&&("page"+un(e)in t&&"page-"+e))}},bn={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===$t)return e;var n=e.replace("-inline","");return $t+un(n)in t&&en+n}},wn={supportedProperty:function(e,t){return ln(e)in t&&e}},_n={supportedProperty:function(e,t){var n=un(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:$t+n in t?en+e:"Webkit"!==$t&&"Webkit"+n in t&&"-webkit-"+e}},En={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===$t?""+en+e:e)}},Tn={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===$t?en+"scroll-chaining":e)}},Sn={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},In={supportedProperty:function(e,t){var n=Sn[e];return!!n&&($t+un(n)in t&&en+n)}},kn={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},An=Object.keys(kn),Cn=function(e){return en+e},xn=[on,sn,dn,fn,pn,mn,gn,yn,vn,bn,wn,_n,En,Tn,In,{supportedProperty:function(e,t,n){var r=n.multiple;if(An.indexOf(e)>-1){var i=kn[e];if(!Array.isArray(i))return $t+un(i)in t&&en+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!($t+un(i[0])in t))return!1;return i.map(Cn)}return!1}}],On=xn.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Nn=xn.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Wt(t.noPrefill)),e}),[]),Rn={};if(K){hn=document.createElement("p");var Pn=window.getComputedStyle(document.documentElement,"");for(var Dn in Pn)isNaN(Dn)||(Rn[Pn[Dn]]=Pn[Dn]);Nn.forEach((function(e){return delete Rn[e]}))}function Mn(e,t){if(void 0===t&&(t={}),!hn)return e;if(null!=Rn[e])return Rn[e];"transition"!==e&&"transform"!==e||(t[e]=e in hn.style);for(var n=0;n<On.length&&(Rn[e]=On[n](e,hn.style,t),!Rn[e]);n++);try{hn.style[e]=""}catch(e){return!1}return Rn[e]}var jn,Ln={},Fn={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Un=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Bn(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Mn(t):", "+Mn(n);return r||(t||n)}function qn(e,t){var n=t;if(!jn||"content"===e)return t;if("string"!=typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Ln[r])return Ln[r];try{jn.style[e]=n}catch(e){return Ln[r]=!1,!1}if(Fn[e])n=n.replace(Un,Bn);else if(""===jn.style[e]&&("-ms-flex"===(n=en+n)&&(jn.style[e]="-ms-flexbox"),jn.style[e]=n,""===jn.style[e]))return Ln[r]=!1,!1;return jn.style[e]="",Ln[r]=n,Ln[r]}K&&(jn=document.createElement("p"));var Vn=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,o=Mn(n);o&&o!==n&&(i=!0);var s=!1,a=qn(o,re(r));a&&a!==r&&(s=!0),(i||s)&&(i&&delete t[n],t[o||n]=a||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]||"ms"===$t?n:"@"+en+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return qn(t,re(e))||e}}};var zn=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}};function Wn(){return{plugins:[gt(),Et(),kt(),Pt(),Bt(),"undefined"==typeof window?null:Vn(),zn()]}}var Hn=ot(Wn()),Kn={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,o=e.seed,s=void 0===o?"":o,a=""===s?"":"".concat(s,"-"),c=0,l=function(){return c+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==dt.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(a).concat(r,"-").concat(e.key);return t.options.theme[ht]&&""===s?"".concat(o,"-").concat(l()):o}return"".concat(a).concat(i).concat(l())}}(),jss:Hn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},Gn=i.a.createContext(Kn);var Qn=-1e9;function Jn(){return Qn+=1}var Yn=n(18);function Xn(e){return e&&"object"===Object(Yn.a)(e)&&e.constructor===Object}function Zn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?y({},e):e;return Xn(e)&&Xn(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Xn(t[i])&&i in e?r[i]=Zn(e[i],t[i],n):r[i]=t[i])})),r}function $n(e){var t="function"==typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(e){throw e}if(!r||!n.overrides||!n.overrides[r])return i;var o=n.overrides[r],s=y({},i);return Object.keys(o).forEach((function(e){s[e]=Zn(s[e],o[e])})),s},options:{}}}var er={};function tr(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=at({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function nr(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,o=e.stylesCreator,s=e.name;if(!i.disableGeneration){var a=ct.get(i.sheetsManager,o,r);a||(a={refs:0,staticSheet:null,dynamicStyles:null},ct.set(i.sheetsManager,o,r,a));var c=y({},o.options,i,{theme:r,flip:"boolean"==typeof i.flip?i.flip:"rtl"===r.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=i.sheetsRegistry;if(0===a.refs){var u;i.sheetsCache&&(u=ct.get(i.sheetsCache,o,r));var h=o.create(r,s);u||((u=i.jss.createStyleSheet(h,y({link:!1},c))).attach(),i.sheetsCache&&ct.set(i.sheetsCache,o,r,u)),l&&l.add(u),a.staticSheet=u,a.dynamicStyles=function e(t){var n=null;for(var r in t){var i=t[r],o=typeof i;if("function"===o)n||(n={}),n[r]=i;else if("object"===o&&null!==i&&!Array.isArray(i)){var s=e(i);s&&(n||(n={}),n[r]=s)}}return n}(h)}if(a.dynamicStyles){var d=i.jss.createStyleSheet(a.dynamicStyles,y({link:!0},c));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=at({baseClasses:a.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=a.staticSheet.classes;a.refs+=1}}function rr(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function ir(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=ct.get(r.sheetsManager,i,n);o.refs-=1;var s=r.sheetsRegistry;0===o.refs&&(ct.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),s&&s.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),s&&s.remove(t.dynamicSheet))}}function or(e,t){var n,r=i.a.useRef([]),o=i.a.useMemo((function(){return{}}),t);r.current!==o&&(r.current=o,n=e()),i.a.useEffect((function(){return function(){n&&n()}}),[o])}function sr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=t.classNamePrefix,o=t.Component,s=t.defaultTheme,a=void 0===s?er:s,c=V(t,["name","classNamePrefix","Component","defaultTheme"]),l=$n(e),u=n||r||"makeStyles";l.options={index:Jn(),name:n,meta:u,classNamePrefix:u};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ut()||a,r=y({},i.a.useContext(Gn),c),s=i.a.useRef(),u=i.a.useRef();or((function(){var i={name:n,state:{},stylesCreator:l,stylesOptions:r,theme:t};return nr(i,e),u.current=!1,s.current=i,function(){ir(i)}}),[t,l]),i.a.useEffect((function(){u.current&&rr(s.current,e),u.current=!0}));var h=tr(s.current,e.classes,o);return h};return h}function ar(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,o=t.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r}var cr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=t.defaultTheme,o=t.withTheme,s=void 0!==o&&o,a=t.name,c=V(t,["defaultTheme","withTheme","name"]);var l=a,u=sr(e,y({defaultTheme:r,Component:n,name:a||n.displayName,classNamePrefix:l},c)),h=i.a.forwardRef((function(e,t){e.classes;var o,c=e.innerRef,l=V(e,["classes","innerRef"]),h=u(y({},n.defaultProps,e)),d=l;return("string"==typeof a||s)&&(o=ut()||r,a&&(d=ar({theme:o,name:a,props:l})),s&&!d.theme&&(d.theme=o)),i.a.createElement(n,y({ref:c||t,classes:h},d))}));return w()(h,n),h}},lr=n(21),ur=["xs","sm","md","lg","xl"];function hr(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,o=e.step,s=void 0===o?5:o,a=V(e,["values","unit","step"]);function c(e){var t="number"==typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function l(e,t){var r=ur.indexOf(t);return r===ur.length-1?c(e):"@media (min-width:".concat("number"==typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"==typeof n[ur[r+1]]?n[ur[r+1]]:t)-s/100).concat(i,")")}return y({keys:ur,values:n,up:c,down:function(e){var t=ur.indexOf(e)+1,r=n[ur[t]];return t===ur.length?c("xs"):"@media (max-width:".concat(("number"==typeof r&&t>0?r:e)-s/100).concat(i,")")},between:l,only:function(e){return l(e,e)},width:function(e){return n[e]}},a)}function dr(e,t,n){var r;return y({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),y({paddingLeft:t(2),paddingRight:t(2)},n,Object(lr.a)({},e.up("sm"),y({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},Object(lr.a)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(lr.a)(r,e.up("sm"),{minHeight:64}),r)},n)}function fr(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}var pr={black:"#000",white:"#fff"},mr={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},gr={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},yr={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},vr={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},br={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},wr={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},_r={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Er(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Tr(e){if(e.type)return e;if("#"===e.charAt(0))return Tr(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(fr(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function Sr(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function Ir(e){var t="hsl"===(e=Tr(e)).type?Tr(function(e){var t=(e=Tr(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)},a="rgb",c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),Sr({type:a,values:c})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function kr(e,t){return e=Tr(e),t=Er(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,Sr(e)}function Ar(e,t){if(e=Tr(e),t=Er(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Sr(e)}function Cr(e,t){if(e=Tr(e),t=Er(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Sr(e)}var xr={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:pr.white,default:mr[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Or={text:{primary:pr.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:mr[800],default:"#303030"},action:{active:pr.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Nr(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Cr(e.main,i):"dark"===t&&(e.dark=Ar(e.main,o)))}function Rr(e){var t=e.primary,n=void 0===t?{light:gr[300],main:gr[500],dark:gr[700]}:t,r=e.secondary,i=void 0===r?{light:yr.A200,main:yr.A400,dark:yr.A700}:r,o=e.error,s=void 0===o?{light:vr[300],main:vr[500],dark:vr[700]}:o,a=e.warning,c=void 0===a?{light:br[300],main:br[500],dark:br[700]}:a,l=e.info,u=void 0===l?{light:wr[300],main:wr[500],dark:wr[700]}:l,h=e.success,d=void 0===h?{light:_r[300],main:_r[500],dark:_r[700]}:h,f=e.type,p=void 0===f?"light":f,m=e.contrastThreshold,g=void 0===m?3:m,v=e.tonalOffset,b=void 0===v?.2:v,w=V(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function _(e){return function(e,t){var n=Ir(e),r=Ir(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Or.text.primary)>=g?Or.text.primary:xr.text.primary}var E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=y({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(fr(4,t));if("string"!=typeof e.main)throw new Error(fr(5,JSON.stringify(e.main)));return Nr(e,"light",n,b),Nr(e,"dark",r,b),e.contrastText||(e.contrastText=_(e.main)),e},T={dark:Or,light:xr};return Zn(y({common:pr,type:p,primary:E(n),secondary:E(i,"A400","A200","A700"),error:E(s),warning:E(c),info:E(u),success:E(d),grey:mr,contrastThreshold:g,getContrastText:_,augmentColor:E,tonalOffset:b},T[p]),w)}function Pr(e){return Math.round(1e5*e)/1e5}function Dr(e){return Pr(e)}var Mr={textTransform:"uppercase"};function jr(e,t){var n="function"==typeof t?t(e):t,r=n.fontFamily,i=void 0===r?'"Roboto", "Helvetica", "Arial", sans-serif':r,o=n.fontSize,s=void 0===o?14:o,a=n.fontWeightLight,c=void 0===a?300:a,l=n.fontWeightRegular,u=void 0===l?400:l,h=n.fontWeightMedium,d=void 0===h?500:h,f=n.fontWeightBold,p=void 0===f?700:f,m=n.htmlFontSize,g=void 0===m?16:m,v=n.allVariants,b=n.pxToRem,w=V(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var _=s/14,E=b||function(e){return"".concat(e/g*_,"rem")},T=function(e,t,n,r,o){return y({fontFamily:i,fontWeight:e,fontSize:E(t),lineHeight:n},'"Roboto", "Helvetica", "Arial", sans-serif'===i?{letterSpacing:"".concat(Pr(r/t),"em")}:{},o,v)},S={h1:T(c,96,1.167,-1.5),h2:T(c,60,1.2,-.5),h3:T(u,48,1.167,0),h4:T(u,34,1.235,.25),h5:T(u,24,1.334,0),h6:T(d,20,1.6,.15),subtitle1:T(u,16,1.75,.15),subtitle2:T(d,14,1.57,.1),body1:T(u,16,1.5,.15),body2:T(u,14,1.43,.15),button:T(d,14,1.75,.4,Mr),caption:T(u,12,1.66,.4),overline:T(u,12,2.66,1,Mr)};return Zn(y({htmlFontSize:g,pxToRem:E,round:Dr,fontFamily:i,fontSize:s,fontWeightLight:c,fontWeightRegular:u,fontWeightMedium:d,fontWeightBold:p},S),w,{clone:!1})}function Lr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Fr=["none",Lr(0,2,1,-1,0,1,1,0,0,1,3,0),Lr(0,3,1,-2,0,2,2,0,0,1,5,0),Lr(0,3,3,-2,0,3,4,0,0,1,8,0),Lr(0,2,4,-1,0,4,5,0,0,1,10,0),Lr(0,3,5,-1,0,5,8,0,0,1,14,0),Lr(0,3,5,-1,0,6,10,0,0,1,18,0),Lr(0,4,5,-2,0,7,10,1,0,2,16,1),Lr(0,5,5,-3,0,8,10,1,0,3,14,2),Lr(0,5,6,-3,0,9,12,1,0,3,16,2),Lr(0,6,6,-3,0,10,14,1,0,4,18,3),Lr(0,6,7,-4,0,11,15,1,0,4,20,3),Lr(0,7,8,-4,0,12,17,2,0,5,22,4),Lr(0,7,8,-4,0,13,19,2,0,5,24,4),Lr(0,7,9,-4,0,14,21,2,0,5,26,4),Lr(0,8,9,-5,0,15,22,2,0,6,28,5),Lr(0,8,10,-5,0,16,24,2,0,6,30,5),Lr(0,8,11,-5,0,17,26,2,0,6,32,5),Lr(0,9,11,-5,0,18,28,2,0,7,34,6),Lr(0,9,12,-6,0,19,29,2,0,7,36,6),Lr(0,10,13,-6,0,20,31,3,0,8,38,7),Lr(0,10,13,-6,0,21,33,3,0,8,40,7),Lr(0,10,14,-6,0,22,35,3,0,8,42,7),Lr(0,11,14,-7,0,23,36,3,0,9,44,8),Lr(0,11,15,-7,0,24,38,3,0,9,46,8)],Ur={borderRadius:4},Br=n(48);var qr=n(49);function Vr(e,t){return Object(Br.a)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||Object(zt.a)(e,t)||Object(qr.a)()}var zr=function(e,t){return t?Zn(e,t,{clone:!1}):e},Wr={xs:0,sm:600,md:960,lg:1280,xl:1920},Hr={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Wr[e],"px)")}};var Kr={m:"margin",p:"padding"},Gr={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Qr={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Jr=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!Qr[e])return[e];e=Qr[e]}var t=Vr(e.split(""),2),n=t[0],r=t[1],i=Kr[n],o=Gr[r]||"";return Array.isArray(o)?o.map((function(e){return i+e})):[i+o]})),Yr=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function Xr(e){var t=e.spacing||8;return"number"==typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"==typeof t?t:function(){}}function Zr(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"==typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"==typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function $r(e){var t=Xr(e.theme);return Object.keys(e).map((function(n){if(-1===Yr.indexOf(n))return null;var r=Zr(Jr(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||Hr;return t.reduce((function(e,i,o){return e[r.up(r.keys[o])]=n(t[o]),e}),{})}if("object"===Object(Yn.a)(t)){var i=e.theme.breakpoints||Hr;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(zr,{})}$r.propTypes={},$r.filterProps=Yr;function ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Xr({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"==typeof e)return e;var n=t(e);return"number"==typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var ti={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ni={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ri(e){return"".concat(Math.round(e),"ms")}var ii={easing:ti,duration:ni,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?ni.standard:n,i=t.easing,o=void 0===i?ti.easeInOut:i,s=t.delay,a=void 0===s?0:s;V(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof r?r:ri(r)," ").concat(o," ").concat("string"==typeof a?a:ri(a))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},oi={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function si(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,o=e.palette,s=void 0===o?{}:o,a=e.spacing,c=e.typography,l=void 0===c?{}:c,u=V(e,["breakpoints","mixins","palette","spacing","typography"]),h=Rr(s),d=hr(n),f=ei(a),p=Zn({breakpoints:d,direction:"ltr",mixins:dr(d,f,i),overrides:{},palette:h,props:{},shadows:Fr,typography:jr(h,l),spacing:f,shape:Ur,transitions:ii,zIndex:oi},u),m=arguments.length,g=new Array(m>1?m-1:0),y=1;y<m;y++)g[y-1]=arguments[y];return p=g.reduce((function(e,t){return Zn(e,t)}),p)}var ai=si();var ci=function(e,t){return cr(e,y({defaultTheme:ai},t))};function li(e){if("string"!=typeof e)throw new Error(fr(7));return e.charAt(0).toUpperCase()+e.slice(1)}var ui=r.forwardRef((function(e,t){var n=e.children,i=e.classes,o=e.className,s=e.color,a=void 0===s?"inherit":s,c=e.component,l=void 0===c?"svg":c,u=e.fontSize,h=void 0===u?"medium":u,d=e.htmlColor,f=e.titleAccess,p=e.viewBox,m=void 0===p?"0 0 24 24":p,g=V(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return r.createElement(l,y({className:W(i.root,o,"inherit"!==a&&i["color".concat(li(a))],"default"!==h&&"medium"!==h&&i["fontSize".concat(li(h))]),focusable:"false",viewBox:m,color:d,"aria-hidden":!f||void 0,role:f?"img":void 0,ref:t},g),n,f?r.createElement("title",null,f):null)}));ui.muiName="SvgIcon";var hi=ci((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(ui);function di(e,t){var n=function(t,n){return i.a.createElement(hi,y({ref:n},t),e)};return n.muiName=hi.muiName,i.a.memo(i.a.forwardRef(n))}var fi=di(r.createElement("path",{d:"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z"})),pi=n(8);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
pi.a.registerVersion("firebase","9.17.1","app-compat");n(38);var mi=n(4),gi=n(0),yi=n(6);
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function vi(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new mi.g("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){if("undefined"==typeof Uint8Array)throw new mi.g("unimplemented","Uint8Arrays are not available in this environment.")}function wi(){if(!Object(mi.r)())throw new mi.g("unimplemented","Blobs are unavailable in Firestore in this environment.")}class _i{constructor(e){this._delegate=e}static fromBase64String(e){return wi(),new _i(mi.b.fromBase64String(e))}static fromUint8Array(e){return bi(),new _i(mi.b.fromUint8Array(e))}toBase64(){return wi(),this._delegate.toBase64()}toUint8Array(){return bi(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,["next","error","complete"])}class Ti{enableIndexedDbPersistence(e,t){return Object(mi.F)(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return Object(mi.G)(e._delegate)}clearIndexedDbPersistence(e){return Object(mi.x)(e._delegate)}}class Si{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof mi.m||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Object(mi.s)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){Object(mi.A)(this._delegate,e,t,n)}enableNetwork(){return Object(mi.H)(this._delegate)}disableNetwork(){return Object(mi.D)(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Object(mi.t)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Object(mi.lb)(this._delegate)}onSnapshotsInSync(e){return Object(mi.Y)(this._delegate,e)}get app(){if(!this._appCompat)throw new mi.g("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Fi(this,Object(mi.y)(this._delegate,e))}catch(e){throw Oi(e,"collection()","Firestore.collection()")}}doc(e){try{return new xi(this,Object(mi.E)(this._delegate,e))}catch(e){throw Oi(e,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Mi(this,Object(mi.z)(this._delegate,e))}catch(e){throw Oi(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Object(mi.db)(this._delegate,t=>e(new ki(this,t)))}batch(){return Object(mi.K)(this._delegate),new Ai(new mi.l(this._delegate,e=>Object(mi.L)(this._delegate,e)))}loadBundle(e){return Object(mi.V)(this._delegate,e)}namedQuery(e){return Object(mi.W)(this._delegate,e).then(e=>e?new Mi(this,e):null)}}class Ii extends mi.a{constructor(e){super(),this.firestore=e}convertBytes(e){return new _i(new mi.b(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return xi.forKey(t,this.firestore,null)}}class ki{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ii(e)}get(e){const t=Ui(e);return this._delegate.get(t).then(e=>new Pi(this._firestore,new mi.e(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=Ui(e);return n?(vi("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Ui(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Ui(e);return this._delegate.delete(t),this}}class Ai{constructor(e){this._delegate=e}set(e,t,n){const r=Ui(e);return n?(vi("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Ui(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Ui(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ci{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new mi.i(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Di(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Ci.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Ci(e,new Ii(e),t),r.set(t,i)),i}}Ci.INSTANCES=new WeakMap;class xi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ii(e)}static forPath(e,t,n){if(e.length%2!=0)throw new mi.g("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new xi(t,new mi.d(t._delegate,n,new mi.n(e)))}static forKey(e,t,n){return new xi(t,new mi.d(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Fi(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Fi(this.firestore,Object(mi.y)(this._delegate,e))}catch(e){throw Oi(e,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Object(gi.z)(e))instanceof mi.d&&Object(mi.cb)(this._delegate,e)}set(e,t){t=vi("DocumentReference.set",t);try{return t?Object(mi.fb)(this._delegate,e,t):Object(mi.fb)(this._delegate,e)}catch(e){throw Oi(e,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?Object(mi.kb)(this._delegate,e):Object(mi.kb)(this._delegate,e,t,...n)}catch(e){throw Oi(e,"updateDoc()","DocumentReference.update()")}}delete(){return Object(mi.B)(this._delegate)}onSnapshot(...e){const t=Ni(e),n=Ri(e,e=>new Pi(this.firestore,new mi.e(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return Object(mi.X)(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?Object(mi.N)(this._delegate):"server"===(null==e?void 0:e.source)?Object(mi.O)(this._delegate):Object(mi.M)(this._delegate),t.then(e=>new Pi(this.firestore,new mi.e(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new xi(this.firestore,e?this._delegate.withConverter(Ci.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Oi(e,t,n){return e.message=e.message.replace(t,n),e}function Ni(e){for(const t of e)if("object"==typeof t&&!Ei(t))return t;return{}}function Ri(e,t){var n,r;let i;return i=Ei(e[0])?e[0]:Ei(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Pi{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new xi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Object(mi.hb)(this._delegate,e._delegate)}}class Di extends Pi{data(e){const t=this._delegate.data(e);return Object(mi.q)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}class Mi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ii(e)}where(e,t,n){try{return new Mi(this.firestore,Object(mi.ab)(this._delegate,Object(mi.mb)(e,t,n)))}catch(e){throw Oi(e,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Mi(this.firestore,Object(mi.ab)(this._delegate,Object(mi.Z)(e,t)))}catch(e){throw Oi(e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Mi(this.firestore,Object(mi.ab)(this._delegate,Object(mi.T)(e)))}catch(e){throw Oi(e,"limit()","Query.limit()")}}limitToLast(e){try{return new Mi(this.firestore,Object(mi.ab)(this._delegate,Object(mi.U)(e)))}catch(e){throw Oi(e,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Mi(this.firestore,Object(mi.ab)(this._delegate,Object(mi.jb)(...e)))}catch(e){throw Oi(e,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Mi(this.firestore,Object(mi.ab)(this._delegate,Object(mi.ib)(...e)))}catch(e){throw Oi(e,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Mi(this.firestore,Object(mi.ab)(this._delegate,Object(mi.J)(...e)))}catch(e){throw Oi(e,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Mi(this.firestore,Object(mi.ab)(this._delegate,Object(mi.I)(...e)))}catch(e){throw Oi(e,"endAt()","Query.endAt()")}}isEqual(e){return Object(mi.bb)(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?Object(mi.Q)(this._delegate):"server"===(null==e?void 0:e.source)?Object(mi.R)(this._delegate):Object(mi.P)(this._delegate),t.then(e=>new Li(this.firestore,new mi.j(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=Ni(e),n=Ri(e,e=>new Li(this.firestore,new mi.j(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return Object(mi.X)(this._delegate,t,n)}withConverter(e){return new Mi(this.firestore,e?this._delegate.withConverter(Ci.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class ji{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Di(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Li{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Mi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Di(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new ji(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new Di(this._firestore,n))})}isEqual(e){return Object(mi.hb)(this._delegate,e._delegate)}}class Fi extends Mi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new xi(this.firestore,e):null}doc(e){try{return new xi(this.firestore,void 0===e?Object(mi.E)(this._delegate):Object(mi.E)(this._delegate,e))}catch(e){throw Oi(e,"doc()","CollectionReference.doc()")}}add(e){return Object(mi.u)(this._delegate,e).then(e=>new xi(this.firestore,e))}isEqual(e){return Object(mi.cb)(this._delegate,e._delegate)}withConverter(e){return new Fi(this.firestore,e?this._delegate.withConverter(Ci.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ui(e){return Object(mi.p)(e,mi.d)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(...e){this._delegate=new mi.f(...e)}static documentId(){return new Bi(mi.o.keyField().canonicalString())}isEqual(e){return(e=Object(gi.z)(e))instanceof mi.f&&this._delegate._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this._delegate=e}static serverTimestamp(){const e=Object(mi.eb)();return e._methodName="FieldValue.serverTimestamp",new qi(e)}static delete(){const e=Object(mi.C)();return e._methodName="FieldValue.delete",new qi(e)}static arrayUnion(...e){const t=Object(mi.w)(...e);return t._methodName="FieldValue.arrayUnion",new qi(t)}static arrayRemove(...e){const t=Object(mi.v)(...e);return t._methodName="FieldValue.arrayRemove",new qi(t)}static increment(e){const t=Object(mi.S)(e);return t._methodName="FieldValue.increment",new qi(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi={Firestore:Si,GeoPoint:mi.h,Timestamp:mi.k,Blob:_i,Transaction:ki,WriteBatch:Ai,DocumentReference:xi,DocumentSnapshot:Pi,Query:Mi,QueryDocumentSnapshot:Di,QuerySnapshot:Li,CollectionReference:Fi,FieldPath:Bi,FieldValue:qi,setLogLevel:function(e){Object(mi.gb)(e)},CACHE_SIZE_UNLIMITED:mi.c};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var zi,Wi;zi=pi.a,Wi=(e,t)=>new Si(e,t,new Ti),zi.INTERNAL.registerComponent(new yi.a("firestore-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate();return Wi(t,n)},"PUBLIC").setServiceProps(Object.assign({},Vi))),zi.registerVersion("@firebase/firestore-compat","0.3.3");var Hi=pi.a.initializeApp({apiKey:"AIzaSyDdXYnqQClSzQhigrV8-VVNIcasCIk1Zb8",authDomain:"quora-clone-cd6d6.firebaseapp.com",projectId:"quora-clone-cd6d6",storageBucket:"quora-clone-cd6d6.appspot.com",messagingSenderId:"801743960455",appId:"1:801743960455:web:f8d6f21b81a4d44c5bbb22",measurementId:"G-TE2JPYNVT1"}),Ki=pi.a.auth(),Gi=new pi.a.auth.GoogleAuthProvider,Qi=Hi.firestore();n(68);var Ji=function(){var e=Object(r.useState)(""),t=q()(e,2),n=t[0],o=t[1],s=Object(r.useState)(""),a=q()(s,2),c=a[0],l=a[1];return i.a.createElement("div",{className:"login"},i.a.createElement("div",{className:"login__container"},i.a.createElement("div",{className:"login__logo"},i.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Quora_logo_2015.svg/250px-Quora_logo_2015.svg.png",alt:""})),i.a.createElement("div",{className:"login__desc"},i.a.createElement("p",null,"A Place to Share knowledge and better understand the world"),i.a.createElement("p",{style:{color:"royalblue",fontSize:"25px"}},"HandCrafted with ❤️ by"," "),i.a.createElement("h3",null,"Saurabh Gawande")),i.a.createElement("div",{className:"login__auth"},i.a.createElement("div",{className:"login__authOptions"},i.a.createElement("div",{className:"login__authOption"},i.a.createElement("img",{className:"login__googleAuth",src:"https://media-public.canva.com/MADnBiAubGA/3/screen.svg",alt:""}),i.a.createElement("p",{onClick:function(){Ki.signInWithPopup(Gi).catch((function(e){alert(e.message)})),console.log(Ki)}},"Continue With Google")),i.a.createElement("div",{className:"login__authOption"},i.a.createElement("img",{className:"login__googleAuth",src:"https://1000logos.net/wp-content/uploads/2016/11/Facebook-logo-500x350.png",alt:""}),i.a.createElement("span",null,"Continue With Facebook")),i.a.createElement("div",{className:"login__authDesc"},i.a.createElement("p",null,i.a.createElement("span",{style:{color:"blue",cursor:"pointer"}},"Sign Up With Email"),". By continuing you indicate that you have read and agree to Quora's",i.a.createElement("span",{style:{color:"blue",cursor:"pointer"}},"Terms of Service"," "),"and"," ",i.a.createElement("span",{style:{color:"blue",cursor:"pointer"}},"Privacy Policy"),"."))),i.a.createElement("div",{className:"login__emailPass"},i.a.createElement("div",{className:"login__label"},i.a.createElement("h4",null,"Login")),i.a.createElement("div",{className:"login__inputFields"},i.a.createElement("div",{className:"login__inputField"},i.a.createElement("input",{value:n,onChange:function(e){return o(e.target.value)},type:"text",placeholder:"Email"})),i.a.createElement("div",{className:"login__inputField"},i.a.createElement("input",{value:c,onChange:function(e){return l(e.target.value)},type:"password",placeholder:"Password"}))),i.a.createElement("div",{className:"login__forgButt"},i.a.createElement("small",null,"Forgot Password?"),i.a.createElement("button",{onClick:function(e){e.preventDefault(),Ki.signInWithEmailAndPassword(n,c).then((function(e){console.log(e)})).catch((function(e){alert(e.message)}))}},"Login")),i.a.createElement("button",{onClick:function(e){e.preventDefault(),Ki.createUserWithEmailAndPassword(n,c).then((function(e){e&&console.log(e)})).catch((function(e){return alert(e.message)}))}},"Register"))),i.a.createElement("div",{className:"login__lang"},i.a.createElement("p",null,"हिन्दी"),i.a.createElement(fi,{fontSize:"small"})),i.a.createElement("div",{className:"login__footer"},i.a.createElement("p",null,"About"),i.a.createElement("p",null,"Languages"),i.a.createElement("p",null,"Careers"),i.a.createElement("p",null,"Businesses"),i.a.createElement("p",null,"Privacy"),i.a.createElement("p",null,"Terms"),i.a.createElement("p",null,"Contact"),i.a.createElement("p",null,"© Quora Fake Inc. 2021"))))},Yi=(n(72),n(74),di(r.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})));var Xi=r.forwardRef((function(e,t){var n=e.alt,i=e.children,o=e.classes,s=e.className,a=e.component,c=void 0===a?"div":a,l=e.imgProps,u=e.sizes,h=e.src,d=e.srcSet,f=e.variant,p=void 0===f?"circular":f,m=V(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),g=null,v=function(e){var t=e.src,n=e.srcSet,i=r.useState(!1),o=i[0],s=i[1];return r.useEffect((function(){if(t||n){s(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=n,r.onload=function(){e&&s("loaded")},r.onerror=function(){e&&s("error")},function(){e=!1}}}),[t,n]),o}({src:h,srcSet:d}),b=h||d,w=b&&"error"!==v;return g=w?r.createElement("img",y({alt:n,src:h,srcSet:d,sizes:u,className:o.img},l)):null!=i?i:b&&n?n[0]:r.createElement(Yi,{className:o.fallback}),r.createElement(c,y({className:W(o.root,o.system,o[p],s,!w&&o.colorDefault),ref:t},m),g)})),Zi=ci((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(Xi),$i=di(r.createElement("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"})),eo=di(r.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"})),to=di(r.createElement("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"})),no=di(r.createElement("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"})),ro=di(r.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92zM18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"})),io=di(r.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),oo=(n(76),n(31)),so=n.n(oo);var ao=function(e){var t=e.Id,n=e.question,o=e.imageUrl,s=e.timestamp,a=e.users,c=Object(r.useState)(!1),l=q()(c,2),u=l[0],h=l[1],d=g(F),f=Object(r.useState)(""),p=q()(f,2),m=p[0],y=p[1],v=Object(r.useState)([]),b=q()(v,2),w=b[0],_=b[1];console.log(d);var E=O();return Object(r.useEffect)((function(){t&&Qi.collection("questions").doc(t).collection("answer").orderBy("timestamp","desc").onSnapshot((function(e){return _(e.docs.map((function(e){return{id:e.id,answers:e.data()}})))}))}),[t]),console.log(m),i.a.createElement("div",{className:"post"},i.a.createElement("div",{className:"post-info",onClick:function(){return E(setQuestionInfo({questionId:t,questionName:n}))}},i.a.createElement(Zi,{src:a.photo}),i.a.createElement("h5",null,a.displayName?a.displayName:a.email),"                                             ",i.a.createElement("small",null,new Date(null==s?void 0:s.toDate()).toLocaleString())),i.a.createElement("div",{className:"post-body"},i.a.createElement("div",{className:"post-ques"},i.a.createElement("p",null,n),i.a.createElement("button",{className:"post-btn",onClick:function(){return h(!0)}},"Answer")),i.a.createElement(so.a,{ariaHideApp:!1,isOpen:u,onRequestClose:function(){return h(!1)},shouldCloseOnOverlayClick:!1,style:{overlay:{width:700,height:600,backgroundColor:"rgba(0,0,0,0.8)",zIndex:"1000",top:"50%",left:"50%",marginTop:"-300px",marginLeft:"-350px"}}},i.a.createElement("div",{className:"modal_question"},i.a.createElement("h1",null,n),i.a.createElement("p",null,"asked by ",i.a.createElement("span",{className:"name"},a.displayName),"","on ",i.a.createElement("span",{className:"name"},new Date(null==s?void 0:s.toDate()).toLocaleString()))),i.a.createElement("div",{className:"modal_answer"},i.a.createElement("textarea",{placeholder:"Enter your answer",type:"text",value:m,onChange:function(e){return y(e.target.value)}})),0===m.length?i.a.createElement("div",null,"plz type someting "):i.a.createElement("div",null),i.a.createElement("div",{className:"modal-button"},i.a.createElement("button",{onClick:function(){return h(!1)},className:"cancle"},"Cancle"),i.a.createElement("button",{type:"submit",className:"add",onClick:function(e){Qi.collection("questions").doc(t).collection("answer").add({user:d,answer:m,questionId:t,timestamp:pi.a.firestore.FieldValue.serverTimestamp()}),console.log(n),y(""),h(!1)}},"Add Answer"))),i.a.createElement("div",{className:"post-ans"},w.map((function(e){var n,r=e.id,o=e.answers;return i.a.createElement("p",{key:r,style:{position:"relative",paddingBottom:"5px",display:"flex"}},t===o.questionId?i.a.createElement("span",null,o.answer,i.a.createElement("span",{style:{position:"absolute",color:"gray",fontSize:"small",right:"0px"}},i.a.createElement("span",{style:{color:"#b92b27"}},o.user.displayName?o.user.displayName:o.user.email," ","on"," ",new Date(null===(n=o.timestamp)||void 0===n?void 0:n.toDate()).toLocaleString()))):"")}))),i.a.createElement("img",{src:o,alt:""})),i.a.createElement("div",{className:"post-footer"},i.a.createElement("div",{className:"post-footerAction"},i.a.createElement($i,null),i.a.createElement(eo,null)),i.a.createElement(to,null),i.a.createElement(no,null),i.a.createElement("div",{className:"post-footerLeft"},i.a.createElement(ro,null),i.a.createElement(io,null))))};n(87);var co=function(){var e=g(F);return i.a.createElement("div",{className:"quorabox"},i.a.createElement("div",{className:"quorabox-info"},i.a.createElement(Zi,{src:e.photo}),i.a.createElement("h5",null,e.displayName)),i.a.createElement("div",{className:"quorabox-quora"},i.a.createElement("p",null,"What is your question ?")))};var lo=function(){var e=Object(r.useState)([]),t=q()(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){Qi.collection("questions").orderBy("timestamp","desc").onSnapshot((function(e){return o(e.docs.map((function(e){return{id:e.id,questions:e.data()}})))}))}),[]),i.a.createElement("div",{className:"feed"},i.a.createElement(co,null),n.map((function(e){var t=e.id,n=e.questions;return i.a.createElement(ao,{key:t,Id:t,question:n.question,imageUrl:n.imgUrl,timestamp:n.timestamp,users:n.user})})))},uo=(n(89),di(r.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}))),ho=di(r.createElement("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14zM5 10h9v2H5zm0-3h9v2H5z"})),fo=di(r.createElement("path",{d:"M18 9l-1.41-1.42L10 14.17l-2.59-2.58L6 13l4 4zm1-6h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-.14 0-.27.01-.4.04-.39.08-.74.28-1.01.55-.18.18-.33.4-.43.64-.1.23-.16.49-.16.77v14c0 .27.06.54.16.78s.25.45.43.64c.27.27.62.47 1.01.55.13.02.26.03.4.03h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7-.25c.41 0 .75.34.75.75s-.34.75-.75.75-.75-.34-.75-.75.34-.75.75-.75zM19 19H5V5h14v14z"})),po=di(r.createElement("path",{d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87zM15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24zM9 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zM9 13c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4zm6 5H3v-.99C3.2 16.29 6.3 15 9 15s5.8 1.29 6 2v1z"})),mo=di(r.createElement("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"})),go=di(r.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})),yo=di(r.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"})),vo=di(r.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}));function bo(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function wo(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){bo(e,n),bo(t,n)}}),[e,t])}var _o="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function Eo(e){var t=r.useRef(e);return _o((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}var To=!0,So=!1,Io=null,ko={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Ao(e){e.metaKey||e.altKey||e.ctrlKey||(To=!0)}function Co(){To=!1}function xo(){"hidden"===this.visibilityState&&So&&(To=!0)}function Oo(e){var t,n,r,i=e.target;try{return i.matches(":focus-visible")}catch(e){}return To||(n=(t=i).type,!("INPUT"!==(r=t.tagName)||!ko[n]||t.readOnly)||"TEXTAREA"===r&&!t.readOnly||!!t.isContentEditable)}function No(){So=!0,window.clearTimeout(Io),Io=window.setTimeout((function(){So=!1}),100)}function Ro(){return{isFocusVisible:Oo,onBlurVisible:No,ref:r.useCallback((function(e){var t,n=o.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",Ao,!0),t.addEventListener("mousedown",Co,!0),t.addEventListener("pointerdown",Co,!0),t.addEventListener("touchstart",Co,!0),t.addEventListener("visibilitychange",xo,!0))}),[])}}var Po=i.a.createContext(null);function Do(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(r.isValidElement)(e)?t(e):e}(e)})),n}function Mo(e,t,n){return null!=n[t]?n[t]:e.props[t]}function jo(e,t,n){var i=Do(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var c in t){if(i[c])for(r=0;r<i[c].length;r++){var l=i[c][r];a[i[c][r]]=n(l)}a[c]=n(c)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(t,i);return Object.keys(o).forEach((function(s){var a=o[s];if(Object(r.isValidElement)(a)){var c=s in t,l=s in i,u=t[s],h=Object(r.isValidElement)(u)&&!u.props.in;!l||c&&!h?l||!c||h?l&&c&&Object(r.isValidElement)(u)&&(o[s]=Object(r.cloneElement)(a,{onExited:n.bind(null,a),in:u.props.in,exit:Mo(a,"exit",e),enter:Mo(a,"enter",e)})):o[s]=Object(r.cloneElement)(a,{in:!1}):o[s]=Object(r.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:Mo(a,"exit",e),enter:Mo(a,"enter",e)})}})),o}var Lo=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Fo=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Object(Z.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}X(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,i,o=t.children,s=t.handleExited;return{children:t.firstRender?(n=e,i=s,Do(n.children,(function(e){return Object(r.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:Mo(e,"appear",n),enter:Mo(e,"enter",n),exit:Mo(e,"exit",n)})}))):jo(e,o,s),firstRender:!1}},n.handleExited=function(e,t){var n=Do(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=y({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=v(e,["component","childFactory"]),o=this.state.contextValue,s=Lo(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.a.createElement(Po.Provider,{value:o},s):i.a.createElement(Po.Provider,{value:o},i.a.createElement(t,r,s))},t}(i.a.Component);Fo.propTypes={},Fo.defaultProps={component:"div",childFactory:function(e){return e}};var Uo=Fo,Bo="undefined"==typeof window?r.useEffect:r.useLayoutEffect;var qo=function(e){var t=e.classes,n=e.pulsate,i=void 0!==n&&n,o=e.rippleX,s=e.rippleY,a=e.rippleSize,c=e.in,l=e.onExited,u=void 0===l?function(){}:l,h=e.timeout,d=r.useState(!1),f=d[0],p=d[1],m=W(t.ripple,t.rippleVisible,i&&t.ripplePulsate),g={width:a,height:a,top:-a/2+s,left:-a/2+o},y=W(t.child,f&&t.childLeaving,i&&t.childPulsate),v=Eo(u);return Bo((function(){if(!c){p(!0);var e=setTimeout(v,h);return function(){clearTimeout(e)}}}),[v,c,h]),r.createElement("span",{className:m,style:g},r.createElement("span",{className:y}))},Vo=r.forwardRef((function(e,t){var n=e.center,i=void 0!==n&&n,o=e.classes,s=e.className,a=V(e,["center","classes","className"]),c=r.useState([]),l=c[0],u=c[1],h=r.useRef(0),d=r.useRef(null);r.useEffect((function(){d.current&&(d.current(),d.current=null)}),[l]);var f=r.useRef(!1),p=r.useRef(null),m=r.useRef(null),g=r.useRef(null);r.useEffect((function(){return function(){clearTimeout(p.current)}}),[]);var v=r.useCallback((function(e){var t=e.pulsate,n=e.rippleX,i=e.rippleY,s=e.rippleSize,a=e.cb;u((function(e){return[].concat(Wt(e),[r.createElement(qo,{key:h.current,classes:o,timeout:550,pulsate:t,rippleX:n,rippleY:i,rippleSize:s})])})),h.current+=1,d.current=a}),[o]),b=r.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,o=void 0!==r&&r,s=t.center,a=void 0===s?i||t.pulsate:s,c=t.fakeElement,l=void 0!==c&&c;if("mousedown"===e.type&&f.current)f.current=!1;else{"touchstart"===e.type&&(f.current=!0);var u,h,d,y=l?null:g.current,b=y?y.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(a||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(b.width/2),h=Math.round(b.height/2);else{var w=e.touches?e.touches[0]:e,_=w.clientX,E=w.clientY;u=Math.round(_-b.left),h=Math.round(E-b.top)}if(a)(d=Math.sqrt((2*Math.pow(b.width,2)+Math.pow(b.height,2))/3))%2==0&&(d+=1);else{var T=2*Math.max(Math.abs((y?y.clientWidth:0)-u),u)+2,S=2*Math.max(Math.abs((y?y.clientHeight:0)-h),h)+2;d=Math.sqrt(Math.pow(T,2)+Math.pow(S,2))}e.touches?null===m.current&&(m.current=function(){v({pulsate:o,rippleX:u,rippleY:h,rippleSize:d,cb:n})},p.current=setTimeout((function(){m.current&&(m.current(),m.current=null)}),80)):v({pulsate:o,rippleX:u,rippleY:h,rippleSize:d,cb:n})}}),[i,v]),w=r.useCallback((function(){b({},{pulsate:!0})}),[b]),_=r.useCallback((function(e,t){if(clearTimeout(p.current),"touchend"===e.type&&m.current)return e.persist(),m.current(),m.current=null,void(p.current=setTimeout((function(){_(e,t)})));m.current=null,u((function(e){return e.length>0?e.slice(1):e})),d.current=t}),[]);return r.useImperativeHandle(t,(function(){return{pulsate:w,start:b,stop:_}}),[w,b,_]),r.createElement("span",y({className:W(o.root,s),ref:g},a),r.createElement(Uo,{component:null,exit:!0},l))})),zo=ci((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(r.memo(Vo)),Wo=r.forwardRef((function(e,t){var n=e.action,i=e.buttonRef,s=e.centerRipple,a=void 0!==s&&s,c=e.children,l=e.classes,u=e.className,h=e.component,d=void 0===h?"button":h,f=e.disabled,p=void 0!==f&&f,m=e.disableRipple,g=void 0!==m&&m,v=e.disableTouchRipple,b=void 0!==v&&v,w=e.focusRipple,_=void 0!==w&&w,E=e.focusVisibleClassName,T=e.onBlur,S=e.onClick,I=e.onFocus,k=e.onFocusVisible,A=e.onKeyDown,C=e.onKeyUp,x=e.onMouseDown,O=e.onMouseLeave,N=e.onMouseUp,R=e.onTouchEnd,P=e.onTouchMove,D=e.onTouchStart,M=e.onDragLeave,j=e.tabIndex,L=void 0===j?0:j,F=e.TouchRippleProps,U=e.type,B=void 0===U?"button":U,q=V(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),z=r.useRef(null);var H=r.useRef(null),K=r.useState(!1),G=K[0],Q=K[1];p&&G&&Q(!1);var J=Ro(),Y=J.isFocusVisible,X=J.onBlurVisible,Z=J.ref;function $(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;return Eo((function(r){return t&&t(r),!n&&H.current&&H.current[e](r),!0}))}r.useImperativeHandle(n,(function(){return{focusVisible:function(){Q(!0),z.current.focus()}}}),[]),r.useEffect((function(){G&&_&&!g&&H.current.pulsate()}),[g,_,G]);var ee=$("start",x),te=$("stop",M),ne=$("stop",N),re=$("stop",(function(e){G&&e.preventDefault(),O&&O(e)})),ie=$("start",D),oe=$("stop",R),se=$("stop",P),ae=$("stop",(function(e){G&&(X(e),Q(!1)),T&&T(e)}),!1),ce=Eo((function(e){z.current||(z.current=e.currentTarget),Y(e)&&(Q(!0),k&&k(e)),I&&I(e)})),le=function(){var e=o.findDOMNode(z.current);return d&&"button"!==d&&!("A"===e.tagName&&e.href)},ue=r.useRef(!1),he=Eo((function(e){_&&!ue.current&&G&&H.current&&" "===e.key&&(ue.current=!0,e.persist(),H.current.stop(e,(function(){H.current.start(e)}))),e.target===e.currentTarget&&le()&&" "===e.key&&e.preventDefault(),A&&A(e),e.target===e.currentTarget&&le()&&"Enter"===e.key&&!p&&(e.preventDefault(),S&&S(e))})),de=Eo((function(e){_&&" "===e.key&&H.current&&G&&!e.defaultPrevented&&(ue.current=!1,e.persist(),H.current.stop(e,(function(){H.current.pulsate(e)}))),C&&C(e),S&&e.target===e.currentTarget&&le()&&" "===e.key&&!e.defaultPrevented&&S(e)})),fe=d;"button"===fe&&q.href&&(fe="a");var pe={};"button"===fe?(pe.type=B,pe.disabled=p):("a"===fe&&q.href||(pe.role="button"),pe["aria-disabled"]=p);var me=wo(i,t),ge=wo(Z,z),ye=wo(me,ge),ve=r.useState(!1),be=ve[0],we=ve[1];r.useEffect((function(){we(!0)}),[]);var _e=be&&!g&&!p;return r.createElement(fe,y({className:W(l.root,u,G&&[l.focusVisible,E],p&&l.disabled),onBlur:ae,onClick:S,onFocus:ce,onKeyDown:he,onKeyUp:de,onMouseDown:ee,onMouseLeave:re,onMouseUp:ne,onDragLeave:te,onTouchEnd:oe,onTouchMove:se,onTouchStart:ie,ref:ye,tabIndex:p?-1:L},pe,q),c,_e?r.createElement(zo,y({ref:H,center:a},F)):null)})),Ho=ci({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(Wo),Ko=r.forwardRef((function(e,t){var n=e.children,i=e.classes,o=e.className,s=e.color,a=void 0===s?"default":s,c=e.component,l=void 0===c?"button":c,u=e.disabled,h=void 0!==u&&u,d=e.disableElevation,f=void 0!==d&&d,p=e.disableFocusRipple,m=void 0!==p&&p,g=e.endIcon,v=e.focusVisibleClassName,b=e.fullWidth,w=void 0!==b&&b,_=e.size,E=void 0===_?"medium":_,T=e.startIcon,S=e.type,I=void 0===S?"button":S,k=e.variant,A=void 0===k?"text":k,C=V(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),x=T&&r.createElement("span",{className:W(i.startIcon,i["iconSize".concat(li(E))])},T),O=g&&r.createElement("span",{className:W(i.endIcon,i["iconSize".concat(li(E))])},g);return r.createElement(Ho,y({className:W(i.root,i[A],o,"inherit"===a?i.colorInherit:"default"!==a&&i["".concat(A).concat(li(a))],"medium"!==E&&[i["".concat(A,"Size").concat(li(E))],i["size".concat(li(E))]],f&&i.disableElevation,h&&i.disabled,w&&i.fullWidth),component:l,disabled:h,focusRipple:!m,focusVisibleClassName:W(i.focusVisible,v),ref:t,type:I},C),r.createElement("span",{className:i.label},x,n,O))})),Go=ci((function(e){return{root:y({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:kr(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:kr(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:kr(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(kr(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:kr(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(kr(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:kr(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(Ko);var Qo=r.createContext();var Jo=Qo;function Yo(e,t){return parseInt(e[t],10)||0}var Xo="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,Zo={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},$o=r.forwardRef((function(e,t){var n=e.onChange,i=e.rows,o=e.rowsMax,s=e.rowsMin,a=e.maxRows,c=e.minRows,l=void 0===c?1:c,u=e.style,h=e.value,d=V(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),f=a||o,p=i||s||l,m=r.useRef(null!=h).current,g=r.useRef(null),v=wo(t,g),b=r.useRef(null),w=r.useRef(0),_=r.useState({}),E=_[0],T=_[1],S=r.useCallback((function(){var t=g.current,n=window.getComputedStyle(t),r=b.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],o=Yo(n,"padding-bottom")+Yo(n,"padding-top"),s=Yo(n,"border-bottom-width")+Yo(n,"border-top-width"),a=r.scrollHeight-o;r.value="x";var c=r.scrollHeight-o,l=a;p&&(l=Math.max(Number(p)*c,l)),f&&(l=Math.min(Number(f)*c,l));var u=(l=Math.max(l,c))+("border-box"===i?o+s:0),h=Math.abs(l-a)<=1;T((function(e){return w.current<20&&(u>0&&Math.abs((e.outerHeightStyle||0)-u)>1||e.overflow!==h)?(w.current+=1,{overflow:h,outerHeightStyle:u}):e}))}),[f,p,e.placeholder]);r.useEffect((function(){var e=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=this,a=function(){e.apply(s,i)};clearTimeout(t),t=setTimeout(a,n)}return r.clear=function(){clearTimeout(t)},r}((function(){w.current=0,S()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[S]),Xo((function(){S()})),r.useEffect((function(){w.current=0}),[h]);return r.createElement(r.Fragment,null,r.createElement("textarea",y({value:h,onChange:function(e){w.current=0,m||S(),n&&n(e)},ref:v,rows:p,style:y({height:E.outerHeightStyle,overflow:E.overflow?"hidden":null},u)},d)),r.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:b,tabIndex:-1,style:y({},Zo,u)}))}));function es(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}var ts="undefined"==typeof window?r.useEffect:r.useLayoutEffect,ns=r.forwardRef((function(e,t){var n=e["aria-describedby"],i=e.autoComplete,o=e.autoFocus,s=e.classes,a=e.className,c=(e.color,e.defaultValue),l=e.disabled,u=e.endAdornment,h=(e.error,e.fullWidth),d=void 0!==h&&h,f=e.id,p=e.inputComponent,m=void 0===p?"input":p,g=e.inputProps,v=void 0===g?{}:g,b=e.inputRef,w=(e.margin,e.multiline),_=void 0!==w&&w,E=e.name,T=e.onBlur,S=e.onChange,I=e.onClick,k=e.onFocus,A=e.onKeyDown,C=e.onKeyUp,x=e.placeholder,O=e.readOnly,N=e.renderSuffix,R=e.rows,P=e.rowsMax,D=e.rowsMin,M=e.maxRows,j=e.minRows,L=e.startAdornment,F=e.type,U=void 0===F?"text":F,B=e.value,q=V(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),z=null!=v.value?v.value:B,H=r.useRef(null!=z).current,K=r.useRef(),G=r.useCallback((function(e){0}),[]),Q=wo(v.ref,G),J=wo(b,Q),Y=wo(K,J),X=r.useState(!1),Z=X[0],$=X[1],ee=r.useContext(Qo);var te=function(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&void 0===t[n]&&(e[n]=r[n]),e}),{})}({props:e,muiFormControl:ee,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});te.focused=ee?ee.focused:Z,r.useEffect((function(){!ee&&l&&Z&&($(!1),T&&T())}),[ee,l,Z,T]);var ne=ee&&ee.onFilled,re=ee&&ee.onEmpty,ie=r.useCallback((function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(es(e.value)&&""!==e.value||t&&es(e.defaultValue)&&""!==e.defaultValue)}(e)?re&&re():ne&&ne()}),[ne,re]);ts((function(){H&&ie({value:z})}),[z,ie,H]);r.useEffect((function(){ie(K.current)}),[]);var oe=m,se=y({},v,{ref:Y});"string"!=typeof oe?se=y({inputRef:Y,type:U},se,{ref:null}):_?!R||M||j||P||D?(se=y({minRows:R||j,rowsMax:P,maxRows:M},se),oe=$o):oe="textarea":se=y({type:U},se);return r.useEffect((function(){ee&&ee.setAdornedStart(Boolean(L))}),[ee,L]),r.createElement("div",y({className:W(s.root,s["color".concat(li(te.color||"primary"))],a,te.disabled&&s.disabled,te.error&&s.error,d&&s.fullWidth,te.focused&&s.focused,ee&&s.formControl,_&&s.multiline,L&&s.adornedStart,u&&s.adornedEnd,"dense"===te.margin&&s.marginDense),onClick:function(e){K.current&&e.currentTarget===e.target&&K.current.focus(),I&&I(e)},ref:t},q),L,r.createElement(Jo.Provider,{value:null},r.createElement(oe,y({"aria-invalid":te.error,"aria-describedby":n,autoComplete:i,autoFocus:o,defaultValue:c,disabled:te.disabled,id:f,onAnimationStart:function(e){ie("mui-auto-fill-cancel"===e.animationName?K.current:{value:"x"})},name:E,placeholder:x,readOnly:O,required:te.required,rows:R,value:z,onKeyDown:A,onKeyUp:C},se,{className:W(s.input,v.className,te.disabled&&s.disabled,_&&s.inputMultiline,te.hiddenLabel&&s.inputHiddenLabel,L&&s.inputAdornedStart,u&&s.inputAdornedEnd,"search"===U&&s.inputTypeSearch,"dense"===te.margin&&s.inputMarginDense),onBlur:function(e){T&&T(e),v.onBlur&&v.onBlur(e),ee&&ee.onBlur?ee.onBlur(e):$(!1)},onChange:function(e){if(!H){var t=e.target||K.current;if(null==t)throw new Error(fr(1));ie({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];v.onChange&&v.onChange.apply(v,[e].concat(r)),S&&S.apply(void 0,[e].concat(r))},onFocus:function(e){te.disabled?e.stopPropagation():(k&&k(e),v.onFocus&&v.onFocus(e),ee&&ee.onFocus?ee.onFocus(e):$(!0))}}))),u,N?N(y({},te,{startAdornment:L})):null)})),rs=ci((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:y({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(ns),is=r.forwardRef((function(e,t){var n=e.disableUnderline,i=e.classes,o=e.fullWidth,s=void 0!==o&&o,a=e.inputComponent,c=void 0===a?"input":a,l=e.multiline,u=void 0!==l&&l,h=e.type,d=void 0===h?"text":h,f=V(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return r.createElement(rs,y({classes:y({},i,{root:W(i.root,!n&&i.underline),underline:null}),fullWidth:s,inputComponent:c,multiline:u,ref:t,type:d},f))}));is.muiName="Input";var os=ci((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(is),ss=di(r.createElement("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"})),as=n(2),cs=n(7),ls=n(13);const us={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},hs=new gi.b("installations","Installations",us);function ds(e){return e instanceof gi.c&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function ps(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function ms(e,t){const n=(await t.json()).error;return hs.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function gs({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function ys(e,{refreshToken:t}){const n=gs(e);return n.append("Authorization",function(e){return"FIS_v2 "+e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)),n}async function vs(e){const t=await e();return t.status>=500&&t.status<600?e():t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function bs(e){return new Promise(t=>{setTimeout(t,e)})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ws=/^[cdef][\w-]{21}$/;function _s(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);return ws.test(t)?t:""}catch(e){return""}}function Es(e){return`${e.appName}!${e.appId}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new Map;function Ss(e,t){const n=Es(e);Is(n,t),function(e,t){const n=As();n&&n.postMessage({key:e,fid:t});Cs()}(n,t)}function Is(e,t){const n=Ts.get(e);if(n)for(const e of n)e(t)}let ks=null;function As(){return!ks&&"BroadcastChannel"in self&&(ks=new BroadcastChannel("[Firebase] FID Change"),ks.onmessage=e=>{Is(e.data.key,e.data.fid)}),ks}function Cs(){0===Ts.size&&ks&&(ks.close(),ks=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="firebase-installations-store";let Os=null;function Ns(){return Os||(Os=Object(ls.b)("firebase-installations-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(xs)}}})),Os}async function Rs(e,t){const n=Es(e),r=(await Ns()).transaction(xs,"readwrite"),i=r.objectStore(xs),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||Ss(e,t.fid),t}async function Ps(e){const t=Es(e),n=(await Ns()).transaction(xs,"readwrite");await n.objectStore(xs).delete(t),await n.done}async function Ds(e,t){const n=Es(e),r=(await Ns()).transaction(xs,"readwrite"),i=r.objectStore(xs),o=await i.get(n),s=t(o);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||o&&o.fid===s.fid||Ss(e,s.fid),s}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(e){let t;const n=await Ds(e.appConfig,n=>{const r=function(e){return Fs(e||{fid:_s(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){const e=Promise.reject(hs.create("app-offline"));return{installationEntry:t,registrationPromise:e}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=fs(e),i=gs(e),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:"w:0.6.3"},a={method:"POST",headers:i,body:JSON.stringify(s)},c=await vs(()=>fetch(r,a));if(c.ok){const e=await c.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:ps(e.authToken)}}throw await ms("Create Installation",c)}(e,t);return Rs(e.appConfig,n)}catch(n){throw ds(n)&&409===n.customData.serverCode?await Ps(e.appConfig):await Rs(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:js(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function js(e){let t=await Ls(e.appConfig);for(;1===t.registrationStatus;)await bs(100),t=await Ls(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Ms(e);return n||t}return t}function Ls(e){return Ds(e,e=>{if(!e)throw hs.create("installation-not-found");return Fs(e)})}function Fs(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}async function Us({appConfig:e,heartbeatServiceProvider:t},n){const r=function(e,{fid:t}){return`${fs(e)}/${t}/authTokens:generate`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,n),i=ys(e,n),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={installation:{sdkVersion:"w:0.6.3",appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},c=await vs(()=>fetch(r,a));if(c.ok){return ps(await c.json())}throw await ms("Generate Auth Token",c)}async function Bs(e,t=!1){let n;const r=await Ds(e.appConfig,r=>{if(!Vs(r))throw hs.create("not-registered");const i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}(i))return r;if(1===i.requestStatus)return n=async function(e,t){let n=await qs(e.appConfig);for(;1===n.authToken.requestStatus;)await bs(100),n=await qs(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Bs(e,t):r}(e,t),r;{if(!navigator.onLine)throw hs.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await Us(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Rs(e.appConfig,r),n}catch(n){if(!ds(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Rs(e.appConfig,n)}else await Ps(e.appConfig);throw n}}(e,t),t}});return n?await n:r.authToken}function qs(e){return Ds(e,e=>{if(!Vs(e))throw hs.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */})}function Vs(e){return void 0!==e&&2===e.registrationStatus}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function zs(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await Ms(e);t&&await t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n);return(await Bs(n,t)).token}function Ws(e){return hs.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=e=>{const t=e.getProvider("app").getImmediate();return{app:t,appConfig:
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){if(!e||!e.options)throw Ws("App Configuration");if(!e.name)throw Ws("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Ws(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),heartbeatServiceProvider:Object(as._getProvider)(t,"heartbeat"),_delete:()=>Promise.resolve()}},Ks=e=>{const t=e.getProvider("app").getImmediate(),n=Object(as._getProvider)(t,"installations").getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Ms(t);return r?r.catch(console.error):Bs(t).catch(console.error),n.fid}(n),getToken:e=>zs(n,e)}};Object(as._registerComponent)(new yi.a("installations",Hs,"PUBLIC")),Object(as._registerComponent)(new yi.a("installations-internal",Ks,"PRIVATE")),Object(as.registerVersion)("@firebase/installations","0.6.3"),Object(as.registerVersion)("@firebase/installations","0.6.3","esm2017");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Gs="https://www.googletagmanager.com/gtag/js",Qs=new cs.b("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Js(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Ys(e,t,n,r){return async function(i,o,s){try{"event"===i?await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Js(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(e){Qs.error(e)}}(e,t,n,o,s):"config"===i?await async function(e,t,n,r,i,o){const s=r[i];try{if(s)await t[s];else{const e=(await Js(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(e){Qs.error(e)}e("config",i,o)}(e,t,n,r,o,s):"consent"===i?e("consent","update",s):e("set",o)}catch(e){Qs.error(e)}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Xs={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},Zs=new gi.b("analytics","Analytics",Xs);const $s=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function ea(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function ta(e,t=$s,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Zs.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Zs.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new na;return setTimeout(async()=>{a.abort()},void 0!==n?n:6e4),async function e(t,{throttleEndTimeMillis:n,backoffCount:r},i,o=$s){var s;const{appId:a,measurementId:c}=t;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(Zs.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(i,n)}catch(e){if(c)return Qs.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+c+` provided in the "measurementId" field in the local Firebase config. [${null==e?void 0:e.message}]`),{appId:a,measurementId:c};throw e}try{const e=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:ea(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),s=await fetch(o,i);if(200!==s.status&&304!==s.status){let e="";try{const n=await s.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(e){}throw Zs.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(t);return o.deleteThrottleMetadata(a),e}catch(n){const l=n;if(!function(e){if(!(e instanceof gi.c&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(l)){if(o.deleteThrottleMetadata(a),c)return Qs.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+c+` provided in the "measurementId" field in the local Firebase config. [${null==l?void 0:l.message}]`),{appId:a,measurementId:c};throw n}const u=503===Number(null===(s=null==l?void 0:l.customData)||void 0===s?void 0:s.httpStatus)?Object(gi.l)(r,o.intervalMillis,30):Object(gi.l)(r,o.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:r+1};return o.setThrottleMetadata(a,h),Qs.debug(`Calling attemptFetch again in ${u} millis`),e(t,h,i,o)}}({appId:r,apiKey:i,measurementId:o},s,a,t)}class na{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ra,ia;function oa(e){ia=e}function sa(e){ra=e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aa(e,t,n,r,i,o,s){var a;const c=ta(e);c.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Qs.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>Qs.error(e)),t.push(c);const l=async function(){if(!Object(gi.G)())return Qs.warn(Zs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Object(gi.ab)()}catch(e){return Qs.warn(Zs.create("indexeddb-unavailable",{errorInfo:null==e?void 0:e.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,h]=await Promise.all([c,l]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Gs)&&n.src.includes(e))return n;return null})(o)||function(e,t){const n=document.createElement("script");n.src=`${Gs}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}(o,u.measurementId),ia&&(i("consent","default",ia),oa(void 0)),i("js",new Date);const d=null!==(a=null==s?void 0:s.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",u.measurementId,d),ra&&(i("set",ra),sa(void 0)),u.measurementId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.app=e}_delete(){return delete la[this.app.options.appId],Promise.resolve()}}let la={},ua=[];const ha={};let da,fa,pa="dataLayer",ma="gtag",ga=!1;function ya(e){if(ga)throw Zs.create("already-initialized");e.dataLayerName&&(pa=e.dataLayerName),e.gtagName&&(ma=e.gtagName)}function va(e,t,n){!function(){const e=[];if(Object(gi.D)()&&e.push("This is a browser extension environment."),Object(gi.e)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=Zs.create("invalid-analytics-context",{errorInfo:t});Qs.warn(n.message)}}();const r=e.options.appId;if(!r)throw Zs.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Zs.create("no-api-key");Qs.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=la[r])throw Zs.create("already-exists",{id:r});if(!ga){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(pa);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(...e){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=Ys(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(la,ua,ha,pa,ma);fa=e,da=t,ga=!0}la[r]=aa(e,ua,ha,t,da,pa,n);return new ca(e)}async function ba(){if(Object(gi.D)())return!1;if(!Object(gi.e)())return!1;if(!Object(gi.G)())return!1;try{return await Object(gi.ab)()}catch(e){return!1}}function wa(e,t,n){e=Object(gi.z)(e),async function(e,t,n,r){if(r&&r.global)return e("set",{screen_name:n}),Promise.resolve();e("config",await t,{update:!0,screen_name:n})}(fa,la[e.app.options.appId],t,n).catch(e=>Qs.error(e))}function _a(e,t,n){e=Object(gi.z)(e),async function(e,t,n,r){if(r&&r.global)return e("set",{user_id:n}),Promise.resolve();e("config",await t,{update:!0,user_id:n})}(fa,la[e.app.options.appId],t,n).catch(e=>Qs.error(e))}function Ea(e,t,n){e=Object(gi.z)(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t["user_properties."+e]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(fa,la[e.app.options.appId],t,n).catch(e=>Qs.error(e))}function Ta(e,t){e=Object(gi.z)(e),async function(e,t){const n=await e;window["ga-disable-"+n]=!t}(la[e.app.options.appId],t).catch(e=>Qs.error(e))}function Sa(e,t,n,r){e=Object(gi.z)(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(fa,la[e.app.options.appId],t,n,r).catch(e=>Qs.error(e))}Object(as._registerComponent)(new yi.a("analytics",(e,{options:t})=>va(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Object(as._registerComponent)(new yi.a("analytics-internal",(function(e){try{const t=e.getProvider("analytics").getImmediate();return{logEvent:(e,n,r)=>Sa(t,e,n,r)}}catch(e){throw Zs.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),Object(as.registerVersion)("@firebase/analytics","0.9.3"),Object(as.registerVersion)("@firebase/analytics","0.9.3","esm2017");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ia{constructor(e,t){this.app=e,this._delegate=t}logEvent(e,t,n){Sa(this._delegate,e,t,n)}setCurrentScreen(e,t){wa(this._delegate,e,t)}setUserId(e,t){_a(this._delegate,e,t)}setUserProperties(e,t){Ea(this._delegate,e,t)}setAnalyticsCollectionEnabled(e){Ta(this._delegate,e)}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ka;!function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(ka||(ka={}));
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Aa=e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("analytics").getImmediate();return new Ia(t,n)};!function(){const e={Analytics:Ia,settings:ya,isSupported:ba,EventName:ka};pi.a.INTERNAL.registerComponent(new yi.a("analytics-compat",Aa,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),pi.a.registerVersion("@firebase/analytics-compat","0.2.3");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ca=new Map,xa={activated:!1,tokenObservers:[]},Oa={initialized:!1,enabled:!1};function Na(e){return Ca.get(e)||Object.assign({},xa)}function Ra(){return Oa}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="https://content-firebaseappcheck.googleapis.com/v1",Da=3e4,Ma=96e4;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ja{constructor(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new gi.a,await function(e){return new Promise(t=>{setTimeout(t,e)})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new gi.a,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(e){this.retryPolicy(e)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const La={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Fa=new gi.b("appCheck","AppCheck",La);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ua(e=!1){var t;return e?null===(t=self.grecaptcha)||void 0===t?void 0:t.enterprise:self.grecaptcha}function Ba(e){if(!Na(e).activated)throw Fa.create("use-before-activation",{appName:e.name})}function qa(e){const t=Math.round(e/1e3),n=Math.floor(t/86400),r=Math.floor((t-3600*n*24)/3600),i=Math.floor((t-3600*n*24-3600*r)/60),o=t-3600*n*24-3600*r-60*i;let s="";return n&&(s+=Va(n)+"d:"),r&&(s+=Va(r)+"h:"),s+=Va(i)+"m:"+Va(o)+"s",s}function Va(e){return 0===e?"00":e>=10?e.toString():"0"+e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&(r["X-Firebase-Client"]=e)}const o={method:"POST",body:JSON.stringify(t),headers:r};let s,a;try{s=await fetch(e,o)}catch(e){throw Fa.create("fetch-network-error",{originalErrorMessage:null==e?void 0:e.message})}if(200!==s.status)throw Fa.create("fetch-status-error",{httpStatus:s.status});try{a=await s.json()}catch(e){throw Fa.create("fetch-parse-error",{originalErrorMessage:null==e?void 0:e.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Fa.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+a.ttl});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Wa="firebase-app-check-store";let Ha=null;function Ka(){return Ha||(Ha=new Promise((e,t)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{var n;t(Fa.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(Wa,{keyPath:"compositeKey"})}}}catch(e){t(Fa.create("storage-open",{originalErrorMessage:null==e?void 0:e.message}))}}),Ha)}async function Ga(e,t){const n=(await Ka()).transaction(Wa,"readwrite"),r=n.objectStore(Wa).put({compositeKey:e,value:t});return new Promise((e,t)=>{r.onsuccess=t=>{e()},n.onerror=e=>{var n;t(Fa.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})}async function Qa(e){const t=(await Ka()).transaction(Wa,"readonly"),n=t.objectStore(Wa).get(e);return new Promise((e,r)=>{n.onsuccess=t=>{const n=t.target.result;e(n?n.value:void 0)},t.onerror=e=>{var t;r(Fa.create("storage-get",{originalErrorMessage:null===(t=e.target.error)||void 0===t?void 0:t.message}))}})}function Ja(e){return`${e.options.appId}-${e.name}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new cs.b("@firebase/app-check");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(e){if(Object(gi.G)()){let t=void 0;try{t=await function(e){return Qa(Ja(e))}(e)}catch(e){Ya.warn("Failed to read token from IndexedDB. Error: "+e)}return t}}function Za(e,t){return Object(gi.G)()?function(e,t){return Ga(Ja(e),t)}(e,t).catch(e=>{Ya.warn("Failed to write token to IndexedDB. Error: "+e)}):Promise.resolve()}async function $a(){let e=void 0;try{e=await Qa("debug-token")}catch(e){}if(e)return e;{const e=Object(gi.W)();return(t=e,Ga("debug-token",t)).catch(e=>Ya.warn("Failed to persist debug token to IndexedDB. Error: "+e)),e}var t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(){return Ra().enabled}async function tc(){const e=Ra();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const nc={error:"UNKNOWN_ERROR"};async function rc(e,t=!1){const n=e.app;Ba(n);const r=Na(n);let i=r.token,o=void 0;if(i&&!cc(i)&&(r.token=void 0,i=void 0),!i){const e=await r.cachedTokenPromise;e&&(cc(e)?i=e:await Za(n,void 0))}if(!t&&i&&cc(i))return{token:i.token};let s,a=!1;if(ec()){r.exchangeTokenPromise||(r.exchangeTokenPromise=za(function(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Pa}/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}(n,await tc()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),a=!0);const t=await r.exchangeTokenPromise;return await Za(n,t),r.token=t,{token:t.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),a=!0),i=await Na(n).exchangeTokenPromise}catch(e){"appCheck/throttled"===e.code?Ya.warn(e.message):Ya.error(e),o=e}return i?o?s=cc(i)?{token:i.token,internalError:o}:lc(o):(s={token:i.token},r.token=i,await Za(n,i)):s=lc(o),a&&ac(n,s),s}function ic(e,t,n,r){const{app:i}=e,o=Na(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&cc(o.token)){const t=o.token;Promise.resolve().then(()=>{n({token:t.token}),sc(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>sc(e))}function oc(e,t){const n=Na(e),r=n.tokenObservers.filter(e=>e.next!==t);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function sc(e){const{app:t}=e,n=Na(t);let r=n.tokenRefresher;r||(r=function(e){const{app:t}=e;return new ja(async()=>{let n;if(n=Na(t).token?await rc(e,!0):await rc(e),n.error)throw n.error;if(n.internalError)throw n.internalError},()=>!0,()=>{const e=Na(t);if(e.token){let t=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;const n=e.token.expireTimeMillis-3e5;return t=Math.min(t,n),Math.max(0,t-Date.now())}return 0},Da,Ma)}(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function ac(e,t){const n=Na(e).tokenObservers;for(const e of n)try{"EXTERNAL"===e.type&&null!=t.error?e.error(t.error):e.next(t)}catch(e){}}function cc(e){return e.expireTimeMillis-Date.now()>0}function lc(e){return{token:(t=nc,gi.h.encodeString(JSON.stringify(t),!1)),error:e};var t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Na(this.app);for(const t of e)oc(this.app,t.next);return Promise.resolve()}}function hc(e,t){const n=new gi.a;Na(e).reCAPTCHAState={initialized:n};const r=pc(e),i=Ua(!1);return i?fc(e,t,i,r,n):function(e){const t=document.createElement("script");t.src="https://www.google.com/recaptcha/api.js",t.onload=e,document.head.appendChild(t)}(()=>{const i=Ua(!1);if(!i)throw new Error("no recaptcha");fc(e,t,i,r,n)}),n.promise}function dc(e,t){const n=new gi.a;Na(e).reCAPTCHAState={initialized:n};const r=pc(e),i=Ua(!0);return i?fc(e,t,i,r,n):function(e){const t=document.createElement("script");t.src="https://www.google.com/recaptcha/enterprise.js",t.onload=e,document.head.appendChild(t)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(()=>{const i=Ua(!0);if(!i)throw new Error("no recaptcha");fc(e,t,i,r,n)}),n.promise}function fc(e,t,n,r,i){n.ready(()=>{!function(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible"}),o=Na(e);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}(e,t,n,r),i.resolve(n)})}function pc(e){const t="fire_app_check_"+e.name,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function mc(e){Ba(e);const t=Na(e).reCAPTCHAState,n=await t.initialized.promise;return new Promise((t,r)=>{const i=Na(e).reCAPTCHAState;n.ready(()=>{t(n.execute(i.widgetId,{action:"fire_app_check"}))})})}class gc{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,t;wc(this._throttleData);const n=await mc(this._app).catch(e=>{throw Fa.create("recaptcha-error")});let r;try{r=await za(function(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Pa}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:t}}}(this._app,n),this._heartbeatServiceProvider)}catch(n){throw(null===(e=n.code)||void 0===e?void 0:e.includes("fetch-status-error"))?(this._throttleData=bc(Number(null===(t=n.customData)||void 0===t?void 0:t.httpStatus),this._throttleData),Fa.create("throttled",{time:qa(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):n}return this._throttleData=null,r}initialize(e){this._app=e,this._heartbeatServiceProvider=Object(as._getProvider)(e,"heartbeat"),hc(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof gc&&this._siteKey===e._siteKey}}class yc{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,t;wc(this._throttleData);const n=await mc(this._app).catch(e=>{throw Fa.create("recaptcha-error")});let r;try{r=await za(function(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Pa}/projects/${n}/apps/${r}:exchangeRecaptchaEnterpriseToken?key=${i}`,body:{recaptcha_enterprise_token:t}}}(this._app,n),this._heartbeatServiceProvider)}catch(n){throw(null===(e=n.code)||void 0===e?void 0:e.includes("fetch-status-error"))?(this._throttleData=bc(Number(null===(t=n.customData)||void 0===t?void 0:t.httpStatus),this._throttleData),Fa.create("throttled",{time:qa(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):n}return this._throttleData=null,r}initialize(e){this._app=e,this._heartbeatServiceProvider=Object(as._getProvider)(e,"heartbeat"),dc(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof yc&&this._siteKey===e._siteKey}}class vc{constructor(e){this._customProviderOptions=e}async getToken(){const e=await this._customProviderOptions.getToken(),t=Object(gi.N)(e.token),n=null!==t&&t<Date.now()&&t>0?1e3*t:Date.now();return Object.assign(Object.assign({},e),{issuedAtTimeMillis:n})}initialize(e){this._app=e}isEqual(e){return e instanceof vc&&this._customProviderOptions.getToken.toString()===e._customProviderOptions.getToken.toString()}}function bc(e,t){if(404===e||403===e)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:e};{const n=t?t.backoffCount:0,r=Object(gi.l)(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function wc(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw Fa.create("throttled",{time:qa(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(e=Object(as.getApp)(),t){e=Object(gi.z)(e);const n=Object(as._getProvider)(e,"app-check");if(Ra().initialized||function(){const e=Object(gi.y)(),t=Ra();if(t.initialized=!0,"string"!=typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==e.FIREBASE_APPCHECK_DEBUG_TOKEN)return;t.enabled=!0;const n=new gi.a;t.token=n,"string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve($a())}(),ec()&&tc().then(e=>console.log(`App Check debug token: ${e}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&i.provider.isEqual(t.provider))return r;throw Fa.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return function(e,t,n){const r=function(e,t){return Ca.set(e,t),Ca.get(e)}(e,Object.assign({},xa));r.activated=!0,r.provider=t,r.cachedTokenPromise=Xa(e).then(t=>(t&&cc(t)&&(r.token=t,ac(e,{token:t.token})),t)),r.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}(e,t.provider,t.isTokenAutoRefreshEnabled),Na(e).isTokenAutoRefreshEnabled&&ic(r,"INTERNAL",()=>{}),r}Object(as._registerComponent)(new yi.a("app-check",e=>function(e,t){return new uc(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("app-check-internal").initialize()})),Object(as._registerComponent)(new yi.a("app-check-internal",e=>function(e){return{getToken:t=>rc(e,t),addTokenListener:t=>ic(e,"INTERNAL",t),removeTokenListener:t=>oc(e.app,t)}}(e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Object(as.registerVersion)("@firebase/app-check","0.6.3");const Ec={"use-before-activation":"App Check is being used before activate() is called for FirebaseApp {$appName}. Call activate() before instantiating other Firebase services."},Tc=new gi.b("appCheck","AppCheck",Ec);
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Sc{constructor(e){this.app=e}activate(e,t){let n;n="string"==typeof e?new gc(e):e instanceof yc||e instanceof gc||e instanceof vc?e:new vc({getToken:e.getToken}),this._delegate=_c(this.app,{provider:n,isTokenAutoRefreshEnabled:t})}setTokenAutoRefreshEnabled(e){if(!this._delegate)throw Tc.create("use-before-activation",{appName:this.app.name});!function(e,t){const n=Na(e.app);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),n.isTokenAutoRefreshEnabled=t}(this._delegate,e)}getToken(e){if(!this._delegate)throw Tc.create("use-before-activation",{appName:this.app.name});return async function(e,t){const n=await rc(e,t);if(n.error)throw n.error;return{token:n.token}}(this._delegate,e)}onTokenChanged(e,t,n){if(!this._delegate)throw Tc.create("use-before-activation",{appName:this.app.name});return function(e,t,n,r){let i=()=>{},o=()=>{};return i=null!=t.next?t.next.bind(t):t,null!=t.error?o=t.error.bind(t):n&&(o=n),ic(e,"EXTERNAL",i,o),()=>oc(e.app,i)}(this._delegate,e,t)}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=e=>{const t=e.getProvider("app-compat").getImmediate();return new Sc(t)};pi.a.INTERNAL.registerComponent(new yi.a("appCheck-compat",Ic,"PUBLIC").setServiceProps({ReCaptchaEnterpriseProvider:yc,ReCaptchaV3Provider:gc,CustomProvider:vc})),pi.a.registerVersion("@firebase/app-check-compat","0.3.3");var kc=n(5);const Ac=new cs.b("@firebase/database-compat"),Cc=function(e){const t="FIREBASE WARNING: "+e;Ac.warn(t)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class xc{constructor(e){this._delegate=e}cancel(e){Object(gi.X)("OnDisconnect.cancel",0,1,arguments.length),Object(gi.Y)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),t=>e(t)),t}remove(e){Object(gi.X)("OnDisconnect.remove",0,1,arguments.length),Object(gi.Y)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),t=>e(t)),t}set(e,t){Object(gi.X)("OnDisconnect.set",1,2,arguments.length),Object(gi.Y)("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then(()=>t(null),e=>t(e)),n}setWithPriority(e,t,n){Object(gi.X)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(gi.Y)("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(e,t);return n&&r.then(()=>n(null),e=>n(e)),r}update(e,t){if(Object(gi.X)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,Cc("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(gi.Y)("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then(()=>t(null),e=>t(e)),n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return Object(gi.X)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t){this._database=e,this._delegate=t}val(){return Object(gi.X)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return Object(gi.X)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return Object(gi.X)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return Object(gi.X)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return Object(gi.X)("DataSnapshot.child",0,1,arguments.length),e=String(e),Object(kc.g)("DataSnapshot.child","path",e,!1),new Nc(this._database,this._delegate.child(e))}hasChild(e){return Object(gi.X)("DataSnapshot.hasChild",1,1,arguments.length),Object(kc.g)("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return Object(gi.X)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return Object(gi.X)("DataSnapshot.forEach",1,1,arguments.length),Object(gi.Y)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Nc(this._database,t)))}hasChildren(){return Object(gi.X)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return Object(gi.X)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return Object(gi.X)("DataSnapshot.ref",0,0,arguments.length),new Pc(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Rc{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,r){var i;Object(gi.X)("Query.on",2,4,arguments.length),Object(gi.Y)("Query.on","callback",t,!1);const o=Rc.getCancelAndContextArgs_("Query.on",n,r),s=(e,n)=>{t.call(o.context,new Nc(this.database,e),n)};s.userCallback=t,s.context=o.context;const a=null===(i=o.cancel)||void 0===i?void 0:i.bind(o.context);switch(e){case"value":return Object(kc.B)(this._delegate,s,a),t;case"child_added":return Object(kc.x)(this._delegate,s,a),t;case"child_removed":return Object(kc.A)(this._delegate,s,a),t;case"child_changed":return Object(kc.y)(this._delegate,s,a),t;case"child_moved":return Object(kc.z)(this._delegate,s,a),t;default:throw new Error(Object(gi.s)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if(Object(gi.X)("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(gi.s)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),Object(gi.Y)("Query.off","callback",t,!0),Object(gi.Z)("Query.off","context",n,!0),t){const r=()=>{};r.userCallback=t,r.context=n,Object(kc.w)(this._delegate,e,r)}else Object(kc.w)(this._delegate,e)}get(){return Object(kc.q)(this._delegate).then(e=>new Nc(this.database,e))}once(e,t,n,r){Object(gi.X)("Query.once",1,4,arguments.length),Object(gi.Y)("Query.once","callback",t,!0);const i=Rc.getCancelAndContextArgs_("Query.once",n,r),o=new gi.a,s=(e,n)=>{const r=new Nc(this.database,e);t&&t.call(i.context,r,n),o.resolve(r)};s.userCallback=t,s.context=i.context;const a=e=>{i.cancel&&i.cancel.call(i.context,e),o.reject(e)};switch(e){case"value":Object(kc.B)(this._delegate,s,a,{onlyOnce:!0});break;case"child_added":Object(kc.x)(this._delegate,s,a,{onlyOnce:!0});break;case"child_removed":Object(kc.A)(this._delegate,s,a,{onlyOnce:!0});break;case"child_changed":Object(kc.y)(this._delegate,s,a,{onlyOnce:!0});break;case"child_moved":Object(kc.z)(this._delegate,s,a,{onlyOnce:!0});break;default:throw new Error(Object(gi.s)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return Object(gi.X)("Query.limitToFirst",1,1,arguments.length),new Rc(this.database,Object(kc.H)(this._delegate,Object(kc.u)(e)))}limitToLast(e){return Object(gi.X)("Query.limitToLast",1,1,arguments.length),new Rc(this.database,Object(kc.H)(this._delegate,Object(kc.v)(e)))}orderByChild(e){return Object(gi.X)("Query.orderByChild",1,1,arguments.length),new Rc(this.database,Object(kc.H)(this._delegate,Object(kc.C)(e)))}orderByKey(){return Object(gi.X)("Query.orderByKey",0,0,arguments.length),new Rc(this.database,Object(kc.H)(this._delegate,Object(kc.D)()))}orderByPriority(){return Object(gi.X)("Query.orderByPriority",0,0,arguments.length),new Rc(this.database,Object(kc.H)(this._delegate,Object(kc.E)()))}orderByValue(){return Object(gi.X)("Query.orderByValue",0,0,arguments.length),new Rc(this.database,Object(kc.H)(this._delegate,Object(kc.F)()))}startAt(e=null,t){return Object(gi.X)("Query.startAt",0,2,arguments.length),new Rc(this.database,Object(kc.H)(this._delegate,Object(kc.R)(e,t)))}startAfter(e=null,t){return Object(gi.X)("Query.startAfter",0,2,arguments.length),new Rc(this.database,Object(kc.H)(this._delegate,Object(kc.Q)(e,t)))}endAt(e=null,t){return Object(gi.X)("Query.endAt",0,2,arguments.length),new Rc(this.database,Object(kc.H)(this._delegate,Object(kc.l)(e,t)))}endBefore(e=null,t){return Object(gi.X)("Query.endBefore",0,2,arguments.length),new Rc(this.database,Object(kc.H)(this._delegate,Object(kc.m)(e,t)))}equalTo(e,t){return Object(gi.X)("Query.equalTo",1,2,arguments.length),new Rc(this.database,Object(kc.H)(this._delegate,Object(kc.n)(e,t)))}toString(){return Object(gi.X)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return Object(gi.X)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(Object(gi.X)("Query.isEqual",1,1,arguments.length),!(e instanceof Rc)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Object(gi.Y)(e,"cancel",r.cancel,!0),r.context=n,Object(gi.Z)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(Object(gi.s)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Pc(this.database,new kc.d(this._delegate._repo,this._delegate._path))}}class Pc extends Rc{constructor(e,t){super(e,new kc.b(t._repo,t._path,new kc.c,!1)),this.database=e,this._delegate=t}getKey(){return Object(gi.X)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return Object(gi.X)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Pc(this.database,Object(kc.i)(this._delegate,e))}getParent(){Object(gi.X)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Pc(this.database,e):null}getRoot(){return Object(gi.X)("Reference.root",0,0,arguments.length),new Pc(this.database,this._delegate.root)}set(e,t){Object(gi.X)("Reference.set",1,2,arguments.length),Object(gi.Y)("Reference.set","onComplete",t,!0);const n=Object(kc.N)(this._delegate,e);return t&&n.then(()=>t(null),e=>t(e)),n}update(e,t){if(Object(gi.X)("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,Cc("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(kc.h)("Reference.update",this._delegate._path),Object(gi.Y)("Reference.update","onComplete",t,!0);const n=Object(kc.S)(this._delegate,e);return t&&n.then(()=>t(null),e=>t(e)),n}setWithPriority(e,t,n){Object(gi.X)("Reference.setWithPriority",2,3,arguments.length),Object(gi.Y)("Reference.setWithPriority","onComplete",n,!0);const r=Object(kc.P)(this._delegate,e,t);return n&&r.then(()=>n(null),e=>n(e)),r}remove(e){Object(gi.X)("Reference.remove",0,1,arguments.length),Object(gi.Y)("Reference.remove","onComplete",e,!0);const t=Object(kc.K)(this._delegate);return e&&t.then(()=>e(null),t=>e(t)),t}transaction(e,t,n){Object(gi.X)("Reference.transaction",1,3,arguments.length),Object(gi.Y)("Reference.transaction","transactionUpdate",e,!1),Object(gi.Y)("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(gi.s)(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);const r=Object(kc.L)(this._delegate,e,{applyLocally:n}).then(e=>new Oc(e.committed,new Nc(this.database,e.snapshot)));return t&&r.then(e=>t(null,e.committed,e.snapshot),e=>t(e,!1,null)),r}setPriority(e,t){Object(gi.X)("Reference.setPriority",1,2,arguments.length),Object(gi.Y)("Reference.setPriority","onComplete",t,!0);const n=Object(kc.O)(this._delegate,e);return t&&n.then(()=>t(null),e=>t(e)),n}push(e,t){Object(gi.X)("Reference.push",0,2,arguments.length),Object(gi.Y)("Reference.push","onComplete",t,!0);const n=Object(kc.G)(this._delegate,e),r=n.then(e=>new Pc(this.database,e));t&&r.then(()=>t(null),e=>t(e));const i=new Pc(this.database,n);return i.then=r.then.bind(r),i.catch=r.catch.bind(r,void 0),i}onDisconnect(){return Object(kc.h)("Reference.onDisconnect",this._delegate._path),new xc(new kc.a(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:kc.p,forceLongPolling:kc.o}}useEmulator(e,t,n={}){Object(kc.j)(this._delegate,e,t,n)}ref(e){if(Object(gi.X)("database.ref",0,1,arguments.length),e instanceof Pc){const t=Object(kc.J)(this._delegate,e.toString());return new Pc(this,t)}{const t=Object(kc.I)(this._delegate,e);return new Pc(this,t)}}refFromURL(e){Object(gi.X)("database.refFromURL",1,1,arguments.length);const t=Object(kc.J)(this._delegate,e);return new Pc(this,t)}goOffline(){return Object(gi.X)("database.goOffline",0,0,arguments.length),Object(kc.r)(this._delegate)}goOnline(){return Object(gi.X)("database.goOnline",0,0,arguments.length),Object(kc.s)(this._delegate)}}Dc.ServerValue={TIMESTAMP:Object(kc.M)(),increment:e=>Object(kc.t)(e)};var Mc=Object.freeze({__proto__:null,initStandalone:
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function({app:e,url:t,version:n,customAuthImpl:r,namespace:i,nodeAdmin:o=!1}){Object(kc.f)(n);const s=new yi.c("auth-internal",new yi.b("database-standalone"));return s.setComponent(new yi.a("auth-internal",()=>r,"PRIVATE")),{instance:new Dc(Object(kc.e)(e,s,void 0,t,o),e),namespace:i}}});
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=Dc.ServerValue;!function(e){e.INTERNAL.registerComponent(new yi.a("database-compat",(e,{instanceIdentifier:t})=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new Dc(r,n)},"PUBLIC").setServiceProps({Reference:Pc,Query:Rc,Database:Dc,DataSnapshot:Nc,enableLogging:kc.k,INTERNAL:Mc,ServerValue:jc}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.3.3")}(pi.a);function Lc(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function Fc(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(e=>Fc(e)):"function"==typeof e||"object"==typeof e?Lc(e,e=>Fc(e)):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends gi.c{constructor(e,t,n){super("functions/"+e,t||""),this.details=n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class qc{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(e=>this.auth=e,()=>{}),this.messaging||t.get().then(e=>this.messaging=e,()=>{}),this.appCheck||n.get().then(e=>this.appCheck=e,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null==e?void 0:e.accessToken}catch(e){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(e){return}}async getAppCheckToken(){if(this.appCheck){const e=await this.appCheck.getToken();return e.error?null:e.token}return null}async getContext(){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken()}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t,n,r,i="us-central1",o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new qc(t,n,r),this.cancelAllRequests=new Promise(e=>{this.deleteService=()=>Promise.resolve(e())});try{const e=new URL(i);this.customDomain=e.origin,this.region="us-central1"}catch(e){this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){return`${this.emulatorOrigin}/${t}/${this.region}/${e}`}return null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function zc(e,t,n){return r=>function(e,t,n,r){const i=e._url(t);return Hc(e,i,n,r)}(e,t,r,n||{})}async function Wc(e,t,n,r){let i;n["Content-Type"]="application/json";try{i=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch(e){return{status:0,json:null}}let o=null;try{o=await i.json()}catch(e){}return{status:i.status,json:o}}async function Hc(e,t,n,r){const i={data:n=function e(t){if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(t=>e(t));if("function"==typeof t||"object"==typeof t)return Lc(t,t=>e(t));throw new Error("Data cannot be encoded in JSON: "+t)}(n)},o={},s=await e.contextProvider.getContext();s.authToken&&(o.Authorization="Bearer "+s.authToken),s.messagingToken&&(o["Firebase-Instance-ID-Token"]=s.messagingToken),null!==s.appCheckToken&&(o["X-Firebase-AppCheck"]=s.appCheckToken);const a=function(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new Bc("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}(r.timeout||7e4),c=await Promise.race([Wc(t,i,o,e.fetchImpl),a.promise,e.cancelAllRequests]);if(a.cancel(),!c)throw new Bc("cancelled","Firebase Functions instance was deleted.");const l=function(e,t){let n=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),r=n,i=void 0;try{const e=t&&t.error;if(e){const t=e.status;if("string"==typeof t){if(!Uc[t])return new Bc("internal","internal");n=Uc[t],r=t}const o=e.message;"string"==typeof o&&(r=o),i=e.details,void 0!==i&&(i=Fc(i))}}catch(e){}return"ok"===n?null:new Bc(n,r,i)}(c.status,c.json);if(l)throw l;if(!c.json)throw new Bc("internal","Response is not valid JSON object.");let u=c.json.data;if(void 0===u&&(u=c.json.result),void 0===u)throw new Bc("internal","Response is missing data field.");return{data:Fc(u)}}function Kc(e,t,n){!function(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}(Object(gi.z)(e),t,n)}function Gc(e,t,n){return function(e,t,n){return r=>Hc(e,t,r,n||{})}(Object(gi.z)(e),t,n)}var Qc,Jc;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qc=fetch.bind(self),Object(as._registerComponent)(new yi.a("functions",(e,{instanceIdentifier:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("messaging-internal"),o=e.getProvider("app-check-internal");return new Vc(n,r,i,o,t,Qc)},"PUBLIC").setMultipleInstances(!0)),Object(as.registerVersion)("@firebase/functions","0.9.3",Jc),Object(as.registerVersion)("@firebase/functions","0.9.3","esm2017");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Yc{constructor(e,t){this.app=e,this._delegate=t,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}httpsCallable(e,t){return function(e,t,n){return zc(Object(gi.z)(e),t,n)}(this._delegate,e,t)}httpsCallableFromURL(e,t){return Gc(this._delegate,e,t)}useFunctionsEmulator(e){const t=e.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?");if(null==t)throw new gi.c("functions","No origin provided to useFunctionsEmulator()");if(null==t[2])throw new gi.c("functions","Port missing in origin provided to useFunctionsEmulator()");return Kc(this._delegate,t[1],Number(t[2]))}useEmulator(e,t){return Kc(this._delegate,e,t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=(e,{instanceIdentifier:t})=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("functions").getImmediate({identifier:null!=t?t:"us-central1"});return new Yc(n,r)};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(){const e={Functions:Yc};pi.a.INTERNAL.registerComponent(new yi.a("functions-compat",Xc,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),pi.a.registerVersion("@firebase/functions-compat","0.3.3");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Zc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";var $c,el;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function tl(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nl(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let e=0;e<n.length;++e)r[e]=n.charCodeAt(e);return r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}($c||($c={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(el||(el={}));let rl=null;function il(){return rl||(rl=Object(ls.b)("firebase-messaging-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore("firebase-messaging-store")}}})),rl}async function ol(e){const t=al(e),n=await il(),r=await n.transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){if(!(await indexedDB.databases()).map(e=>e.name).includes("fcm_token_details_db"))return null}let t=null;return(await Object(ls.b)("fcm_token_details_db",5,{upgrade:async(n,r,i,o)=>{var s;if(r<2)return;if(!n.objectStoreNames.contains("fcm_token_object_Store"))return;const a=o.objectStore("fcm_token_object_Store"),c=await a.index("fcmSenderId").get(e);if(await a.clear(),c)if(2===r){const e=c;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(s=e.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:tl(e.vapidKey)}}}else if(3===r){const e=c;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:tl(e.auth),p256dh:tl(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:tl(e.vapidKey)}}}else if(4===r){const e=c;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:tl(e.auth),p256dh:tl(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:tl(e.vapidKey)}}}}})).close(),await Object(ls.a)("fcm_token_details_db"),await Object(ls.a)("fcm_vapid_details_db"),await Object(ls.a)("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)?t:null}(e.appConfig.senderId);if(t)return await sl(e,t),t}}async function sl(e,t){const n=al(e),r=(await il()).transaction("firebase-messaging-store","readwrite");return await r.objectStore("firebase-messaging-store").put(t,n),await r.done,t}function al({appConfig:e}){return e.appId}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ll=new gi.b("messaging","Messaging",cl);async function ul(e,t){const n={method:"DELETE",headers:await dl(e)};try{const r=await fetch(`${hl(e.appConfig)}/${t}`,n),i=await r.json();if(i.error){const e=i.error.message;throw ll.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw ll.create("token-unsubscribe-failed",{errorInfo:null==e?void 0:e.toString()})}}function hl({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}async function dl({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+n})}function fl({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==Zc&&(i.web.applicationPubKey=r),i}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:nl(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:tl(t.getKey("auth")),p256dh:tl(t.getKey("p256dh"))},r=await ol(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await dl(e),r=fl(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{const n=await fetch(`${hl(e.appConfig)}/${t.token}`,i);o=await n.json()}catch(e){throw ll.create("token-update-failed",{errorInfo:null==e?void 0:e.toString()})}if(o.error){const e=o.error.message;throw ll.create("token-update-failed",{errorInfo:e})}if(!o.token)throw ll.create("token-update-no-token");return o.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await sl(e.firebaseDependencies,r),n}catch(t){throw await ml(e),t}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await ul(e.firebaseDependencies,r.token)}catch(e){console.warn(e)}return gl(e.firebaseDependencies,n)}return gl(e.firebaseDependencies,n)}async function ml(e){const t=await ol(e.firebaseDependencies);t&&(await ul(e.firebaseDependencies,t.token),await async function(e){const t=al(e),n=(await il()).transaction("firebase-messaging-store","readwrite");await n.objectStore("firebase-messaging-store").delete(t),await n.done}(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}async function gl(e,t){const n={token:await
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){const n=await dl(e),r=fl(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{const t=await fetch(hl(e.appConfig),i);o=await t.json()}catch(e){throw ll.create("token-subscribe-failed",{errorInfo:null==e?void 0:e.toString()})}if(o.error){const e=o.error.message;throw ll.create("token-subscribe-failed",{errorInfo:e})}if(!o.token)throw ll.create("token-subscribe-no-token");return o.token}(e,t),createTime:Date.now(),subscriptionOptions:t};return await sl(e,n),n.token}function yl(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,o,s;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const a=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;a&&(e.fcmOptions.link=a);const c=null===(s=t.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(e.fcmOptions.analyticsLabel=c)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e),t}function vl(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(e){return ll.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
vl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class wl{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw bl("App Configuration Object");if(!e.name)throw bl("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const e of t)if(!n[e])throw bl(e);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{})}catch(e){throw ll.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function El(e,t){if(!navigator)throw ll.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw ll.create("permission-blocked");return await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Zc)}(e,null==t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await _l(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw ll.create("invalid-sw-registration");e.swRegistration=t}}(e,null==t?void 0:t.serviceWorkerRegistration),pl(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(e,t,n){const r=function(e){switch(e){case el.NOTIFICATION_CLICKED:return"notification_open";case el.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n["google.c.a.c_id"],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}const Sl=e=>{const t=new wl(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>async function(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===el.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(yl(n)):e.onMessageHandler.next(yl(n)));const r=n.data;var i;"object"==typeof(i=r)&&i&&"google.c.a.c_id"in i&&"1"===r["google.c.a.e"]&&await Tl(e,n.messageType,r)}(t,e)),t},Il=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>El(t,e)}};function kl(e){
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(e){if(!navigator)throw ll.create("only-available-in-window");return e.swRegistration||await _l(e),ml(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e=Object(gi.z)(e))}function Al(e,t){return function(e,t){if(!navigator)throw ll.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e=Object(gi.z)(e),t)}Object(as._registerComponent)(new yi.a("messaging",Sl,"PUBLIC")),Object(as._registerComponent)(new yi.a("messaging-internal",Il,"PRIVATE")),Object(as.registerVersion)("@firebase/messaging","0.12.3"),Object(as.registerVersion)("@firebase/messaging","0.12.3","esm2017");var Cl,xl;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ol(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Nl(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let e=0;e<n.length;++e)r[e]=n.charCodeAt(e);return r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(Cl||(Cl={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(xl||(xl={}));let Rl=null;function Pl(){return Rl||(Rl=Object(ls.b)("firebase-messaging-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore("firebase-messaging-store")}}})),Rl}async function Dl(e){const t=jl(e),n=await Pl(),r=await n.transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){if(!(await indexedDB.databases()).map(e=>e.name).includes("fcm_token_details_db"))return null}let t=null;return(await Object(ls.b)("fcm_token_details_db",5,{upgrade:async(n,r,i,o)=>{var s;if(r<2)return;if(!n.objectStoreNames.contains("fcm_token_object_Store"))return;const a=o.objectStore("fcm_token_object_Store"),c=await a.index("fcmSenderId").get(e);if(await a.clear(),c)if(2===r){const e=c;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(s=e.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:Ol(e.vapidKey)}}}else if(3===r){const e=c;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Ol(e.auth),p256dh:Ol(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Ol(e.vapidKey)}}}else if(4===r){const e=c;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Ol(e.auth),p256dh:Ol(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Ol(e.vapidKey)}}}}})).close(),await Object(ls.a)("fcm_token_details_db"),await Object(ls.a)("fcm_vapid_details_db"),await Object(ls.a)("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)?t:null}(e.appConfig.senderId);if(t)return await Ml(e,t),t}}async function Ml(e,t){const n=jl(e),r=(await Pl()).transaction("firebase-messaging-store","readwrite");return await r.objectStore("firebase-messaging-store").put(t,n),await r.done,t}function jl({appConfig:e}){return e.appId}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Fl=new gi.b("messaging","Messaging",Ll);async function Ul(e,t){const n={method:"DELETE",headers:await ql(e)};try{const r=await fetch(`${Bl(e.appConfig)}/${t}`,n),i=await r.json();if(i.error){const e=i.error.message;throw Fl.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw Fl.create("token-unsubscribe-failed",{errorInfo:null==e?void 0:e.toString()})}}function Bl({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}async function ql({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+n})}function Vl({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return"BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4"!==r&&(i.web.applicationPubKey=r),i}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Nl(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Ol(t.getKey("auth")),p256dh:Ol(t.getKey("p256dh"))},r=await Dl(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await ql(e),r=Vl(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{const n=await fetch(`${Bl(e.appConfig)}/${t.token}`,i);o=await n.json()}catch(e){throw Fl.create("token-update-failed",{errorInfo:null==e?void 0:e.toString()})}if(o.error){const e=o.error.message;throw Fl.create("token-update-failed",{errorInfo:e})}if(!o.token)throw Fl.create("token-update-no-token");return o.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await Ml(e.firebaseDependencies,r),n}catch(t){throw await Wl(e),t}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Ul(e.firebaseDependencies,r.token)}catch(e){console.warn(e)}return Hl(e.firebaseDependencies,n)}return Hl(e.firebaseDependencies,n)}async function Wl(e){const t=await Dl(e.firebaseDependencies);t&&(await Ul(e.firebaseDependencies,t.token),await async function(e){const t=jl(e),n=(await Pl()).transaction("firebase-messaging-store","readwrite");await n.objectStore("firebase-messaging-store").delete(t),await n.done}(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}async function Hl(e,t){const n={token:await
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){const n=await ql(e),r=Vl(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{const t=await fetch(Bl(e.appConfig),i);o=await t.json()}catch(e){throw Fl.create("token-subscribe-failed",{errorInfo:null==e?void 0:e.toString()})}if(o.error){const e=o.error.message;throw Fl.create("token-subscribe-failed",{errorInfo:e})}if(!o.token)throw Fl.create("token-subscribe-no-token");return o.token}(e,t),createTime:Date.now(),subscriptionOptions:t};return await Ml(e,n),n.token}async function Kl(e,t){const n=function(e,t){var n,r;const i={};e.from&&(i.project_number=e.from);e.fcmMessageId&&(i.message_id=e.fcmMessageId);i.instance_id=t,e.notification?i.message_type=Cl.DISPLAY_NOTIFICATION.toString():i.message_type=Cl.DATA_MESSAGE.toString();i.sdk_platform=3..toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),!e.collapse_key||(i.collapse_key=e.collapse_key);i.event=1..toString(),!(null===(n=e.fcmOptions)||void 0===n?void 0:n.analytics_label)||(i.analytics_label=null===(r=e.fcmOptions)||void 0===r?void 0:r.analytics_label);return i}(t,await e.firebaseDependencies.installations.getId());!function(e,t){const n={};n.event_time_ms=Math.floor(Date.now()).toString(),n.source_extension_json_proto3=JSON.stringify(t),e.logEvents.push(n)}(e,n)}function Gl(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(e,t){const n=function({data:e}){if(!e)return null;try{return e.json()}catch(e){return null}}(e);if(!n)return;t.deliveryMetricsExportedToBigQueryEnabled&&await Kl(t,n);const r=await Yl();if(function(e){return e.some(e=>"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://"))}(r))return function(e,t){t.isFirebaseMessaging=!0,t.messageType=xl.PUSH_RECEIVED;for(const n of e)n.postMessage(t)}(r,n);if(n.notification&&await function(e){var t;const{actions:n}=e,{maxActions:r}=Notification;n&&r&&n.length>r&&console.warn(`This browser only supports ${r} actions. The remaining actions will not be displayed.`);return self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}(function(e){const t=Object.assign({},e.notification);return t.data={FCM_MSG:e},t}(n)),t&&t.onBackgroundMessageHandler){const e=function(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,o,s;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const a=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;a&&(e.fcmOptions.link=a);const c=null===(s=t.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(e.fcmOptions.analyticsLabel=c)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e),t}(n);"function"==typeof t.onBackgroundMessageHandler?await t.onBackgroundMessageHandler(e):t.onBackgroundMessageHandler.next(e)}}async function Jl(e){var t,n;const r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG;if(!r)return;if(e.action)return;e.stopImmediatePropagation(),e.notification.close();const i=function(e){var t,n,r;const i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return o=e.data,"object"==typeof o&&o&&"google.c.a.c_id"in o?self.location.origin:null;var o;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r);if(!i)return;const o=new URL(i,self.location.href),s=new URL(self.location.origin);if(o.host!==s.host)return;let a=await async function(e){const t=await Yl();for(const n of t){const t=new URL(n.url,self.location.href);if(e.host===t.host)return n}return null}(o);return a?a=await a.focus():(a=await self.clients.openWindow(i),await function(e){return new Promise(t=>{setTimeout(t,e)})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(3e3)),a?(r.messageType=xl.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,a.postMessage(r)):void 0}function Yl(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Xl(e){return Fl.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Gl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Zl{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw Xl("App Configuration Object");if(!e.name)throw Xl("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const e of t)if(!n[e])throw Xl(e);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=e=>{const t=new Zl(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return self.addEventListener("push",e=>{e.waitUntil(Ql(e,t))}),self.addEventListener("pushsubscriptionchange",e=>{e.waitUntil(async function(e,t){var n,r;const{newSubscription:i}=e;if(!i)return void await Wl(t);const o=await Dl(t.firebaseDependencies);await Wl(t),t.vapidKey=null!==(r=null===(n=null==o?void 0:o.subscriptionOptions)||void 0===n?void 0:n.vapidKey)&&void 0!==r?r:"BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",await zl(t)}(e,t))}),self.addEventListener("notificationclick",e=>{e.waitUntil(Jl(e))}),t};function eu(e,t){
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(e,t){if(void 0!==self.document)throw Fl.create("only-available-in-sw");return e.onBackgroundMessageHandler=t,()=>{e.onBackgroundMessageHandler=null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e=Object(gi.z)(e),t)}Object(as._registerComponent)(new yi.a("messaging-sw",$l,"PUBLIC"));class tu{constructor(e,t){this.app=e,this._delegate=t,this.app=e,this._delegate=t}async getToken(e){return async function(e,t){return El(e=Object(gi.z)(e),t)}(this._delegate,e)}async deleteToken(){return kl(this._delegate)}onMessage(e){return Al(this._delegate,e)}onBackgroundMessage(e){return eu(this._delegate,e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=e=>self&&"ServiceWorkerGlobalScope"in self?new tu(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging-sw").getImmediate()):new tu(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging").getImmediate()),ru={isSupported:
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){return self&&"ServiceWorkerGlobalScope"in self?Object(gi.G)()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"undefined"!=typeof window&&Object(gi.G)()&&Object(gi.e)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}};pi.a.INTERNAL.registerComponent(new yi.a("messaging-compat",nu,"PUBLIC").setServiceProps(ru)),pi.a.registerVersion("@firebase/messaging-compat","0.2.3");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class iu extends gi.c{constructor(e,t,n=0){super(au(e),`Firebase Storage: ${t} (${au(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,iu.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return au(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var ou,su;function au(e){return"storage/"+e}function cu(){return new iu(ou.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function lu(){return new iu(ou.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uu(){return new iu(ou.CANCELED,"User canceled the upload/download.")}function hu(){return new iu(ou.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function du(e){return new iu(ou.INVALID_ARGUMENT,e)}function fu(){return new iu(ou.APP_DELETED,"The Firebase app was deleted.")}function pu(e){return new iu(ou.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mu(e,t){return new iu(ou.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function gu(e){throw new iu(ou.INTERNAL_ERROR,"Internal error: "+e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(ou||(ou={}));class yu{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=yu.makeFromUrl(e,t)}catch(t){return new yu(e,"")}if(""===n.path)return n;throw r=e,new iu(ou.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),s=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp(`^https?://${"firebasestorage.googleapis.com"===t?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/([A-Za-z0-9.\\-_]+)/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:i}];for(let t=0;t<s.length;t++){const r=s[t],i=r.regex.exec(e);if(i){const e=i[r.indices.bucket];let t=i[r.indices.path];t||(t=""),n=new yu(e,t),r.postModify(n);break}}if(null==n)throw function(e){return new iu(ou.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class vu{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(e){return"string"==typeof e||e instanceof String}function wu(e){return _u()&&e instanceof Blob}function _u(){return"undefined"!=typeof Blob&&!Object(gi.I)()}function Eu(e,t,n,r){if(r<t)throw du(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw du(`Invalid value for '${e}'. Expected ${n} or less.`)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(e,t,n){let r=t;return null==n&&(r="https://"+t),`${n}://${r}/v0${e}`}function Su(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Iu(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(su||(su={}));class ku{constructor(e,t,n,r,i,o,s,a,c,l,u,h=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new Au(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===su.NO_ERROR,i=n.getStatus();if(!t||Iu(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===su.ABORT;return void e(!1,new Au(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new Au(o,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(e){r(e)}else if(null!==i){const e=cu();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?fu():uu())}else{r(lu())}};this.canceled_?t(0,new Au(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function u(...e){l||(l=!0,t.apply(null,e))}function h(t){i=setTimeout(()=>{i=null,e(f,c())},t)}function d(){o&&clearTimeout(o)}function f(e,...t){if(l)return void d();if(e)return d(),void u.call(null,e,...t);if(c()||s)return d(),void u.call(null,e,...t);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let p=!1;function m(e){p||(p=!0,d(),l||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Au{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Cu(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function xu(...e){const t=Cu();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(_u())return new Blob(e);throw new iu(ou.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ou(e){if("undefined"==typeof atob)throw t="base-64",new iu(ou.UNSUPPORTED_ENVIRONMENT,t+" is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.");var t;return atob(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ru{constructor(e,t){this.data=e,this.contentType=t||null}}function Pu(e,t){switch(e){case Nu.RAW:return new Ru(Du(t));case Nu.BASE64:case Nu.BASE64URL:return new Ru(Mu(e,t));case Nu.DATA_URL:return new Ru(function(e){const t=new ju(e);return t.base64?Mu(Nu.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(e){throw mu(Nu.DATA_URL,"Malformed data URL.")}return Du(t)}(t.rest)}(t),new ju(t).contentType)}throw cu()}function Du(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r)){if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Mu(e,t){switch(e){case Nu.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw mu(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Nu.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw mu(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Ou(t)}catch(t){if(t.message.includes("polyfill"))throw t;throw mu(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r}class ju{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw mu(Nu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}class Lu{constructor(e,t){let n=0,r="";wu(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(wu(this.data_)){const o=this.data_,s=(r=e,i=t,(n=o).webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null);return null===s?null:new Lu(s)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Lu(n,!0)}var n,r,i}static getBlob(...e){if(_u()){const t=e.map(e=>e instanceof Lu?e.data_:e);return new Lu(xu.apply(null,t))}{const t=e.map(e=>bu(e)?Pu(Nu.RAW,e).data:e.data_);let n=0;t.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return t.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new Lu(r,!0)}}uploadData(){return this.data_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(e){let t;try{t=JSON.parse(e)}catch(e){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t;var n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(e,t){return t}class qu{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Bu}}let Vu=null;function zu(){if(Vu)return Vu;const e=[];e.push(new qu("bucket")),e.push(new qu("generation")),e.push(new qu("metageneration")),e.push(new qu("name","fullPath",!0));const t=new qu("name");t.xform=function(e,t){return function(e){return!bu(e)||e.length<2?e:Uu(e)}(t)},e.push(t);const n=new qu("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new qu("timeCreated")),e.push(new qu("updated")),e.push(new qu("md5Hash",null,!0)),e.push(new qu("cacheControl",null,!0)),e.push(new qu("contentDisposition",null,!0)),e.push(new qu("contentEncoding",null,!0)),e.push(new qu("contentLanguage",null,!0)),e.push(new qu("contentType",null,!0)),e.push(new qu("metadata","customMetadata",!0)),Vu=e,Vu}function Wu(e,t,n){const r={type:"file"},i=n.length;for(let e=0;e<i;e++){const i=n[e];r[i.local]=i.xform(r,t[i.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new yu(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Hu(e,t,n){const r=Fu(t);if(null===r)return null;return Wu(e,r,n)}function Ku(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(e,t,n){const r=Fu(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(const i of n.prefixes){const n=i.replace(/\/$/,""),o=e._makeStorageReference(new yu(t,n));r.prefixes.push(o)}if(n.items)for(const i of n.items){const n=e._makeStorageReference(new yu(t,i.name));r.items.push(n)}return r}(e,t,r)}class Qu{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(e){if(!e)throw cu()}function Yu(e,t){return function(n,r){const i=Hu(e,r,t);return Ju(null!==i),i}}function Xu(e,t){return function(n,r){const i=Hu(e,r,t);return Ju(null!==i),function(e,t,n,r){const i=Fu(t);if(null===i)return null;if(!bu(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(t=>{const i=e.bucket,o=e.fullPath;return Tu("/b/"+s(i)+"/o/"+s(o),n,r)+Su({alt:"media",token:t})})[0]}(i,r,e.host,e._protocol)}}function Zu(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new iu(ou.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new iu(ou.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new iu(ou.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new iu(ou.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function $u(e){const t=Zu(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new iu(ou.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function eh(e,t,n){const r=Tu(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new Qu(r,"GET",Yu(e,n),i);return o.errorHandler=$u(t),o}function th(e,t,n,r,i){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=Tu(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,c=new Qu(s,"GET",function(e,t){return function(n,r){const i=Gu(e,t,r);return Ju(null!==i),i}}(e,t.bucket),a);return c.urlParams=o,c.errorHandler=Zu(t),c}function nh(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function rh(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const c=nh(t,r,i),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ku(c,n)+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=Lu.getBlob(l,r,u);if(null===h)throw hu();const d={name:c.fullPath},f=Tu(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new Qu(f,"POST",Yu(e,n),p);return m.urlParams=d,m.headers=s,m.body=h.uploadData(),m.errorHandler=Zu(t),m}class ih{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function oh(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){Ju(!1)}return Ju(!!n&&-1!==(t||["active"]).indexOf(n)),n}function sh(e,t,n,r,i,o,s,a){const c=new ih(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new iu(ou.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const l=c.total-c.current;let u=l;i>0&&(u=Math.min(u,i));const h=c.current,d=h+u;let f="";f=0===u?"finalize":l===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":""+c.current},m=r.slice(h,d);if(null===m)throw hu();const g=t.maxUploadRetryTime,y=new Qu(n,"POST",(function(e,n){const i=oh(e,["active","final"]),s=c.current+u,a=r.size();let l;return l="final"===i?Yu(t,o)(e,n):null,new ih(s,a,"final"===i,l)}),g);return y.headers=p,y.body=m.uploadData(),y.progressCallback=a||null,y.errorHandler=Zu(e),y}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah={STATE_CHANGED:"state_changed"},ch={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function lh(e){switch(e){case"running":case"pausing":case"canceling":return ch.RUNNING;case"paused":return ch.PAUSED;case"success":return ch.SUCCESS;case"canceled":return ch.CANCELED;case"error":default:return ch.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=su.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=su.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=su.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r){if(this.sent_)throw gu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const e in r)r.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,r[e].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gu("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw gu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class fh extends dh{initXhr(){this.xhr_.responseType="text"}}function ph(){return new fh}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class mh{constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=zu(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(ou.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(Iu(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=lu()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(ou.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const n=function(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s=nh(t,r,i),a={name:s.fullPath},c=Tu(o,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},u=Ku(s,n),h=e.maxUploadRetryTime,d=new Qu(c,"POST",(function(e){let t;oh(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){Ju(!1)}return Ju(bu(t)),t}),h);return d.urlParams=a,d.headers=l,d.body=u,d.errorHandler=Zu(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,ph,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,o=new Qu(n,"POST",(function(e){const t=oh(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){Ju(!1)}n||Ju(!1);const i=Number(n);return Ju(!isNaN(i)),new ih(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Zu(t),o}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,ph,t,n);this._request=i,i.getPromise().then(e=>{e=e,this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new ih(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((r,i)=>{let o;try{o=sh(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(e){return this._error=e,void this._transition("error")}const s=this._ref.storage._makeRequest(o,ph,r,i,!1);this._request=s,s.getPromise().then(e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){2*(262144*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const n=eh(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,ph,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const n=rh(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,ph,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=uu(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=lh(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new uh(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(lh(this._state)){case ch.SUCCESS:hh(this._resolve.bind(null,this.snapshot))();break;case ch.CANCELED:case ch.ERROR:hh(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(lh(this._state)){case ch.RUNNING:case ch.PAUSED:e.next&&hh(e.next.bind(e,this.snapshot))();break;case ch.SUCCESS:e.complete&&hh(e.complete.bind(e))();break;case ch.CANCELED:case ch.ERROR:e.error&&hh(e.error.bind(e,this._error))();break;default:e.error&&hh(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t){this._service=e,this._location=t instanceof yu?t:yu.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new gh(e,t)}get root(){const e=new yu(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Uu(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new yu(this._location.bucket,e);return new gh(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw pu(e)}}function yh(e){const t={prefixes:[],items:[]};return async function e(t,n,r){const i={pageToken:r},o=await vh(t,i);n.prefixes.push(...o.prefixes),n.items.push(...o.items),null!=o.nextPageToken&&await e(t,n,o.nextPageToken)}(e,t).then(()=>t)}function vh(e,t){null!=t&&"number"==typeof t.maxResults&&Eu("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=th(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,ph)}function bh(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=Tu(t.fullServerUrl(),e.host,e._protocol),o=Ku(n,r),s=e.maxOperationRetryTime,a=new Qu(i,"PATCH",Yu(e,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=$u(t),a}(e.storage,e._location,t,zu());return e.storage.makeRequestWithTokens(n,ph)}function wh(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Tu(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new Qu(r,"GET",Xu(e,n),i);return o.errorHandler=$u(t),o}(e.storage,e._location,zu());return e.storage.makeRequestWithTokens(t,ph).then(e=>{if(null===e)throw new iu(ou.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function _h(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=Tu(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Qu(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=$u(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,ph)}function Eh(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new yu(e._location.bucket,n);return new gh(e.storage,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(e,t){if(e instanceof kh){const n=e;if(null==n._bucket)throw new iu(ou.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const r=new gh(n,n._bucket);return null!=t?Th(r,t):r}return void 0!==t?Eh(e,t):e}function Sh(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof kh)return new gh(e,t);throw du("To use ref(service, url), the first argument must be a Storage instance.")}return Th(e,t)}function Ih(e,t){const n=null==t?void 0:t.storageBucket;return null==n?null:yu.makeFromBucketSpec(n,e)}class kh{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host="firebasestorage.googleapis.com",this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?yu.makeFromBucketSpec(r,this._host):Ih(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=yu.makeFromBucketSpec(this._url,e):this._bucket=Ih(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Eu("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Eu("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gh(this,e)}_makeRequest(e,t,n,r,i=!0){if(this._deleted)return new vu(fu());{const o=function(e,t,n,r,i,o,s=!0){const a=Su(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(l,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new ku(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}function Ah(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new mh(e,new Lu(t),n)}(e=Object(gi.z)(e),t,n)}function Ch(e){return function(e){e._throwIfRoot("getMetadata");const t=eh(e.storage,e._location,zu());return e.storage.makeRequestWithTokens(t,ph)}(e=Object(gi.z)(e))}function xh(e,t){return Sh(e=Object(gi.z)(e),t)}function Oh(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"==typeof i?i:Object(gi.n)(i,e.app.options.projectId))}(e,t,n,r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new kh(n,r,i,t,as.SDK_VERSION)}Object(as._registerComponent)(new yi.a("storage",Nh,"PUBLIC").setMultipleInstances(!0)),Object(as.registerVersion)("@firebase/storage","0.11.1",""),Object(as.registerVersion)("@firebase/storage","0.11.1","esm2017");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Rh{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Rh(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(t=>{if(e)return e(new Rh(t,this,this._ref))},t)}on(e,t,n,r){let i=void 0;return t&&(i="function"==typeof t?e=>t(new Rh(e,this,this._ref)):{next:t.next?e=>t.next(new Rh(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class Dh{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Mh(e,this._service))}get items(){return this._delegate.items.map(e=>new Mh(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return Eh(e,t)}(this._delegate,e);return new Mh(t,this.storage)}get root(){return new Mh(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Mh(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Ph(Ah(this._delegate,e,t),this)}putString(e,t=Nu.RAW,n){this._throwIfRoot("putString");const r=Pu(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Ph(new mh(this._delegate,new Lu(r.data,!0),i),this)}listAll(){return(e=this._delegate,yh(e=Object(gi.z)(e))).then(e=>new Dh(e,this.storage));var e}list(e){return function(e,t){return vh(e=Object(gi.z)(e),t)}(this._delegate,e||void 0).then(e=>new Dh(e,this.storage))}getMetadata(){return Ch(this._delegate)}updateMetadata(e){return function(e,t){return bh(e=Object(gi.z)(e),t)}(this._delegate,e)}getDownloadURL(){return e=this._delegate,wh(e=Object(gi.z)(e));var e}delete(){return this._throwIfRoot("delete"),e=this._delegate,_h(e=Object(gi.z)(e));var e}_throwIfRoot(e){if(""===this._delegate._location.path)throw pu(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Lh(e))throw du("ref() expected a child path but got a URL, use refFromURL instead.");return new Mh(xh(this._delegate,e),this)}refFromURL(e){if(!Lh(e))throw du("refFromURL() expected a full URL but got a child path, use ref() instead.");try{yu.makeFromUrl(e,this._delegate.host)}catch(e){throw du("refFromUrl() expected a valid full URL but got an invalid one.")}return new Mh(xh(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,n={}){Oh(this._delegate,e,t,n)}}function Lh(e){return/^[A-Za-z]+:\/\//.test(e)}function Fh(e,{instanceIdentifier:t}){const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("storage").getImmediate({identifier:t});return new jh(n,r)}!function(e){const t={TaskState:ch,TaskEvent:ah,StringFormat:Nu,Storage:jh,Reference:Mh};e.INTERNAL.registerComponent(new yi.a("storage-compat",Fh,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.1")}(pi.a);const Uh={"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."},Bh=new gi.b("performance","Performance",Uh),qh=new cs.b("Performance");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Vh,zh,Wh,Hh;qh.logLevel=cs.a.INFO;class Kh{constructor(e){if(this.window=e,!e)throw Bh.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){this.performance&&this.performance.mark&&this.performance.mark(e)}measure(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&Object(gi.e)()?!!Object(gi.G)()||(qh.info("IndexedDB is not supported by current browswer"),!1):(qh.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,t){if(!this.PerformanceObserver)return;new this.PerformanceObserver(e=>{for(const n of e.getEntries())t(n)}).observe({entryTypes:[e]})}static getInstance(){return void 0===Vh&&(Vh=new Kh(zh)),Vh}}function Gh(){return Wh}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Qh(e,t){const n=e.length-t.length;if(n<0||n>1)throw Bh.create("invalid String merger input");const r=[];for(let n=0;n<e.length;n++)r.push(e.charAt(n)),t.length>n&&r.push(t.charAt(n));return r.join("")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Qh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Qh("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===Hh&&(Hh=new Jh),Hh}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yh;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(Yh||(Yh={}));const Xh=["firebase_","google_","ga_"],Zh=new RegExp("^[a-zA-Z]\\w*$");function $h(){const e=Kh.getInstance().navigator;return(null==e?void 0:e.serviceWorker)?e.serviceWorker.controller?2:3:1}function ed(){switch(Kh.getInstance().document.visibilityState){case"visible":return Yh.VISIBLE;case"hidden":return Yh.HIDDEN;default:return Yh.UNKNOWN}}function td(){const e=Kh.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function nd(e){var t;const n=null===(t=e.options)||void 0===t?void 0:t.appId;if(!n)throw Bh.create("no app id");return n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const rd={loggingEnabled:!0};function id(e,t){const n=function(){const e=Kh.getInstance().localStorage;if(!e)return;const t=e.getItem("@firebase/performance/configexpire");if(!(t&&(n=t,Number(n)>Date.now())))return;var n;const r=e.getItem("@firebase/performance/config");if(!r)return;try{return JSON.parse(r)}catch(e){return}}();return n?(od(n),Promise.resolve()):function(e,t){return function(e){const t=e.getToken();return t.then(e=>{}),t}(e.installations).then(n=>{const r=function(e){var t;const n=null===(t=e.options)||void 0===t?void 0:t.projectId;if(!n)throw Bh.create("no project id");return n}(e.app),i=function(e){var t;const n=null===(t=e.options)||void 0===t?void 0:t.apiKey;if(!n)throw Bh.create("no api key");return n}(e.app),o=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+n},body:JSON.stringify({app_instance_id:t,app_instance_id_token:n,app_id:nd(e.app),app_version:"0.6.3",sdk_version:"0.0.1"})});return fetch(o).then(e=>{if(e.ok)return e.json();throw Bh.create("RC response not ok")})}).catch(()=>{qh.info("Could not fetch config, will use default configs")})}(e,t).then(od).then(e=>function(e){const t=Kh.getInstance().localStorage;if(!e||!t)return;t.setItem("@firebase/performance/config",JSON.stringify(e)),t.setItem("@firebase/performance/configexpire",String(Date.now()+60*Jh.getInstance().configTimeToLive*60*1e3))}(e),()=>{})}function od(e){if(!e)return e;const t=Jh.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=rd.loggingEnabled,n.fpr_log_source?t.logSource=Number(n.fpr_log_source):rd.logSource&&(t.logSource=rd.logSource),n.fpr_log_endpoint_url?t.logEndPointUrl=n.fpr_log_endpoint_url:rd.logEndPointUrl&&(t.logEndPointUrl=rd.logEndPointUrl),n.fpr_log_transport_key?t.transportKey=n.fpr_log_transport_key:rd.transportKey&&(t.transportKey=rd.transportKey),void 0!==n.fpr_vc_network_request_sampling_rate?t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):void 0!==rd.networkRequestsSamplingRate&&(t.networkRequestsSamplingRate=rd.networkRequestsSamplingRate),void 0!==n.fpr_vc_trace_sampling_rate?t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):void 0!==rd.tracesSamplingRate&&(t.tracesSamplingRate=rd.tracesSamplingRate),t.logTraceAfterSampling=sd(t.tracesSamplingRate),t.logNetworkAfterSampling=sd(t.networkRequestsSamplingRate),e}function sd(e){return Math.random()<=e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad,cd=1;function ld(e){return cd=2,ad=ad||function(e){return function(){const e=Kh.getInstance().document;return new Promise(t=>{if(e&&"complete"!==e.readyState){const n=()=>{"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}().then(()=>function(e){const t=e.getId();return t.then(e=>{Wh=e}),t}(e.installations)).then(t=>id(e,t)).then(()=>ud(),()=>ud())}(e),ad}function ud(){cd=3}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd,dd=3,fd=[],pd=!1;function md(e){setTimeout(()=>{if(0!==dd)return fd.length?void function(){const e=fd.splice(0,1e3),t=e.map(e=>({source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}));(function(e,t){return function(e){const t=Jh.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then(e=>(e.ok||qh.info("Call to Firebase backend failed."),e.json())).then(e=>{const n=Number(e.nextRequestWaitMillis);let r=1e4;isNaN(n)||(r=Math.max(n,r));const i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(fd=[...t,...fd],qh.info("Retry transport request later.")),dd=3,md(r)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Jh.getInstance().logSource,log_event:t},e).catch(()=>{fd=[...e,...fd],dd--,qh.info(`Tries left: ${dd}.`),md(1e4)})}():md(1e4)},e)}function gd(e){return(...t)=>{!function(e){if(!e.eventTime||!e.message)throw Bh.create("invalid cc log");fd=[...fd,e]}({message:e(...t),eventTime:Date.now()})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(e,t){hd||(hd=gd(wd)),hd(e,t)}function vd(e){const t=Jh.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&Kh.getInstance().requiredApisAvailable()&&(e.isAuto&&ed()!==Yh.VISIBLE||(3===cd?bd(e):ld(e.performanceController).then(()=>bd(e),()=>bd(e))))}function bd(e){if(!Gh())return;const t=Jh.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout(()=>yd(e,1),0)}function wd(e,t){return 0===t?function(e){const t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:_d(e.performanceController.app),network_request_metric:t};return JSON.stringify(n)}(e):function(e){const t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);const n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);const r={application_info:_d(e.performanceController.app),trace_metric:t};return JSON.stringify(r)}(e)}function _d(e){return{google_app_id:nd(e),app_instance_id:Gh(),web_app_info:{sdk_version:"0.6.3",page_url:Kh.getInstance().getUrl(),service_worker_status:$h(),visibility_state:ed(),effective_connection_type:td()},application_process_state:0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=["_fp","_fcp","_fid"];
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Td{constructor(e,t,n=!1,r){this.performanceController=e,this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=Kh.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=r||`FB-PERF-TRACE-MEASURE-${this.randomId}-${this.name}`,r&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw Bh.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw Bh.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),vd(this)}record(e,t,n){if(e<=0)throw Bh.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Bh.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Object.assign({},n.attributes)),n&&n.metrics)for(const e of Object.keys(n.metrics))isNaN(Number(n.metrics[e]))||(this.counters[e]=Math.floor(Number(n.metrics[e])));vd(this)}incrementMetric(e,t=1){void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)}putMetric(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith("_wt_")&&Ed.indexOf(n)>-1)&&n.startsWith("_"))throw Bh.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){const t=Math.floor(e);return t<e&&qh.info(`Metric value should be an Integer, setting the value as : ${t}.`),t}(null!=t?t:0)}getMetric(e){return this.counters[e]||0}putAttribute(e,t){const n=!(0===(r=e).length||r.length>40||Xh.some(e=>r.startsWith(e))||!r.match(Zh));var r;const i=function(e){return 0!==e.length&&e.length<=100}(t);if(n&&i)this.customAttributes[e]=t;else{if(!n)throw Bh.create("invalid attribute name",{attributeName:e});if(!i)throw Bh.create("invalid attribute value",{attributeValue:t})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,t,n,r){const i=Kh.getInstance().getUrl();if(!i)return;const o=new Td(e,"_wt_"+i,!0),s=Math.floor(1e3*Kh.getInstance().getTimeOrigin());o.setStartTime(s),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){const e=n.find(e=>"first-paint"===e.name);e&&e.startTime&&o.putMetric("_fp",Math.floor(1e3*e.startTime));const t=n.find(e=>"first-contentful-paint"===e.name);t&&t.startTime&&o.putMetric("_fcp",Math.floor(1e3*t.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}vd(o)}static createUserTimingTrace(e,t){vd(new Td(e,t,!1,t))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(e,t){const n=t;if(!n||void 0===n.responseStart)return;const r=Kh.getInstance().getTimeOrigin(),i=Math.floor(1e3*(n.startTime+r)),o=n.responseStart?Math.floor(1e3*(n.responseStart-n.startTime)):void 0,s=Math.floor(1e3*(n.responseEnd-n.startTime));!function(e){const t=Jh.getInstance();if(!t.instrumentationEnabled)return;const n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout(()=>yd(e,0),0)}({performanceController:e,url:n.name&&n.name.split("?")[0],responsePayloadBytes:n.transferSize,startTimeUs:i,timeToResponseInitiatedUs:o,timeToResponseCompletedUs:s})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(e){Gh()&&(setTimeout(()=>function(e){const t=Kh.getInstance(),n=t.getEntriesByType("navigation"),r=t.getEntriesByType("paint");if(t.onFirstInputDelay){let i=setTimeout(()=>{Td.createOobTrace(e,n,r),i=void 0},5e3);t.onFirstInputDelay(t=>{i&&(clearTimeout(i),Td.createOobTrace(e,n,r,t))})}else Td.createOobTrace(e,n,r)}(e),0),setTimeout(()=>function(e){const t=Kh.getInstance(),n=t.getEntriesByType("resource");for(const t of n)Sd(e,t);t.setupObserver("resource",t=>Sd(e,t))}(e),0),setTimeout(()=>function(e){const t=Kh.getInstance(),n=t.getEntriesByType("measure");for(const t of n)kd(e,t);t.setupObserver("measure",t=>kd(e,t))}(e),0))}function kd(e,t){const n=t.name;"FB-PERF-TRACE-MEASURE"!==n.substring(0,"FB-PERF-TRACE-MEASURE".length)&&Td.createUserTimingTrace(e,n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t){this.app=e,this.installations=t,this.initialized=!1}_init(e){this.initialized||(void 0!==(null==e?void 0:e.dataCollectionEnabled)&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==(null==e?void 0:e.instrumentationEnabled)&&(this.instrumentationEnabled=e.instrumentationEnabled),Kh.getInstance().requiredApisAvailable()?Object(gi.ab)().then(e=>{e&&(pd||(md(5500),pd=!0),ld(this).then(()=>Id(this),()=>Id(this)),this.initialized=!0)}).catch(e=>{qh.info("Environment doesn't support IndexedDB: "+e)}):qh.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){Jh.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return Jh.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){Jh.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return Jh.getInstance().dataCollectionEnabled}}const Cd=(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==n.name)throw Bh.create("FB not default");if("undefined"==typeof window)throw Bh.create("no window");!function(e){zh=e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(window);const i=new Ad(n,r);return i._init(t),i};Object(as._registerComponent)(new yi.a("performance",Cd,"PUBLIC")),Object(as.registerVersion)("@firebase/performance","0.6.3"),Object(as.registerVersion)("@firebase/performance","0.6.3","esm2017");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class xd{constructor(e,t){this.app=e,this._delegate=t}get instrumentationEnabled(){return this._delegate.instrumentationEnabled}set instrumentationEnabled(e){this._delegate.instrumentationEnabled=e}get dataCollectionEnabled(){return this._delegate.dataCollectionEnabled}set dataCollectionEnabled(e){this._delegate.dataCollectionEnabled=e}trace(e){return t=this._delegate,n=e,t=Object(gi.z)(t),new Td(t,n);var t,n}}function Od(e){const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("performance").getImmediate();return new xd(t,n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Nd;(Nd=pi.a).INTERNAL.registerComponent(new yi.a("performance-compat",Od,"PUBLIC")),Nd.registerVersion("@firebase/performance-compat","0.2.3");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Rd{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd={"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"},Dd=new gi.b("remoteconfig","Remote Config",Pd);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Md=["1","true","t","yes","y","on"];class jd{constructor(e,t=""){this._source=e,this._value=t}asString(){return this._value}asBoolean(){return"static"!==this._source&&Md.indexOf(this._value.toLowerCase())>=0}asNumber(){if("static"===this._source)return 0;let e=Number(this._value);return isNaN(e)&&(e=0),e}getSource(){return this._source}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ld(e){const t=Object(gi.z)(e),[n,r]=await Promise.all([t._storage.getLastSuccessfulFetchResponse(),t._storage.getActiveConfigEtag()]);return!!(n&&n.config&&n.eTag&&n.eTag!==r)&&(await Promise.all([t._storageCache.setActiveConfig(n.config),t._storage.setActiveConfigEtag(n.eTag)]),!0)}function Fd(e){const t=Object(gi.z)(e);return t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0})),t._initializePromise}async function Ud(e){const t=Object(gi.z)(e),n=new Rd;setTimeout(async()=>{n.abort()},t.settings.fetchTimeoutMillis);try{await t._client.fetch({cacheMaxAgeMillis:t.settings.minimumFetchIntervalMillis,signal:n}),await t._storageCache.setLastFetchStatus("success")}catch(e){const n=function(e,t){return e instanceof gi.c&&-1!==e.code.indexOf(t)}(e,"fetch-throttle")?"throttle":"failure";throw await t._storageCache.setLastFetchStatus(n),e}}function Bd(e){const t=Object(gi.z)(e);return function(e={},t={}){return Object.keys(Object.assign(Object.assign({},e),t))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t._storageCache.getActiveConfig(),t.defaultConfig).reduce((t,n)=>(t[n]=qd(e,n),t),{})}function qd(e,t){const n=Object(gi.z)(e);n._isInitializationComplete||n._logger.debug(`A value was requested for key "${t}" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.`);const r=n._storageCache.getActiveConfig();return r&&void 0!==r[t]?new jd("remote",r[t]):n.defaultConfig&&void 0!==n.defaultConfig[t]?new jd("default",String(n.defaultConfig[t])):(n._logger.debug(`Returning static value for key "${t}". Define a default or remote value if this is unintentional.`),new jd("static"))}class Vd{constructor(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,r=n<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}async fetch(e){const[t,n]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(n&&this.isCachedDataFresh(e.cacheMaxAgeMillis,t))return n;e.eTag=n&&n.eTag;const r=await this.client.fetch(e),i=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===r.status&&i.push(this.storage.setLastSuccessfulFetchResponse(r)),await Promise.all(i),r}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(e=navigator){return e.languages&&e.languages[0]||e.language}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}async fetch(e){const[t,n]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),r=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,i={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},o={sdk_version:this.sdkVersion,app_instance_id:t,app_instance_id_token:n,app_id:this.appId,language_code:zd()},s={method:"POST",headers:i,body:JSON.stringify(o)},a=fetch(r,s),c=new Promise((t,n)=>{e.signal.addEventListener(()=>{const e=new Error("The operation was aborted.");e.name="AbortError",n(e)})});let l;try{await Promise.race([a,c]),l=await a}catch(e){let t="fetch-client-network";throw"AbortError"===(null==e?void 0:e.name)&&(t="fetch-timeout"),Dd.create(t,{originalErrorMessage:null==e?void 0:e.message})}let u=l.status;const h=l.headers.get("ETag")||void 0;let d,f;if(200===l.status){let e;try{e=await l.json()}catch(e){throw Dd.create("fetch-client-parse",{originalErrorMessage:null==e?void 0:e.message})}d=e.entries,f=e.state}if("INSTANCE_STATE_UNSPECIFIED"===f?u=500:"NO_CHANGE"===f?u=304:"NO_TEMPLATE"!==f&&"EMPTY_CONFIG"!==f||(d={}),304!==u&&200!==u)throw Dd.create("fetch-status",{httpStatus:u});return{status:u,eTag:h,config:d}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,t){this.client=e,this.storage=t}async fetch(e){const t=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,t)}async attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:n}){await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(Dd.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(e.signal,t);try{const t=await this.client.fetch(e);return await this.storage.deleteThrottleMetadata(),t}catch(t){if(!function(e){if(!(e instanceof gi.c&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t))throw t;const r={throttleEndTimeMillis:Date.now()+Object(gi.l)(n),backoffCount:n+1};return await this.storage.setThrottleMetadata(r),this.attemptFetch(e,r)}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(e,t){const n=e.target.error||void 0;return Dd.create(t,{originalErrorMessage:n&&(null==n?void 0:n.message)})}class Qd{constructor(e,t,n,r=function(){return new Promise((e,t)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=e=>{t(Gd(e,"storage-open"))},n.onsuccess=t=>{e(t.target.result)},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}catch(e){t(Dd.create("storage-open",{originalErrorMessage:null==e?void 0:e.message}))}})}()){this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}async get(e){const t=await this.openDbPromise;return new Promise((n,r)=>{const i=t.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),o=this.createCompositeKey(e);try{const e=i.get(o);e.onerror=e=>{r(Gd(e,"storage-get"))},e.onsuccess=e=>{const t=e.target.result;n(t?t.value:void 0)}}catch(e){r(Dd.create("storage-get",{originalErrorMessage:null==e?void 0:e.message}))}})}async set(e,t){const n=await this.openDbPromise;return new Promise((r,i)=>{const o=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=this.createCompositeKey(e);try{const e=o.put({compositeKey:s,value:t});e.onerror=e=>{i(Gd(e,"storage-set"))},e.onsuccess=()=>{r()}}catch(e){i(Dd.create("storage-set",{originalErrorMessage:null==e?void 0:e.message}))}})}async delete(e){const t=await this.openDbPromise;return new Promise((n,r)=>{const i=t.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),o=this.createCompositeKey(e);try{const e=i.delete(o);e.onerror=e=>{r(Gd(e,"storage-delete"))},e.onsuccess=()=>{n()}}catch(e){r(Dd.create("storage-delete",{originalErrorMessage:null==e?void 0:e.message}))}})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}async loadFromStorage(){const e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),r=await e;r&&(this.lastFetchStatus=r);const i=await t;i&&(this.lastSuccessfulFetchTimestampMillis=i);const o=await n;o&&(this.activeConfig=o)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(){if(!Object(gi.G)())return!1;try{return await Object(gi.ab)()}catch(e){return!1}}Object(as._registerComponent)(new yi.a("remote-config",(function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Dd.create("registration-window");if(!Object(gi.G)())throw Dd.create("indexed-db-unavailable");const{projectId:i,apiKey:o,appId:s}=n.options;if(!i)throw Dd.create("registration-project-id");if(!o)throw Dd.create("registration-api-key");if(!s)throw Dd.create("registration-app-id");t=t||"firebase";const a=new Qd(s,n.name,t),c=new Jd(a),l=new cs.b("@firebase/remote-config");l.logLevel=cs.a.ERROR;const u=new Wd(r,as.SDK_VERSION,t,i,o,s),h=new Hd(u,a),d=new Vd(h,a,c,l),f=new Kd(n,d,c,a,l);return Fd(f),f}),"PUBLIC").setMultipleInstances(!0)),Object(as.registerVersion)("@firebase/remote-config","0.4.3"),Object(as.registerVersion)("@firebase/remote-config","0.4.3","esm2017");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xd{constructor(e,t){this.app=e,this._delegate=t}get defaultConfig(){return this._delegate.defaultConfig}set defaultConfig(e){this._delegate.defaultConfig=e}get fetchTimeMillis(){return this._delegate.fetchTimeMillis}get lastFetchStatus(){return this._delegate.lastFetchStatus}get settings(){return this._delegate.settings}set settings(e){this._delegate.settings=e}activate(){return Ld(this._delegate)}ensureInitialized(){return Fd(this._delegate)}fetch(){return Ud(this._delegate)}fetchAndActivate(){
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(e){return e=Object(gi.z)(e),await Ud(e),Ld(e)}(this._delegate)}getAll(){return Bd(this._delegate)}getBoolean(e){return function(e,t){return qd(Object(gi.z)(e),t).asBoolean()}(this._delegate,e)}getNumber(e){return function(e,t){return qd(Object(gi.z)(e),t).asNumber()}(this._delegate,e)}getString(e){return function(e,t){return qd(Object(gi.z)(e),t).asString()}(this._delegate,e)}getValue(e){return qd(this._delegate,e)}setLogLevel(e){!function(e,t){const n=Object(gi.z)(e);switch(t){case"debug":n._logger.logLevel=cs.a.DEBUG;break;case"silent":n._logger.logLevel=cs.a.SILENT;break;default:n._logger.logLevel=cs.a.ERROR}}(this._delegate,e)}}function Zd(e,{instanceIdentifier:t}){const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("remote-config").getImmediate({identifier:t});return new Xd(n,r)}!
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){e.INTERNAL.registerComponent(new yi.a("remoteConfig-compat",Zd,"PUBLIC").setMultipleInstances(!0).setServiceProps({isSupported:Yd})),e.registerVersion("@firebase/remote-config-compat","0.2.3")}(pi.a);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
pi.a.registerVersion("firebase","9.17.1","app-compat");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),pi.a.registerVersion("firebase","9.17.1","compat");var $d=function(){var e=g(F),t=Object(r.useState)(!1),n=q()(t,2),o=n[0],s=n[1],a=Object(r.useState)(""),c=q()(a,2),l=c[0],u=c[1],h=Object(r.useState)(""),d=q()(h,2),f=d[0],p=d[1],m=l.length<4;return i.a.createElement("div",{className:"qheader"},i.a.createElement("div",{className:"qheader_logo"},i.a.createElement("img",{src:"data:image/png;base64,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",alt:""})),i.a.createElement("div",{className:"qheader_icons"},i.a.createElement("div",{className:"qheader_icon"},i.a.createElement(uo,null)),i.a.createElement("div",{className:"qheader_icon"},i.a.createElement(ho,null)),i.a.createElement("div",{className:"qheader_icon"},i.a.createElement(fo,null)),i.a.createElement("div",{className:"qheader_icon"},i.a.createElement(po,null)),i.a.createElement("div",{className:"qheader_icon"},i.a.createElement(mo,null))),i.a.createElement("div",{className:"qheader_search"},i.a.createElement(go,null),i.a.createElement("input",{type:"text",placeholder:"Search Quora"})),i.a.createElement("div",{className:"qHeader_rem"},i.a.createElement(Zi,{onClick:function(){return Ki.signOut()},src:e.photo}),i.a.createElement(yo,null),i.a.createElement(Go,{onClick:function(){return s(!0)}},"Add Question"),i.a.createElement(so.a,{ariaHideApp:!1,isOpen:o,onRequestClose:function(){return s(!1)},shouldCloseOnOverlayClick:!1,style:{overlay:{width:700,height:600,backgroundColor:"rgba(0,0,0,0.8)",zIndex:"1000",top:"50%",left:"50%",marginTop:"-300px",marginLeft:"-350px"}}},i.a.createElement("div",{className:"modal-title"},i.a.createElement("div",{className:"heading"},i.a.createElement("h5",null,"Question"),i.a.createElement("h5",null,"Share Link")),i.a.createElement("div",{className:"modal-info"},i.a.createElement(Zi,{className:"avatar",src:e.photo}),i.a.createElement("p",null,e.displayName?e.displayName:e.email," asked"),i.a.createElement("div",{className:"modal-scope"},i.a.createElement(po,null),i.a.createElement("p",null,"Public"),i.a.createElement(vo,null))),i.a.createElement("div",{className:"modal-field"},i.a.createElement(os,{required:!0,value:l,onChange:function(e){u(e.target.value)},type:"text",placeholder:"Start your question with 'What','Why','How'"}),i.a.createElement("div",{className:"modal-fieldLink"},i.a.createElement(ss,null),i.a.createElement(os,{value:f,onChange:function(e){p(e.target.value)},type:"text",placeholder:"Optional : include a link that give context"}))),i.a.createElement("div",{className:"modal-btn"},i.a.createElement("button",{onClick:function(){return s(!1)},className:"cancle"},"Cancle"),i.a.createElement("button",{type:"submit",className:"add",disabled:m,onClick:function(t){s(!1),Qi.collection("questions").add({question:l,imgUrl:f,timestamp:pi.a.firestore.FieldValue.serverTimestamp(),user:e}),u(""),p("")}},"Add Question"),i.a.createElement("span",null,0===l.length?i.a.createElement("div",null,"type somethng "):i.a.createElement("div",null)))))))},ef=(n(91),di(r.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})));n(93);var tf=function(){return i.a.createElement("div",{className:"sidebarOptions"},i.a.createElement("div",{className:"sidebarOption"},i.a.createElement("img",{src:"src\\Images\\History.jpg",alt:"History"}),i.a.createElement("p",null,"History")),i.a.createElement("div",{className:"sidebarOption"},i.a.createElement("img",{src:"src\\Images\\buisness.jpg",alt:"Business"}),i.a.createElement("p",null,"Business")),i.a.createElement("div",{className:"sidebarOption"},i.a.createElement("img",{src:"src\\Images\\psychology.jpg",alt:"Psychology"}),i.a.createElement("p",null,"Psychology")),i.a.createElement("div",{className:"sidebarOption"},i.a.createElement("img",{src:"src\\Images\\cooking.jpg",alt:"Cooking"}),i.a.createElement("p",null,"Cooking")),i.a.createElement("div",{className:"sidebarOption"},i.a.createElement("img",{src:"src\\Images\\Music.jpg",alt:"Music"}),i.a.createElement("p",null,"Music")),i.a.createElement("div",{className:"sidebarOption"},i.a.createElement("img",{src:"src\\Images\\Science.jpg",alt:"Science"}),i.a.createElement("p",null,"Science")),i.a.createElement("div",{className:"sidebarOption"},i.a.createElement("img",{src:"src\\Images\\health.jpg",alt:"Health"}),i.a.createElement("p",null,"Health")),i.a.createElement("div",{className:"sidebarOption"},i.a.createElement("img",{src:"src\\Images\\movies.jpg",alt:"Movies"}),i.a.createElement("p",null,"Movies")),i.a.createElement("div",{className:"sidebarOption"},i.a.createElement("img",{src:"src\\Images\\Technology.jpg",alt:"Technology"}),i.a.createElement("p",null,"Technology")),i.a.createElement("div",{className:"sidebarOption"},i.a.createElement("img",{src:"src\\Images\\Education.jpg",alt:"Education"}),i.a.createElement("p",null,"Education")),i.a.createElement("div",{className:"sidebarOption"},i.a.createElement(ef,null),i.a.createElement("p",{className:"text"},"Discover Spaces")))};var nf=function(){return i.a.createElement("div",{className:"sidebar"},i.a.createElement(tf,null))};n(95),n(97);var rf=function(){return i.a.createElement("div",{className:"widget-contents"},i.a.createElement("div",{className:"widget-content"},i.a.createElement("img",{src:"data:image/webp;base64,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",alt:"image"}),i.a.createElement("div",{className:"widget-contentTitle"},i.a.createElement("h5",null,"Mobile App Programer"),i.a.createElement("p",null,"The best Mobile App developer company"))),i.a.createElement("div",{className:"widget-content"},i.a.createElement("img",{src:"data:image/jpeg;base64,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",alt:"doble inverted commas in a circle"}),i.a.createElement("div",{className:"widget-contentTitle"},i.a.createElement("h5",null,"Quota of Quotes"),i.a.createElement("p",null,"Daily dasage of unforgettable lines from ..."))),i.a.createElement("div",{className:"widget-content"},i.a.createElement("img",{src:"data:image/jpeg;base64,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",alt:"painting"}),i.a.createElement("div",{className:"widget-contentTitle"},i.a.createElement("h5",null,"Art & Artist"),i.a.createElement("p",null,"A Space retated to creating , practicing an.."))),i.a.createElement("div",{className:"widget-content"},i.a.createElement("img",{src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4QEkRXhpZgAASUkqAAgAAAABAA4BAgACAQAAGgAAAAAAAAAoRWluZ2VzY2hyP25rdGUgUmVjaHRlIGY/ciBiZXN0aW1tdGUgcmVkYWt0aW9uZWxsZSBLdW5kZW4gaW4gRGV1dHNjaGxhbmQuIExpbWl0ZWQgcmlnaHRzIGZvciBzcGVjaWZpYyBlZGl0b3JpYWwgY2xpZW50cyBpbiBHZXJtYW55LikgKjE1LjEwLjE4NDQtMjUuMDguMTkwMCtQaGlsb3NvcGgsIFNjaHJpZnRzdGVsbGVyLCBEUG9ydHI/dC0gdW5kYXRpZXJ0IChQaG90byBieSB1bGxzdGVpbiBiaWxkL3VsbHN0ZWluIGJpbGQgdmlhIEdldHR5IEltYWdlcyn/7QFgUGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAUQcAlAAEnVsbHN0ZWluIGJpbGQgRHRsLhwCeAEFKEVpbmdlc2NocsOkbmt0ZSBSZWNodGUgZsO8ciBiZXN0aW1tdGUgcmVkYWt0aW9uZWxsZSBLdW5kZW4gaW4gRGV1dHNjaGxhbmQuIExpbWl0ZWQgcmlnaHRzIGZvciBzcGVjaWZpYyBlZGl0b3JpYWwgY2xpZW50cyBpbiBHZXJtYW55LikgKjE1LjEwLjE4NDQtMjUuMDguMTkwMCtQaGlsb3NvcGgsIFNjaHJpZnRzdGVsbGVyLCBEUG9ydHLDpHQtIHVuZGF0aWVydCAoUGhvdG8gYnkgdWxsc3RlaW4gYmlsZC91bGxzdGVpbiBiaWxkIHZpYSBHZXR0eSBJbWFnZXMpHAJuAB51bGxzdGVpbiBiaWxkIHZpYSBHZXR0eSBJbWFnZXP/4QUtaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwAJPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KCQk8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOklwdGM0eG1wQ29yZT0iaHR0cDovL2lwdGMub3JnL3N0ZC9JcHRjNHhtcENvcmUvMS4wL3htbG5zLyIgICB4bWxuczpHZXR0eUltYWdlc0dJRlQ9Imh0dHA6Ly94bXAuZ2V0dHlpbWFnZXMuY29tL2dpZnQvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwbHVzPSJodHRwOi8vbnMudXNlcGx1cy5vcmcvbGRmL3htcC8xLjAvIiAgeG1sbnM6aXB0Y0V4dD0iaHR0cDovL2lwdGMub3JnL3N0ZC9JcHRjNHhtcEV4dC8yMDA4LTAyLTI5LyIgeG1sbnM6eG1wUmlnaHRzPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvcmlnaHRzLyIgcGhvdG9zaG9wOkNyZWRpdD0idWxsc3RlaW4gYmlsZCB2aWEgR2V0dHkgSW1hZ2VzIiBwbHVzOkxpY3NlbnNvclVSTD0iaHR0cHM6Ly93d3cuZ2V0dHlpbWFnZXMuY29tL2RldGFpbC81NDEwODQ1MDM/dXRtX21lZGl1bT1vcmdhbmljJmFtcDt1dG1fc291cmNlPWdvb2dsZSZhbXA7dXRtX2NhbXBhaWduPWlwdGN1cmwiIEdldHR5SW1hZ2VzR0lGVDpBc3NldElEPSI1NDEwODQ1MDMiIHhtcFJpZ2h0czpXZWJTdGF0ZW1lbnQ9Imh0dHBzOi8vd3d3LmdldHR5aW1hZ2VzLmNvbS9ldWxhP3V0bV9tZWRpdW09b3JnYW5pYyZhbXA7dXRtX3NvdXJjZT1nb29nbGUmYW1wO3V0bV9jYW1wYWlnbj1pcHRjdXJsIiA+CjxkYzpjcmVhdG9yPjxyZGY6U2VxPjxyZGY6bGk+dWxsc3RlaW4gYmlsZCBEdGwuPC9yZGY6bGk+PC9yZGY6U2VxPjwvZGM6Y3JlYXRvcj48ZGM6ZGVzY3JpcHRpb24+PHJkZjpBbHQ+PHJkZjpsaSB4bWw6bGFuZz0ieC1kZWZhdWx0Ij4oRWluZ2VzY2hyw6Rua3RlIFJlY2h0ZSBmw7xyIGJlc3RpbW10ZSByZWRha3Rpb25lbGxlIEt1bmRlbiBpbiBEZXV0c2NobGFuZC4gTGltaXRlZCByaWdodHMgZm9yIHNwZWNpZmljIGVkaXRvcmlhbCBjbGllbnRzIGluIEdlcm1hbnkuKSAq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",alt:"Friedrich Nietzche"}),i.a.createElement("div",{className:"widget-contentTitle"},i.a.createElement("h5",null,"Friedrich Nietzche"),i.a.createElement("p",null,"A Space dedicated to greate work of Friedrich..."))),i.a.createElement("div",{className:"widget-content"},i.a.createElement("img",{src:"data:image/png;base64,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",alt:"Stock Market Strategies "}),i.a.createElement("div",{className:"widget-contentTitle"},i.a.createElement("h5",null,"Stock Market Strategies"),i.a.createElement("p",null,"Everyting about investing in stock..."))),i.a.createElement("div",{className:"widget-content"},i.a.createElement("img",{src:"data:image/jpeg;base64,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",alt:"architecture"}),i.a.createElement("div",{className:"widget-contentTitle"},i.a.createElement("h5",null,"Architecture world"),i.a.createElement("p",null,"All About civil architecture..."))))};var of=function(){return i.a.createElement("div",{className:"widget"},i.a.createElement("div",{className:"widget-header"},i.a.createElement("h5",null,"Spaces to follow")),i.a.createElement(rf,null))};var sf=function(){return i.a.createElement("div",null,i.a.createElement($d,null),i.a.createElement("div",{className:"quora__content"},i.a.createElement(nf,null),i.a.createElement(lo,null),i.a.createElement(of,null)))},af=function(){var e=O(),t=g(F);return Object(r.useEffect)((function(){Ki.onAuthStateChanged((function(t){t?(e(j({uid:t.uid,photo:t.photoURL,displayName:t.displayName,email:t.email})),console.log(t)):e(L())}))}),[e]),t?i.a.createElement(sf,null):i.a.createElement(Ji,null)},cf=Object(P.b)({name:"question",initialState:{questionId:null,questionName:null},reducers:{setQuestionInfo:function(e,t){e.questionId=t.payload.questionId,e.questionName=t.payload}}}),lf=(cf.actions.setQuestionInfo,cf.reducer),uf=Object(P.a)({reducer:{user:U,question:lf}});s.a.render(i.a.createElement(k,{store:uf},i.a.createElement(af,null)),document.getElementById("root"))}]);